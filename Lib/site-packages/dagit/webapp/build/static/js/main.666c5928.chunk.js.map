{"version":3,"sources":["../../core/src/app/AppContext.tsx","../../core/src/schedules/TimestampDisplay.tsx","../../core/src/app/time/Timestamp.tsx","../../core/src/app/time/TimezoneContext.tsx","../../core/src/nav/ReloadRepositoryLocationButton.tsx","../../core/src/ui/SwitchWithoutLabel.tsx","../../core/src/ui/MetadataTable.tsx","../../core/src/app/time/timestampToString.tsx","../../core/src/schedules/ScheduleMutations.tsx","../../core/src/sensors/SensorMutations.tsx","../../core/src/workspace/repoAddressToSelector.tsx","../../core/src/app/LocalStorage.tsx","../../core/src/ui/Colors.tsx","../../core/src/app/WebSocketProvider.tsx","../../core/src/runs/TimeElapsed.tsx","../../core/src/app/time/TimestampFormat.tsx","../../core/src/runs/RunUtils.tsx","../../core/src/pipelines/PipelinePathUtils.tsx","../../core/src/runs/RunStatuses.tsx","../../core/src/ui/Icon.tsx","../../core/src/runs/RunDetails.tsx","../../core/src/schedules/ScheduleSwitch.tsx","../../core/src/ui/Box.tsx","../../core/src/sensors/SensorSwitch.tsx","../../core/src/ui/Markdown.tsx","../../core/src/ui/Tag.tsx","../../core/src/ui/Table.tsx","../../core/src/ui/PageHeader.tsx","../../core/src/instance/InstanceHealthFragment.tsx","../../core/src/runs/MetadataEntry.tsx","../../core/src/workspace/RepositoryInformation.tsx","../../core/src/ui/Group.tsx","../../core/src/ui/HighlightedCodeBlock.tsx","../../core/src/runs/RunStatusDots.tsx","../../core/src/app/time/browserTimezone.ts","../../core/src/nav/RepositoryLink.tsx","../../core/src/app/CustomConfirmationProvider.tsx","../../core/src/workspace/findRepoContainingPipeline.ts","../../core/src/runs/RunTags.tsx","../../core/src/types/globalTypes.ts","../../core/src/nav/PipelineNav.tsx","../../core/src/workspace/repoAddressFromPath.ts","../../core/src/nav/JobMetadata.tsx","../../core/src/runs/RunStats.tsx","../../core/src/workspace/RepositoryLocationErrorDialog.tsx","../../core/src/nav/useRepositoryLocationReload.tsx","../../core/src/ui/Trace.tsx","../../core/src/instance/DaemonHealth.tsx","../../core/src/instance/DaemonList.tsx","../../core/src/workspace/workspacePath.ts","../../core/src/app/PythonErrorInfo.tsx","../../core/src/workspace/buildRepoAddress.ts","../../core/src/ui/styles.ts","../../core/src/app/Flags.tsx","../../core/src/workspace/WorkspaceContext.tsx","../../core/src/app/Permissions.tsx","extractPathPrefix.ts","publicPath.ts","../../core/src/app/LayoutProvider.tsx","../../core/src/nav/WarningTooltip.tsx","../../core/src/nav/InstanceWarningIcon.tsx","../../core/src/nav/RepositoryContentList.tsx","../../core/src/nav/FlatContentList.tsx","../../core/src/nav/InstigationList.tsx","../../core/src/nav/RepoSelector.tsx","../../core/src/nav/RepoNavItem.tsx","../../core/src/nav/RepositoryLocationStateObserver.tsx","../../core/src/nav/LeftNavRepositorySection.tsx","../../core/src/nav/WorkspaceWarningIcon.tsx","../../core/src/nav/LeftNav.tsx","../../core/src/app/App.tsx","../../core/src/app/AppError.tsx","../../core/src/ui/Popover.tsx","../../core/src/ui/Tooltip.tsx","../../core/src/app/CustomTooltipProvider.tsx","../../core/src/app/AppProvider.tsx","../../core/src/search/types.ts","../../core/src/nav/VersionNumber.tsx","../../core/src/search/SearchResults.tsx","../../core/src/search/useRepoSearch.tsx","../../core/src/search/SearchDialog.tsx","../../core/src/app/AppTopNav.tsx","../../core/src/images/nav-logo-icon.png","../../core/src/images/nav-title.png","../../core/src/app/FallthroughRoot.tsx","../../core/src/app/ContentRoot.tsx","../../core/src/app/apolloLinks.tsx","index.tsx","../../core/src/app/AppCache.tsx","../../core/src/app/ShortcutHandler.tsx","../../core/src/ui/Spinner.tsx","../../core/src/app/CustomAlertProvider.tsx","../../core/src/ui/ButtonLink.tsx","../../core/src/app/Util.tsx","../../core/src/ui/Text.tsx","../../core/src/workspace/repoAddressAsString.ts","../../core/src/runs/RunTag.tsx","../../core/src/app/DomUtils.tsx"],"names":["AppContext","React","basePath","rootServerURI","TimestampDisplay","props","timestamp","timezone","timeFormat","tooltipTimeFormat","TimezoneContext","userTimezone","locale","navigator","language","direction","spacing","alignItems","wrap","TabularNums","timestampToString","unix","TimestampTooltip","content","name","color","ColorsWIP","Gray400","defaultProps","DEFAULT_TIME_FORMAT","showSeconds","showTimezone","styled","div","Tooltip","Timestamp","TimezoneStorageKey","TimezoneProvider","window","localStorage","getItem","value","setValue","onChange","tz","setItem","provided","Provider","children","ReloadRepositoryLocationButton","location","shown","setShown","useRepositoryLocationReload","reloading","error","tryReload","isOpen","onTryReload","onDismiss","href","SwitchWithoutLabel","Switch","MetadataTable","rows","StyledTable","map","pair","key","padding","vertical","right","MetadataKey","table","Colors","GRAY1","config","m","moment","ms","targetTimezone","browserTimezone","sameYear","Date","now","year","toDate","toLocaleDateString","month","day","undefined","hour","minute","second","timeZone","timeZoneName","START_SCHEDULE_MUTATION","gql","STOP_SCHEDULE_MUTATION","displayScheduleMutationErrors","data","startSchedule","__typename","stopRunningSchedule","showCustomAlert","title","body","START_SENSOR_MUTATION","STOP_SENSOR_MUTATION","displaySensorMutationErrors","startSensor","stopSensor","repoAddressToSelector","memoize","repoAddress","repositoryName","repositoryLocationName","ExecutionType","applySelectSession","current","applyRemoveSession","next","sessions","idx","Object","keys","indexOf","remaining","applyChangesToSession","changes","saved","runConfigYaml","runId","configChangedSinceRun","selectedExecutionType","applyCreateSession","initial","mode","base","needsRefresh","solidSelection","solidSelectionQuery","tags","_data","_dataNamespace","getKey","namespace","getJSONForKey","jsonString","JSON","parse","err","getStorageDataForNamespace","assign","length","writeStorageDataForNamespace","stringify","useStorage","pipelineName","version","setVersion","onSave","newData","useInvalidateConfigsForRepo","repositories","forEach","repo","pipelines","pipeline","withBase","filter","sessionKey","reduce","accum","Dark","White","Gray900","Gray800","Gray700","Gray600","Gray500","Gray300","Gray200","Gray100","Gray50","Gray10","Blue700","Blue500","Blue200","Blue50","Red700","Red500","Red200","Red50","Yellow700","Yellow500","Yellow200","Yellow50","Green700","Green500","Green200","Green50","Olive700","Olive500","Olive200","Olive50","ForestGreen","HighlightGreen","HighlightRed","NeonGreen","LightPurple","Link","WebSocketContext","availability","status","WebSocket","CONNECTING","WS_EVENTS","WebSocketProvider","websocketClient","setStatus","setAvailability","debouncedSetter","debounce","availabilityListeners","onConnected","setAndUnlisten","onError","unlisten","u","statusListeners","eventName","on","Circle","WebSocketStatus","Consumer","style","background","GREEN5","OPEN","GREEN3","CLOSING","GRAY3","TimeElapsed","startUnix","endUnix","endTime","setEndTime","interval","timeout","clearTimers","clearInterval","clearTimeout","setTimeout","setInterval","startTime","fontVariantNumeric","formatElapsedTime","titleForRun","run","split","shift","RunsQueryRefetchContext","refetch","handleLaunchResult","result","openInTab","obj","launchPipelineExecution","launchPipelineReexecution","url","open","message","errors","join","getBaseExecutionMetadata","hiddenTagKeys","DagsterTag","IsResumeRetry","StepSelection","parentRunId","rootRunId","tag","includes","ParentRunId","RootRunId","getReexecutionVariables","input","executionParams","runConfigData","yaml","executionMetadata","selector","type","push","stepKeys","selection","query","LAUNCH_PIPELINE_EXECUTION_MUTATION","DELETE_MUTATION","TERMINATE_MUTATION","LAUNCH_PIPELINE_REEXECUTION_MUTATION","RunTime","stats","launchTime","enqueuedTime","PipelineRunStatus","FAILURE","CANCELED","CANCELING","RunElapsed","RUN_TIME_FRAGMENT","PYTHON_ERROR_FRAGMENT","explorerPathToString","path","root","snapshotId","pipelineMode","solidsQuery","pathSolids","explorerPathFromString","match","exec","useStripSnapshotFromPath","params","history","useHistory","pipelinePath","useEffect","rest","replace","pathname","RegExp","useEnforceModeInPipelinePath","options","useRepositoryOptions","useRouteMatch","repoPath","urlMatch","repoAddressFromPath","find","o","repository","repositoryLocation","p","modes","PipelineSnapshotLink","snapshotLink","to","slice","queuedStatuses","Set","QUEUED","inProgressStatuses","STARTED","STARTING","successStatuses","SUCCESS","failedStatuses","canceledStatuses","doneStatuses","IconWIP","size","IconWrapper","$size","$color","className","span","createGlobalStyle","timingStringForStatus","NOT_STARTED","LoadingOrValue","loading","TIME_FORMAT","RunDetails","RunConfigDialog","showDialog","setShowDialog","text","icon","onClick","position","onClose","width","Classes","DIALOG_BODY","fontSize","fontWeight","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","intent","RUN_DETAILS_FRAGMENT","ScheduleSwitch","large","schedule","scheduleState","id","usePermissions","canStartSchedule","canStopRunningSchedule","useMutation","onCompleted","toggleOnInFlight","stopSchedule","toggleOffInFlight","scheduleSelector","scheduleName","onStatusChange","InstigationStatus","RUNNING","variables","scheduleOriginId","running","checked","disabled","innerLabelChecked","innerLabel","lacksPermission","DISABLED_MESSAGE","SCHEDULE_SWITCH_FRAGMENT","directionalSpacingToCSS","property","css","top","horizontal","bottom","left","Box","flex","display","basis","justifyContent","grow","gap","shrink","flexPropertiesToCSS","backgroundColor","margin","border","side","assertUnreachable","borderSettingToCSS","SensorSwitch","sensor","canStartSensor","canStopSensor","jobOriginId","sensorState","sensorSelector","sensorName","onChangeSwitch","SENSOR_SWITCH_FRAGMENT","Markdown","Container","remarkPlugins","gfm","Tag","isDagsterTag","TagElement","TagKey","TagValue","LIGHT_GRAY2","LIGHT_GRAY1","DARK_GRAY1","WHITE","LIGHT_GRAY4","Table","HTMLTable","GRAY2","$compact","DARK_GRAY4","LIGHT_GRAY3","PageHeader","description","metadata","Description","INSTANCE_HEALTH_FRAGMENT","DAEMON_HEALTH_FRAGMENT","LogRowStructuredContentTable","styles","overflow","paddingBottom","StructuredContentTable","cellPadding","cellSpacing","label","item","maxWidth","MetadataEntries","entries","entry","MetadataEntry","expandSmallValues","MetadataEntryAction","e","copyValue","IconButton","whiteSpace","MetadataEntryModalAction","copyContent","target","rel","mdStr","PythonArtifactLink","module","floatValue","intValue","intRepr","MetadataEntryLink","assetKey","encodeURIComponent","METADATA_ENTRY_FRAGMENT","button","hoverOpenDelay","Position","TOP","usePortal","modifiers","preventOverflow","enabled","flip","cursor","textDecoration","isExpanded","setExpanded","minWidth","MetadataEntryModalContent","autoFocus","a","REPOSITORY_ORIGIN_FRAGMENT","REPOSITORY_INFO_FRAGMENT","RepositoryOriginInformation","origin","repositoryLocationMetadata","marginRight","opacity","flexDirection","Group","wrappedChildren","child","childMargin","GroupChild","empty","Outer","Inner","configure","hljs","highlightBlock","registerLanguage","sql","HighlightedCodeBlock","node","languages","ref","RUN_STATUS_COLORS","BLUE5","MANAGED","GREEN4","RED3","RunStatusWithStats","interactionKind","RunStatus","purpose","RunStatusDot","pulse","has","pulseAnimation","keyframes","Intl","DateTimeFormat","resolvedOptions","browserTimezoneAbbreviation","format","automaticLabel","RepositoryLink","canReloadRepositoryLocation","RepositoryName","workspacePathFromAddress","repoAddressAsString","onShortcut","shortcutLabel","shortcutFilter","code","altKey","ReloadTooltip","StyledButton","ConfirmationDialog","onSubmit","Intent","WARNING","CustomConfirmationContext","Promise","reject","useConfirmation","CustomConfirmationProvider","confirmationState","setConfirmationState","awaitingPromiseRef","resolve","Boolean","catchOnCancel","repoContainsPipeline","pipelineSnapshotId","findRepoContainingPipeline","RunTags","onSetFilter","token","BulkActionStatus","ComputeIOType","DagsterEventType","ErrorSource","EvaluationErrorReason","InstigationTickStatus","InstigationType","LocationStateChangeEventType","LogLevel","ObjectStoreOperationType","RepositoryLocationLoadStatus","StepEventStatus","StepKind","TerminatePipelinePolicy","pipelineTabs","overview","pathComponent","playground","isAvailable","permissions","canLaunchPipelineExecution","runs","partitions","currentOrder","tabForPipelinePathComponent","component","tabList","t","PipelineNav","flagPipelineModeTuples","useFeatureFlags","useRepository","active","tab","explorerPath","hasPartitionSet","partitionSets","some","partitionSet","tabs","explorerPathForTab","tabForKey","selectedTabId","placement","postSplit","buildRepoAddress","JobMetadata","useQuery","JOB_METADATA_QUERY","runsFilter","job","pipelineOrError","pipelineRunsOrError","results","lastRun","ScheduleOrSensor","GrayText","LatestRun","RelatedAssets","setOpen","matchingSchedules","schedules","matchingSensors","sensors","targets","scheduleCount","sensorCount","buttonText","dialogTitle","canOutsideClickClose","canEscapeKeyClose","MatchingSchedule","MatchingSensor","start","end","GRAY4","assetMap","assets","asset","assetKeyStr","wordBreak","RUN_METADATA_FRAGMENT","RunStats","RUN_STATS_QUERY","RunStatsDetailsContainer","pipelineRunOrError","runPath","stepsSucceeded","stepsFailed","materializations","expectations","RepositoryLocationErrorDialog","ErrorContents","RepositoryLocationNonBlockingErrorDialog","reducer","state","action","mutating","pollStartTime","initialState","dispatch","apollo","useApolloClient","RELOAD_REPOSITORY_LOCATION_MUTATION","fetchPolicy","reload","invalidateConfigs","REPOSITORY_LOCATION_STATUS_QUERY","skip","pollInterval","notifyOnNetworkStatusChange","workspace","workspaceOrError","stopPolling","locationEntries","l","loadStatus","LOADING","locationOrLoadError","SharedToaster","show","resetStore","Number","startPolling","reloadRepositoryLocation","Trace","FontFamily","monospace","DaemonHealthTag","daemon","healthy","HoverTag","minimal","required","page","DaemonHealth","lastHeartbeatErrors","errorCount","hide","prev","ButtonLink","BLUE2","underline","daemonType","stack","DaemonLabel","textTransform","toLowerCase","DaemonList","daemonHealth","allDaemonStatuses","lastHeartbeatTime","fromNow","workspacePath","repoName","repoLocation","finalPath","startsWith","buildRepoPath","workspacePipelinePath","workspacePipelinePathGuessRepo","PythonErrorInfo","cause","Wrapper","centered","ErrorWrapperCentered","ErrorWrapper","context","errorSource","ErrorContext","metadataEntries","failureMetadata","ErrorHeader","marginTop","marginBottom","CauseHeader","showReload","UNEXPECTED_ERROR","ContextHeader","UNAUTHORIZED_ERROR_FRAGMENT","h4","h3","memo","default","FeatureFlag","DAGIT_FLAGS_KEY","getFeatureFlags","featureEnabled","flag","flagSet","all","setFeatureFlags","flags","Array","Error","WorkspaceContext","ROOT_REPOSITORIES_QUERY","REPOSITORY_LOCATIONS_FRAGMENT","getRepositoryOptionHash","WorkspaceProvider","workspaceState","locationEntry","reposForLocation","allRepos","useWorkspaceState","option","useActivePipelineForName","reposWithMatch","usePipelineSelector","repositorySelector","optionToRepoAddress","PermissionsContext","PermissionsProvider","PERMISSIONS_QUERY","rawPermissions","permsMap","permission","launch_pipeline_execution","canLaunchPipelineReexecution","launch_pipeline_reexecution","canReconcileSchedulerState","reconcile_scheduler_state","start_schedule","stop_running_schedule","start_sensor","stop_sensor","canTerminatePipelineExecution","terminate_pipeline_execution","canDeletePipelineRun","delete_pipeline_run","reload_repository_location","canReloadWorkspace","reload_workspace","canWipeAssets","wipe_assets","canLaunchPartitionBackfill","launch_partition_backfill","canCancelPartitionBackfill","cancel_partition_backfill","extractPermissions","extractPathPrefix","element","document","getElementById","parsedPrefix","innerHTML","pathPrefix","extracted","__webpack_public_path__","LayoutContext","nav","close","LayoutProvider","navOpen","setNavOpen","useLocation","WarningTooltip","InstanceWarningIcon","healthData","INSTANCE_WARNING_QUERY","daemonErrors","instance","Icon","RepositoryContentList","repos","client","useState","setType","selectedSolids","setSelectedSolids","pipelineTab","promises","CONTENT_LIST_SOLIDS_QUERY","items","repositoryOrError","solids","usedSolids","solid","definition","fetchSolids","selectedPipelines","useMemo","labelTuple","labelEl","itemsSorted","sort","b","toLocaleLowerCase","localeCompare","minHeight","DARK_GRAY3","ItemHeader","small","Items","Item","data-tooltip","data-tooltip-style","SelectedItemTooltipStyle","ItemTooltipStyle","COBALT3","DARK_GRAY2","BLACK","BaseTooltipStyle","paddingRight","transform","borderRadius","FlatContentList","activeRepoAddresses","addresses","NAV_QUERY","jobs","address","modeName","tuple","Label","$hasIcon","height","JobItem","jobItem","jobName","jobRepoPath","whichIcon","tooltipContent","IconWithTooltip","inheritDarkTheme","NAV_SCHEDULE_FRAGMENT","NAV_SENSOR_FRAGMENT","InstigationList","instigationList","setInstigationList","activeRepos","subs","watchQuery","INSTIGATION_LIST_QUERY","subscribe","schedulesOrError","sensorsOrError","scheduleUpdates","repositoryOrigin","instigationType","SCHEDULE","sensorUpdates","SENSOR","s","unsubscribe","values","borderTop","isSelected","StatusDot","GREEN2","RepoSelector","onToggle","selected","addressString","HTMLInputElement","RepoLabel","htmlFor","RepoName","RepoLocation","lineHeight","BrowseLink","LIGHT_GRAY5","GRAY5","ReloadButton","ReloadButtonInner","Spinner","RepoNavItem","onInteraction","nextState","offset","popoverClassName","selectedRepo","from","userSelect","summary","SingleRepoSummary","SingleRepoNameLink","ShortcutHandler","Reloading","LOCATION_STATE_CHANGE_SUBSCRIPTION","RepositoryLocationStateObserver","updatedLocations","setUpdatedLocations","totalMessages","useSubscription","onSubscriptionData","changeEvents","subscriptionData","locationStateChangeEvents","event","locationName","eventType","serverId","LOCATION_ERROR","LOCATION_UPDATED","matchingRepositoryLocation","n","link","hover","REPO_KEYS","buildDetails","displayMetadata","useNavVisibleRepos","repoKeys","setRepoKeys","parsed","keysFromLocalStorage","hashes","matches","hash","toggleRepo","copy","delete","add","reposForKeys","foundKeys","LoadedRepositorySection","visibleRepos","visibleOptions","visible","LeftNavRepositorySection","WorkspaceWarningIcon","repoErrors","LeftNav","runsMatch","assetsMatch","statusMatch","workspaceMatch","exact","LeftNavContainer","$open","Tab","TabLabel","DARK_GRAY5","App","onClickMain","Main","$navOpen","ErrorToaster","Toaster","create","TOP_RIGHT","errorLink","response","graphQLErrors","operationName","operation","DANGER","console","showGraphQLError","networkError","AppStackTraceLink","stackTraceContent","stack_trace","causeContent","instructions","fontFamily","maxHeight","overflowX","locations","marginLeft","copySelector","GlobalPopoverStyle","GlobalTooltipStyle","CustomTooltipProvider","setState","addEventListener","ev","el","Element","getAttribute","tooltipParentEl","closest","isOverflowing","offsetWidth","scrollWidth","isManuallyOverflowed","textContent","isEmpty","hasChildNodes","dataset","tooltip","tooltipStyle","getBoundingClientRect","overrides","TooltipContainer","patchCopyToRemoveZeroWidthUnderscores","SearchResultType","GlobalStyle","AppProvider","appCache","apolloLinks","headers","graphqlPath","websocketURI","headersAsString","headerObject","SubscriptionClient","reconnect","connectionParams","apolloClient","splitLink","getMainDefinition","kind","WebSocketLink","HttpLink","uri","ApolloClient","cache","ApolloLink","appContextValue","Permissions","basename","CustomAlertProvider","VersionNumber","VERSION_NUMBER_QUERY","Version","iconForType","Asset","PartitionSet","Schedule","Pipeline","Repository","Run","Sensor","Solid","SearchResultItem","isHighlight","onClickResult","scrollIntoView","block","getModifierState","preventDefault","ResultLink","SearchResults","highlight","queryString","NoResults","List","hasResults","ii","ul","li","BLUE3","fuseOptions","limit","threshold","useExtendedSearch","useRepoSearch","SEARCH_BOOTSTRAP_QUERY","bootstrapData","bootstrapLoading","useLazyQuery","SEARCH_SECONDARY_QUERY","performQuery","secondaryData","secondaryLoading","secondaryQueryCalled","called","bootstrapFuse","Fuse","manyRepos","allEntries","inner","allPipelines","flat","allSchedules","allSensors","allPartitionSets","bootstrapDataToSearchResults","secondaryFuse","assetsOrError","nodes","secondaryDataToSearchResults","performSearch","buildSecondary","bootstrapResults","search","secondaryResults","loaded","searching","SearchDialog","theme","searchPlaceholder","numResults","openSearch","highlightedResult","SearchTrigger","$theme","Placeholder","SlashShortcut","backdropProps","transitionDuration","SearchBox","hasQueryString","SearchInput","spellCheck","onKeyDown","lastResult","placeholder","AppTopNav","navButton","focus","AppTopNavContainer","LogoContainer","NavButton","alt","src","LogoWebsocketStatus","InstanceRedirect","FallthroughRoot","firstRepo","first","render","InstanceRoot","SettingsRoot","WorkspaceRoot","ContentRoot","fallback","logLink","forward","time","performance","getContext","debugLog","timeStartLink","setContext","process","REACT_APP_BACKEND_ORIGIN","InMemoryCache","addTypename","possibleTypes","typePolicies","Query","fields","_","args","toReference","generated","typeName","dataIdFromObject","object","defaultDataIdFromObject","SettingsLink","ReactDOM","iconSize","MODIFIER_KEYCODES","SHORTCUT_VISIBILITY_EVENT_TYPE","shortcutsVisible","shortcutsTimer","getShortcutsVisible","setShortcutsVisible","dispatchEvent","CustomEvent","hideShortcuts","keyCode","shiftKey","ctrlKey","metaKey","otherModifiersUsed","previewPosition","onShortcutVisiblityChange","findDOMNode","HTMLElement","rect","onGlobalKeydown","nodeName","onGlobalKeyDown","activeElement","blur","this","removeEventListener","ShortcutAnnotation","fillColor","SpinnerWrapper","$padding","SlowSpinner","$fillColor","BlueprintSpinner","CURRENT_ALERT_CHANGED","CurrentAlert","setCustomAlert","alert","opts","bodyRef","Body","copyElement","querySelector","copyText","innerText","outlineColor","fontColor","twoDigit","v","msec","toLocaleString","minimumFractionDigits","maximumFractionDigits","sec","Math","round","min","floor","hours","breakOnUnderscores","str","clipboardData","getSelection","toString","setData","asyncMemoize","fn","hashFn","hashSize","LRU","arg","get","r","set","weakmapMemoize","WeakMap","flagDebugConsoleLogging","log","colorHash","seed","i","charCodeAt","random255","x","sin","Heading","Subheading","Caption","Code","Mono","RunTag","Namespace","displayTag","substr","onTagClick","targetTagName","LEFT","createElement","appendChild","select","execCommand","remove","NONE"],"mappings":"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","file":"static/js/main.666c5928.chunk.js","sourcesContent":["import * as React from 'react';\n\nexport type AppContextValue = {\n  basePath: string;\n  rootServerURI: string;\n};\n\nexport const AppContext = React.createContext<AppContextValue>({\n  basePath: '',\n  rootServerURI: '',\n});\n","import {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {DEFAULT_TIME_FORMAT, TimeFormat} from '../app/time/TimestampFormat';\nimport {TimezoneContext} from '../app/time/TimezoneContext';\nimport {timestampToString} from '../app/time/timestampToString';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP} from '../ui/Icon';\n\ninterface Props {\n  timestamp: number;\n  timezone?: string | null;\n  timeFormat?: TimeFormat;\n  tooltipTimeFormat?: TimeFormat;\n}\n\nexport const TimestampDisplay = (props: Props) => {\n  const {timestamp, timezone, timeFormat, tooltipTimeFormat} = props;\n  const [userTimezone] = React.useContext(TimezoneContext);\n  const locale = navigator.language;\n\n  return (\n    <Group direction=\"row\" spacing={8} alignItems=\"center\" wrap=\"wrap\">\n      <TabularNums>\n        {timestampToString({\n          timestamp: {unix: timestamp},\n          locale,\n          timezone: timezone || userTimezone,\n          timeFormat: timeFormat,\n        })}\n      </TabularNums>\n      {timezone && timezone !== userTimezone ? (\n        <TimestampTooltip\n          content={\n            <TabularNums>\n              {timestampToString({\n                timestamp: {unix: timestamp},\n                locale,\n                timezone: userTimezone,\n                timeFormat: tooltipTimeFormat,\n              })}\n            </TabularNums>\n          }\n        >\n          <IconWIP name=\"schedule\" color={ColorsWIP.Gray400} />\n        </TimestampTooltip>\n      ) : null}\n    </Group>\n  );\n};\n\nTimestampDisplay.defaultProps = {\n  timeFormat: DEFAULT_TIME_FORMAT,\n  tooltipTimeFormat: {showSeconds: false, showTimezone: true},\n};\n\nconst TabularNums = styled.div`\n  font-variant-numeric: tabular-nums;\n`;\n\nconst TimestampTooltip = styled(Tooltip)`\n  cursor: pointer;\n\n  &.bp3-popover2-target {\n    display: block;\n  }\n`;\n","import * as React from 'react';\n\nimport {TimeFormat} from './TimestampFormat';\nimport {TimezoneContext} from './TimezoneContext';\nimport {timestampToString} from './timestampToString';\n\ninterface Props {\n  timestamp: {ms: number} | {unix: number};\n  timeFormat?: TimeFormat;\n}\n\nexport const Timestamp: React.FC<Props> = (props) => {\n  const {timestamp, timeFormat} = props;\n  const [timezone] = React.useContext(TimezoneContext);\n  const locale = navigator.language;\n  return <>{timestampToString({timestamp, locale, timezone, timeFormat})}</>;\n};\n","import * as React from 'react';\n\nconst TimezoneStorageKey = 'TimezonePreference';\n\ntype Value = [string, (next: string) => void];\n\nexport const TimezoneContext = React.createContext<Value>(['UTC', () => {}]);\n\nexport const TimezoneProvider: React.FC = (props) => {\n  const [value, setValue] = React.useState(\n    () => window.localStorage.getItem(TimezoneStorageKey) || 'Automatic',\n  );\n\n  const onChange = React.useCallback((tz: string) => {\n    window.localStorage.setItem(TimezoneStorageKey, tz);\n    setValue(tz);\n  }, []);\n\n  const provided: Value = React.useMemo(() => [value, onChange], [value, onChange]);\n\n  return <TimezoneContext.Provider value={provided}>{props.children}</TimezoneContext.Provider>;\n};\n","import * as React from 'react';\n\nimport {AppContext} from '../app/AppContext';\nimport {RepositoryLocationErrorDialog} from '../workspace/RepositoryLocationErrorDialog';\n\nimport {useRepositoryLocationReload} from './useRepositoryLocationReload';\n\ntype ChildProps = {\n  tryReload: () => void;\n  reloading: boolean;\n};\n\ninterface Props {\n  children: (childProps: ChildProps) => React.ReactNode;\n  location: string;\n}\n\nexport const ReloadRepositoryLocationButton: React.FC<Props> = (props) => {\n  const {children, location} = props;\n  const [shown, setShown] = React.useState(false);\n\n  const {basePath} = React.useContext(AppContext);\n\n  const {reloading, error, tryReload} = useRepositoryLocationReload(location);\n\n  React.useEffect(() => setShown(!!error), [error]);\n\n  return (\n    <>\n      {children({tryReload, reloading})}\n      <RepositoryLocationErrorDialog\n        location={location}\n        isOpen={shown}\n        error={error}\n        reloading={reloading}\n        onTryReload={tryReload}\n        onDismiss={() => {\n          // On dismiss, redirect to the Workspace view so that the location error\n          // is presented to the user, and so that if the user was previously viewing\n          // an object in a failed repo location, they aren't staring at a blank page.\n          setShown(false);\n          window.location.href = `${basePath}/workspace`;\n        }}\n      />\n    </>\n  );\n};\n","import {Switch} from '@blueprintjs/core';\nimport styled from 'styled-components/macro';\n\nexport const SwitchWithoutLabel = styled(Switch)`\n  &.bp3-control.bp3-switch {\n    margin-bottom: 0;\n  }\n\n  &.bp3-control.bp3-switch:not(.bp3-align-right) .bp3-control-indicator {\n    margin-left: 0;\n  }\n\n  &.bp3-control .bp3-control-indicator {\n    margin-right: 0;\n  }\n\n  &.bp3-control.bp3-switch:not(.bp3-align-right),\n  &.bp3-control.bp3-switch.bp3-large:not(.bp3-align-right) {\n    padding-left: 0;\n  }\n`;\n","import {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {Box} from './Box';\n\ntype Row = {key: string; value: React.ReactNode};\n\ninterface Props {\n  rows: (Row | null | undefined)[];\n  spacing: 0 | 2 | 4;\n}\n\nexport const MetadataTable = (props: Props) => {\n  const {rows, spacing} = props;\n\n  return (\n    <StyledTable>\n      <tbody>\n        {rows.map((pair: Row | null | undefined) => {\n          if (!pair) {\n            return null;\n          }\n          const {key, value} = pair;\n          return (\n            <tr key={key}>\n              <td>\n                <Box padding={{vertical: spacing, right: 32}}>\n                  <MetadataKey>{key}</MetadataKey>\n                </Box>\n              </td>\n              <td>\n                <Box padding={{vertical: spacing}}>{value}</Box>\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </StyledTable>\n  );\n};\n\nMetadataTable.defaultProps = {\n  spacing: 4,\n};\n\nexport const StyledTable = styled.table`\n  border-spacing: 0;\n  td {\n    vertical-align: top;\n  }\n\n  td .bp3-control {\n    margin-bottom: 0;\n  }\n`;\n\nconst MetadataKey = styled.div`\n  color: ${Colors.GRAY1};\n  font-weight: 400;\n`;\n","import moment from 'moment-timezone';\n\nimport {TimeFormat, DEFAULT_TIME_FORMAT} from './TimestampFormat';\nimport {browserTimezone} from './browserTimezone';\n\ntype Config = {\n  timestamp: {ms: number} | {unix: number};\n  locale: string;\n  timezone: string;\n  timeFormat?: TimeFormat;\n};\n\n// This helper is here so that we can swap out Moment in the future as needed and\n// encourage use of the same default format string across the app.\nexport const timestampToString = (config: Config) => {\n  const {timestamp, locale, timezone, timeFormat = DEFAULT_TIME_FORMAT} = config;\n  const m = 'ms' in timestamp ? moment(timestamp.ms) : moment.unix(timestamp.unix);\n  const targetTimezone = timezone === 'Automatic' ? browserTimezone() : timezone;\n  const sameYear = moment(Date.now()).tz(targetTimezone).year() === m.tz(targetTimezone).year();\n\n  return m.toDate().toLocaleDateString(locale, {\n    month: 'short',\n    day: 'numeric',\n    year: sameYear ? undefined : 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: timeFormat.showSeconds ? 'numeric' : undefined,\n    timeZone: targetTimezone,\n    timeZoneName: timeFormat.showTimezone ? 'short' : undefined,\n  });\n};\n","import {gql} from '@apollo/client';\nimport * as React from 'react';\n\nimport {showCustomAlert} from '../app/CustomAlertProvider';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\n\nimport {StartSchedule, StartSchedule_startSchedule_PythonError} from './types/StartSchedule';\nimport {StopSchedule, StopSchedule_stopRunningSchedule_PythonError} from './types/StopSchedule';\n\nexport const START_SCHEDULE_MUTATION = gql`\n  mutation StartSchedule($scheduleSelector: ScheduleSelector!) {\n    startSchedule(scheduleSelector: $scheduleSelector) {\n      __typename\n      ... on ScheduleStateResult {\n        scheduleState {\n          __typename\n          id\n          status\n          runningCount\n        }\n      }\n      ... on PythonError {\n        message\n        stack\n      }\n    }\n  }\n`;\n\nexport const STOP_SCHEDULE_MUTATION = gql`\n  mutation StopSchedule($scheduleOriginId: String!) {\n    stopRunningSchedule(scheduleOriginId: $scheduleOriginId) {\n      __typename\n      ... on ScheduleStateResult {\n        scheduleState {\n          __typename\n          id\n          status\n          runningCount\n        }\n      }\n      ... on PythonError {\n        message\n        stack\n      }\n    }\n  }\n`;\n\nexport const displayScheduleMutationErrors = (data: StartSchedule | StopSchedule) => {\n  let error:\n    | StartSchedule_startSchedule_PythonError\n    | StopSchedule_stopRunningSchedule_PythonError\n    | null = null;\n\n  if ('startSchedule' in data && data.startSchedule.__typename === 'PythonError') {\n    error = data.startSchedule;\n  } else if (\n    'stopRunningSchedule' in data &&\n    data.stopRunningSchedule.__typename === 'PythonError'\n  ) {\n    error = data.stopRunningSchedule;\n  }\n\n  if (error) {\n    showCustomAlert({\n      title: 'Schedule Response',\n      body: <PythonErrorInfo error={error} />,\n    });\n  }\n};\n","import {gql} from '@apollo/client';\nimport * as React from 'react';\n\nimport {showCustomAlert} from '../app/CustomAlertProvider';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\n\nimport {StartSensor_startSensor_PythonError, StartSensor} from './types/StartSensor';\nimport {StopSensor_stopSensor_PythonError, StopSensor} from './types/StopSensor';\n\nexport const START_SENSOR_MUTATION = gql`\n  mutation StartSensor($sensorSelector: SensorSelector!) {\n    startSensor(sensorSelector: $sensorSelector) {\n      __typename\n      ... on Sensor {\n        id\n        sensorState {\n          id\n          status\n        }\n      }\n      ... on PythonError {\n        message\n        stack\n      }\n    }\n  }\n`;\n\nexport const STOP_SENSOR_MUTATION = gql`\n  mutation StopSensor($jobOriginId: String!) {\n    stopSensor(jobOriginId: $jobOriginId) {\n      __typename\n      ... on StopSensorMutationResult {\n        instigationState {\n          id\n          status\n        }\n      }\n      ... on PythonError {\n        message\n        stack\n      }\n    }\n  }\n`;\n\ntype PythonError = StartSensor_startSensor_PythonError | StopSensor_stopSensor_PythonError;\n\nexport const displaySensorMutationErrors = (data: StartSensor | StopSensor) => {\n  let error: PythonError | null = null;\n\n  if ('startSensor' in data && data.startSensor.__typename === 'PythonError') {\n    error = data.startSensor;\n  } else if ('stopSensor' in data && data.stopSensor.__typename === 'PythonError') {\n    error = data.stopSensor;\n  }\n\n  if (error) {\n    showCustomAlert({\n      title: 'Schedule Response',\n      body: <PythonErrorInfo error={error} />,\n    });\n  }\n};\n","import memoize from 'lodash/memoize';\n\nimport {RepositorySelector} from '../types/globalTypes';\n\nimport {RepoAddress} from './types';\n\nexport const repoAddressToSelector = memoize(\n  (repoAddress: RepoAddress): RepositorySelector => {\n    return {\n      repositoryName: repoAddress.name,\n      repositoryLocationName: repoAddress.location,\n    };\n  },\n);\n","import * as React from 'react';\n\n// Internal LocalStorage data format and mutation helpers\n\nexport interface IStorageData {\n  sessions: {[name: string]: IExecutionSession};\n  selectedExecutionType?: ExecutionType;\n  current: string;\n}\n\nenum ExecutionType {\n  START = 'start',\n  LAUNCH = 'launch',\n}\n\nexport interface PipelineRunTag {\n  key: string;\n  value: string;\n}\n\nexport type SessionBase =\n  | {presetName: string}\n  | {partitionsSetName: string; partitionName: string | null};\n\nexport interface IExecutionSession {\n  key: string;\n  name: string;\n  runConfigYaml: string;\n  base: SessionBase | null;\n  mode: string | null;\n  needsRefresh: boolean;\n  solidSelection: string[] | null;\n  solidSelectionQuery: string | null;\n  tags: PipelineRunTag[] | null;\n\n  // this is set when you execute the session and freeze it\n  runId?: string;\n  configChangedSinceRun: boolean;\n}\n\nexport type IExecutionSessionChanges = Partial<IExecutionSession>;\n\nexport function applySelectSession(data: IStorageData, key: string) {\n  return {...data, current: key};\n}\n\nexport function applyRemoveSession(data: IStorageData, key: string) {\n  const next = {current: data.current, sessions: {...data.sessions}};\n  const idx = Object.keys(next.sessions).indexOf(key);\n  delete next.sessions[key];\n  if (next.current === key) {\n    const remaining = Object.keys(next.sessions);\n    next.current = remaining[idx] || remaining[idx - 1] || remaining[0];\n  }\n  return next;\n}\n\nexport function applyChangesToSession(\n  data: IStorageData,\n  key: string,\n  changes: IExecutionSessionChanges,\n) {\n  const saved = data.sessions[key];\n  if (changes.runConfigYaml && changes.runConfigYaml !== saved.runConfigYaml && saved.runId) {\n    changes.configChangedSinceRun = true;\n  }\n\n  return {\n    current: data.current,\n    sessions: {...data.sessions, [key]: {...saved, ...changes}},\n    selectedExecutionType: data.selectedExecutionType,\n  };\n}\n\nexport function applyCreateSession(\n  data: IStorageData,\n  initial: IExecutionSessionChanges = {},\n): IStorageData {\n  const key = `s${Date.now()}`;\n\n  return {\n    current: key,\n    sessions: {\n      ...data.sessions,\n      [key]: {\n        name: 'New Run',\n        runConfigYaml: '',\n        mode: null,\n        base: null,\n        needsRefresh: false,\n        solidSelection: null,\n        solidSelectionQuery: '*',\n        tags: null,\n        runId: undefined,\n        ...initial,\n        configChangedSinceRun: false,\n        key,\n      },\n    },\n    selectedExecutionType: data.selectedExecutionType,\n  };\n}\n\n// StorageProvider component that vends `IStorageData` via a render prop\n\ntype StorageHook = [IStorageData, (data: IStorageData) => void];\n\nlet _data: IStorageData | null = null;\nlet _dataNamespace = '';\n\nfunction getKey(namespace: string) {\n  return `dagit.v2.${namespace}`;\n}\n\nexport function getJSONForKey(key: string) {\n  try {\n    const jsonString = window.localStorage.getItem(key);\n    if (jsonString) {\n      return JSON.parse(jsonString);\n    }\n  } catch (err) {\n    // noop\n  }\n  return undefined;\n}\n\nfunction getStorageDataForNamespace(namespace: string, initial: Partial<IExecutionSession> = {}) {\n  if (_data && _dataNamespace === namespace) {\n    return _data;\n  }\n\n  let data: IStorageData = Object.assign(\n    {sessions: {}, current: ''},\n    getJSONForKey(getKey(namespace)),\n  );\n\n  if (Object.keys(data.sessions).length === 0) {\n    data = applyCreateSession(data, initial);\n  }\n\n  if (!data.sessions[data.current]) {\n    data.current = Object.keys(data.sessions)[0];\n  }\n\n  _data = data;\n  _dataNamespace = namespace;\n\n  return data;\n}\n\nfunction writeStorageDataForNamespace(namespace: string, data: IStorageData) {\n  _data = data;\n  _dataNamespace = namespace;\n  window.localStorage.setItem(getKey(namespace), JSON.stringify(data));\n}\n\n/* React hook that provides local storage to the caller. A previous version of this\nloaded data into React state, but changing namespaces caused the data to be out-of-sync\nfor one render (until a useEffect could update the data in state). Now we keep the\ncurrent localStorage namespace in memory (in _data above) and React keeps a simple\nversion flag it can use to trigger a re-render after changes are saved, so changing\nnamespaces changes the returned data immediately.\n*/\nexport function useStorage(\n  repositoryName: string,\n  pipelineName: string,\n  initial: Partial<IExecutionSession> = {},\n): StorageHook {\n  const namespace = `${repositoryName}.${pipelineName}`;\n  const [version, setVersion] = React.useState<number>(0);\n\n  const onSave = (newData: IStorageData) => {\n    writeStorageDataForNamespace(namespace, newData);\n    setVersion(version + 1); // trigger a React render\n  };\n\n  return [getStorageDataForNamespace(namespace, initial), onSave];\n}\n\ntype Repository = {\n  name: string;\n  pipelines: {name: string}[];\n};\n\nexport const useInvalidateConfigsForRepo = () => {\n  const [_, setVersion] = React.useState<number>(0);\n\n  const onSave = React.useCallback((repositories: Repository[]) => {\n    repositories.forEach((repo) => {\n      const {name, pipelines} = repo;\n      const pipelineNames = pipelines.map((pipeline) => pipeline.name);\n\n      pipelineNames.forEach((pipelineName) => {\n        const namespace = `${name}.${pipelineName}`;\n        const data: IStorageData | undefined = getJSONForKey(getKey(namespace));\n        if (data) {\n          const withBase = Object.keys(data.sessions).filter(\n            (sessionKey) => data.sessions[sessionKey].base !== null,\n          );\n          if (withBase.length) {\n            const withUpdates = withBase.reduce(\n              (accum, sessionKey) => applyChangesToSession(accum, sessionKey, {needsRefresh: true}),\n              data,\n            );\n            writeStorageDataForNamespace(namespace, withUpdates);\n          }\n        }\n      });\n    });\n\n    setVersion((current) => current + 1);\n  }, []);\n\n  return onSave;\n};\n","export const ColorsWIP = {\n  Dark: 'rgba(23, 22, 21, 1)',\n  White: 'rgba(255, 255, 255, 1)',\n  Gray900: 'rgba(35, 31, 27, 1)',\n  Gray800: 'rgba(58, 54, 49, 1)',\n  Gray700: 'rgba(82, 78, 72, 1)',\n  Gray600: 'rgba(107, 103, 98, 1)',\n  Gray500: 'rgba(134, 131, 127, 1)',\n  Gray400: 'rgba(161, 157, 153, 1)',\n  Gray300: 'rgba(189, 186, 183, 1)',\n  Gray200: 'rgba(218, 216, 214, 1)',\n  Gray100: 'rgba(245, 244, 242, 1)',\n  Gray50: 'rgba(250, 249, 247, 1)',\n  Gray10: 'rgba(35, 31, 27, 0.03)',\n  Blue700: 'rgba(14, 12, 167, 1)',\n  Blue500: 'rgba(79, 67, 221, 1)',\n  Blue200: 'rgba(185, 180, 241, 1)',\n  Blue50: 'rgba(14, 12, 167, 0.08)',\n  Red700: 'rgba(165, 9, 6, 1)',\n  Red500: 'rgba(221, 84, 72, 1)',\n  Red200: 'rgba(241, 187, 182, 1)',\n  Red50: 'rgba(165, 9, 6, 0.08)',\n  Yellow700: 'rgba(165, 88, 2, 1)',\n  Yellow500: 'rgba(252, 188, 65, 1)',\n  Yellow200: 'rgba(251, 233, 181, 1)',\n  Yellow50: 'rgba(165, 88, 2, 0.08)',\n  Green700: 'rgba(18, 117, 75, 1)',\n  Green500: 'rgba(73, 193, 136, 1)',\n  Green200: 'rgba(200, 236, 219, 1)',\n  Green50: 'rgba(18, 117, 75, 0.08)',\n  Olive700: 'rgba(72, 82, 69, 1)',\n  Olive500: 'rgba(156, 172, 151, 1)',\n  Olive200: 'rgba(215, 222, 213, 1)',\n  Olive50: 'rgba(72, 82, 69, 0.1)',\n  ForestGreen: 'rgba(33, 70, 61, 1)',\n  HighlightGreen: 'rgba(81, 233, 124, 1)',\n  HighlightRed: 'rgba(255, 128, 100, 1)',\n  NeonGreen: 'rgba(167, 255, 191, 1)',\n  LightPurple: 'rgba(222, 221, 255, 1)',\n  Link: 'rgba(9, 8, 110, 1)',\n};\n","import {Colors} from '@blueprintjs/core';\nimport debounce from 'lodash/debounce';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\nimport {SubscriptionClient} from 'subscriptions-transport-ws';\n\ntype Availability = 'attempting-to-connect' | 'unavailable' | 'available';\n\nexport type WebSocketContextType = {\n  availability: Availability;\n  status: number;\n  websocketClient?: SubscriptionClient;\n};\n\nexport const WebSocketContext = React.createContext<WebSocketContextType>({\n  availability: 'attempting-to-connect',\n  status: WebSocket.CONNECTING,\n});\n\nconst WS_EVENTS = [\n  'connecting',\n  'connected',\n  'reconnecting',\n  'reconnected',\n  'disconnected',\n  'error',\n];\n\n// Delay informing listeners of websocket status change so that we don't thrash.\nconst DEBOUNCE_TIME = 5000;\n\ninterface Props {\n  websocketClient: SubscriptionClient;\n}\n\nexport const WebSocketProvider: React.FC<Props> = (props) => {\n  const {children, websocketClient} = props;\n  const [status, setStatus] = React.useState(WebSocket.CONNECTING);\n  const [availability, setAvailability] = React.useState<Availability>('attempting-to-connect');\n\n  const value = React.useMemo(\n    () => ({\n      availability,\n      status,\n      websocketClient,\n    }),\n    [availability, status, websocketClient],\n  );\n\n  const debouncedSetter = React.useMemo(() => debounce(setStatus, DEBOUNCE_TIME), []);\n\n  React.useEffect(() => {\n    const availabilityListeners = [\n      websocketClient.onConnected(() => setAndUnlisten('available')),\n      websocketClient.onError(() => setAndUnlisten('unavailable')),\n    ];\n\n    const unlisten = () => availabilityListeners.forEach((u) => u());\n    const setAndUnlisten = (value: Availability) => {\n      unlisten();\n      setAvailability(value);\n    };\n\n    return () => {\n      unlisten();\n    };\n  }, [websocketClient]);\n\n  React.useEffect(() => {\n    const statusListeners = WS_EVENTS.map((eventName) =>\n      websocketClient.on(eventName, () => {\n        debouncedSetter(websocketClient.status);\n      }),\n    );\n\n    return () => {\n      statusListeners.forEach((u) => u());\n    };\n  }, [debouncedSetter, websocketClient]);\n\n  return <WebSocketContext.Provider value={value}>{children}</WebSocketContext.Provider>;\n};\n\nconst Circle = styled.div`\n  align-self: center;\n  width: 12px;\n  height: 12px;\n  display: inline-block;\n  border-radius: 7px;\n  border: 1px solid rgba(255, 255, 255, 0.6);\n`;\n\nexport const WebSocketStatus: React.FC = (props) => (\n  <WebSocketContext.Consumer>\n    {({status}) =>\n      ({\n        [WebSocket.CONNECTING]: (\n          <Circle style={{background: Colors.GREEN5}} title=\"Connecting...\" {...props} />\n        ),\n        [WebSocket.OPEN]: (\n          <Circle style={{background: Colors.GREEN3}} title=\"Connected\" {...props} />\n        ),\n        [WebSocket.CLOSING]: (\n          <Circle style={{background: Colors.GRAY3}} title=\"Closing...\" {...props} />\n        ),\n      }[status] || <Circle style={{background: Colors.GRAY3}} title=\"Disconnected\" {...props} />)\n    }\n  </WebSocketContext.Consumer>\n);\n","import * as React from 'react';\n\nimport {formatElapsedTime} from '../app/Util';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP} from '../ui/Icon';\n\nexport interface Props {\n  startUnix: number | null;\n  endUnix: number | null;\n}\n\nexport const TimeElapsed = (props: Props) => {\n  const {startUnix, endUnix} = props;\n\n  const [endTime, setEndTime] = React.useState(() => (endUnix ? endUnix * 1000 : null));\n  const interval = React.useRef<NodeJS.Timer | null>(null);\n  const timeout = React.useRef<NodeJS.Timer | null>(null);\n\n  const clearTimers = React.useCallback(() => {\n    interval.current && clearInterval(interval.current);\n    timeout.current && clearTimeout(timeout.current);\n  }, []);\n\n  React.useEffect(() => {\n    // An end time has been supplied. Simply set a static value.\n    if (endUnix) {\n      setEndTime(endUnix * 1000);\n      return;\n    }\n\n    // Align to the next second and then update every second so the elapsed\n    // time \"ticks\" up.\n    timeout.current = setTimeout(() => {\n      interval.current = setInterval(() => {\n        setEndTime(Date.now());\n      }, 1000);\n    }, Date.now() % 1000);\n\n    return () => clearTimers();\n  }, [clearTimers, endUnix]);\n\n  const startTime = startUnix ? startUnix * 1000 : 0;\n\n  return (\n    <Group direction=\"row\" spacing={4} alignItems=\"center\">\n      <IconWIP name=\"schedule\" color={ColorsWIP.Gray400} />\n      <span style={{fontVariantNumeric: 'tabular-nums'}}>\n        {startTime ? formatElapsedTime((endTime || Date.now()) - startTime) : ''}\n      </span>\n    </Group>\n  );\n};\n","export type TimeFormat = {\n  showTimezone: boolean;\n  showSeconds: boolean;\n};\n\nexport const DEFAULT_TIME_FORMAT = {\n  showTimezone: false,\n  showSeconds: false,\n};\n","import {gql} from '@apollo/client';\nimport {Popover} from '@blueprintjs/core';\nimport * as React from 'react';\nimport * as yaml from 'yaml';\n\nimport {showCustomAlert} from '../app/CustomAlertProvider';\nimport {PythonErrorInfo, PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorInfo';\nimport {Timestamp} from '../app/time/Timestamp';\nimport {ExecutionParams, PipelineRunStatus} from '../types/globalTypes';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP} from '../ui/Icon';\n\nimport {DagsterTag} from './RunTag';\nimport {StepSelection} from './StepSelection';\nimport {TimeElapsed} from './TimeElapsed';\nimport {LaunchPipelineExecution} from './types/LaunchPipelineExecution';\nimport {LaunchPipelineReexecution} from './types/LaunchPipelineReexecution';\nimport {RunFragment} from './types/RunFragment';\nimport {RunTableRunFragment} from './types/RunTableRunFragment';\nimport {RunTimeFragment} from './types/RunTimeFragment';\n\nexport function titleForRun(run: {runId: string}) {\n  return run.runId.split('-').shift();\n}\n\nexport const RunsQueryRefetchContext = React.createContext<{\n  refetch: () => void;\n}>({refetch: () => {}});\n\nexport function handleLaunchResult(\n  basePath: string,\n  pipelineName: string,\n  result: void | {data?: LaunchPipelineExecution | LaunchPipelineReexecution | null},\n  openInTab?: boolean,\n) {\n  const obj =\n    result && result.data && 'launchPipelineExecution' in result.data\n      ? result.data.launchPipelineExecution\n      : result && result.data && 'launchPipelineReexecution' in result.data\n      ? result.data.launchPipelineReexecution\n      : null;\n\n  if (!obj) {\n    showCustomAlert({body: `No data was returned. Did Dagit crash?`});\n    return;\n  }\n\n  if (obj.__typename === 'LaunchPipelineRunSuccess') {\n    const url = `${basePath}/instance/runs/${obj.run.runId}`;\n    if (openInTab) {\n      window.open(url, '_blank');\n    } else {\n      window.location.href = url;\n    }\n  } else if (obj.__typename === 'PythonError') {\n    showCustomAlert({\n      title: 'Error',\n      body: <PythonErrorInfo error={obj} />,\n    });\n  } else {\n    let message = `${pipelineName} cannot be executed with the provided config.`;\n\n    if ('errors' in obj) {\n      message += ` Please fix the following errors:\\n\\n${obj.errors\n        .map((error) => error.message)\n        .join('\\n\\n')}`;\n    }\n\n    showCustomAlert({body: message});\n  }\n}\n\nfunction getBaseExecutionMetadata(run: RunFragment | RunTableRunFragment) {\n  const hiddenTagKeys: string[] = [DagsterTag.IsResumeRetry, DagsterTag.StepSelection];\n\n  return {\n    parentRunId: run.runId,\n    rootRunId: run.rootRunId ? run.rootRunId : run.runId,\n    tags: [\n      // Clean up tags related to run grouping once we decide its persistence\n      // https://github.com/dagster-io/dagster/issues/2495\n      ...run.tags\n        .filter((tag) => !hiddenTagKeys.includes(tag.key))\n        .map((tag) => ({\n          key: tag.key,\n          value: tag.value,\n        })),\n      // pass resume/retry indicator via tags\n      // pass run group info via tags\n      {\n        key: DagsterTag.ParentRunId,\n        value: run.runId,\n      },\n      {\n        key: DagsterTag.RootRunId,\n        value: run.rootRunId ? run.rootRunId : run.runId,\n      },\n    ],\n  };\n}\n\nexport type ReExecutionStyle =\n  | {type: 'all'}\n  | {type: 'from-failure'}\n  | {type: 'selection'; selection: StepSelection};\n\nexport function getReexecutionVariables(input: {\n  run: (RunFragment | RunTableRunFragment) & {runConfigYaml: string};\n  style: ReExecutionStyle;\n  repositoryLocationName: string;\n  repositoryName: string;\n}) {\n  const {run, style, repositoryLocationName, repositoryName} = input;\n\n  if (!run || ('pipeline' in run && run.pipeline.__typename === 'UnknownPipeline')) {\n    return undefined;\n  }\n\n  const executionParams: ExecutionParams = {\n    mode: run.mode,\n    runConfigData: yaml.parse(run.runConfigYaml),\n    executionMetadata: getBaseExecutionMetadata(run),\n    selector: {\n      repositoryLocationName,\n      repositoryName,\n      pipelineName: 'pipelineName' in run ? run.pipelineName : run.pipeline.name,\n      solidSelection: 'solidSelection' in run ? run.solidSelection : run.pipeline.solidSelection,\n    },\n  };\n\n  if (style.type === 'from-failure') {\n    executionParams.executionMetadata?.tags?.push({\n      key: DagsterTag.IsResumeRetry,\n      value: 'true',\n    });\n  }\n  if (style.type === 'selection') {\n    executionParams.stepKeys = style.selection.keys;\n    executionParams.executionMetadata?.tags?.push({\n      key: DagsterTag.StepSelection,\n      value: style.selection.query,\n    });\n  }\n\n  return {executionParams};\n}\n\nexport const LAUNCH_PIPELINE_EXECUTION_MUTATION = gql`\n  mutation LaunchPipelineExecution($executionParams: ExecutionParams!) {\n    launchPipelineExecution(executionParams: $executionParams) {\n      __typename\n      ... on LaunchPipelineRunSuccess {\n        run {\n          id\n          runId\n          pipelineName\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineConfigValidationInvalid {\n        errors {\n          message\n        }\n      }\n      ... on PythonError {\n        message\n        stack\n      }\n    }\n  }\n`;\n\nexport const DELETE_MUTATION = gql`\n  mutation Delete($runId: String!) {\n    deletePipelineRun(runId: $runId) {\n      __typename\n      ... on PythonError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on PipelineRunNotFoundError {\n        message\n      }\n    }\n  }\n`;\n\nexport const TERMINATE_MUTATION = gql`\n  mutation Terminate($runId: String!, $terminatePolicy: TerminatePipelinePolicy) {\n    terminatePipelineExecution(runId: $runId, terminatePolicy: $terminatePolicy) {\n      __typename\n      ... on TerminatePipelineExecutionFailure {\n        message\n      }\n      ... on PipelineRunNotFoundError {\n        message\n      }\n      ... on TerminatePipelineExecutionSuccess {\n        run {\n          id\n          runId\n          canTerminate\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on PythonError {\n        message\n      }\n    }\n  }\n`;\n\nexport const LAUNCH_PIPELINE_REEXECUTION_MUTATION = gql`\n  mutation LaunchPipelineReexecution($executionParams: ExecutionParams!) {\n    launchPipelineReexecution(executionParams: $executionParams) {\n      __typename\n      ... on LaunchPipelineRunSuccess {\n        run {\n          id\n          runId\n          pipelineName\n          rootRunId\n          parentRunId\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineConfigValidationInvalid {\n        errors {\n          message\n        }\n      }\n      ... on PythonError {\n        message\n        stack\n      }\n    }\n  }\n`;\n\ninterface RunTimeProps {\n  run: RunTimeFragment;\n}\n\nexport const RunTime: React.FC<RunTimeProps> = React.memo(({run}) => {\n  const {stats} = run;\n\n  if (stats.__typename !== 'PipelineRunStatsSnapshot') {\n    return (\n      <Popover content={<PythonErrorInfo error={stats} />}>\n        <Group direction=\"row\" spacing={4} alignItems=\"center\">\n          <IconWIP name=\"error\" color={ColorsWIP.Red500} />\n          <div>Failed to load times</div>\n        </Group>\n      </Popover>\n    );\n  }\n\n  const content = () => {\n    if (stats.startTime) {\n      return <Timestamp timestamp={{unix: stats.startTime}} />;\n    }\n    if (stats.launchTime) {\n      return <Timestamp timestamp={{unix: stats.launchTime}} />;\n    }\n    if (stats.enqueuedTime) {\n      return <Timestamp timestamp={{unix: stats.enqueuedTime}} />;\n    }\n\n    switch (status) {\n      case PipelineRunStatus.FAILURE:\n        return 'Failed to start';\n      case PipelineRunStatus.CANCELED:\n        return 'Canceled';\n      case PipelineRunStatus.CANCELING:\n        return 'Canceling';\n      default:\n        return 'Starting';\n    }\n  };\n\n  return <div>{content()}</div>;\n});\n\nexport const RunElapsed: React.FC<RunTimeProps> = React.memo(({run}) => {\n  if (run.stats.__typename !== 'PipelineRunStatsSnapshot') {\n    return (\n      <Popover content={<PythonErrorInfo error={run.stats} />}>\n        <Group direction=\"row\" spacing={4} alignItems=\"center\">\n          <IconWIP name=\"error\" color={ColorsWIP.Red500} />\n          <div>Failed to load times</div>\n        </Group>\n      </Popover>\n    );\n  }\n\n  return <TimeElapsed startUnix={run.stats.startTime} endUnix={run.stats.endTime} />;\n});\n\nexport const RUN_TIME_FRAGMENT = gql`\n  fragment RunTimeFragment on PipelineRun {\n    id\n    status\n    stats {\n      ... on PipelineRunStatsSnapshot {\n        id\n        enqueuedTime\n        launchTime\n        startTime\n        endTime\n      }\n      ... on PythonError {\n        ...PythonErrorFragment\n      }\n    }\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import React from 'react';\nimport {Link, useHistory, useRouteMatch} from 'react-router-dom';\n\nimport {Mono} from '../ui/Text';\nimport {useRepositoryOptions} from '../workspace/WorkspaceContext';\nimport {repoAddressFromPath} from '../workspace/repoAddressFromPath';\n\nexport interface PipelineExplorerPath {\n  pipelineName: string;\n  pipelineMode: string;\n  snapshotId?: string;\n  solidsQuery: string;\n  pathSolids: string[];\n}\n\nexport function explorerPathToString(path: PipelineExplorerPath) {\n  const root = [\n    path.pipelineName,\n    path.snapshotId ? `@${path.snapshotId}` : ``,\n    ':',\n    path.pipelineMode,\n    path.solidsQuery ? `~${path.solidsQuery}` : ``,\n  ].join('');\n\n  return `${root}/${path.pathSolids.join('/')}`;\n}\n\nexport function explorerPathFromString(path: string) {\n  const [root, ...pathSolids] = path.split('/');\n  const match = /^([^:@~]+)@?([^:~]+)?:?([^:~]+)?~?(.*)$/.exec(root);\n  const [, pipelineName, snapshotId, pipelineMode, solidsQuery] = [\n    ...(match || []),\n    '',\n    '',\n    '',\n    '',\n  ];\n\n  return {\n    pipelineName,\n    pipelineMode,\n    snapshotId,\n    solidsQuery,\n    pathSolids,\n  };\n}\n\nexport function useStripSnapshotFromPath(params: {pipelinePath: string}) {\n  const history = useHistory();\n  const {pipelinePath} = params;\n\n  React.useEffect(() => {\n    const {snapshotId, ...rest} = explorerPathFromString(pipelinePath);\n    if (!snapshotId) {\n      return;\n    }\n    history.replace({\n      pathname: history.location.pathname.replace(\n        new RegExp(`/${pipelinePath}/?`),\n        `/${explorerPathToString(rest)}`,\n      ),\n    });\n  }, [history, pipelinePath]);\n}\n\nexport function useEnforceModeInPipelinePath() {\n  const {options} = useRepositoryOptions();\n  const history = useHistory();\n\n  const match = useRouteMatch<{repoPath: string; pipelinePath: string}>([\n    '/workspace/:repoPath/pipelines/:pipelinePath',\n    '/workspace/:repoPath/jobs/:pipelinePath',\n  ]);\n\n  const pipelinePath = match?.params.pipelinePath;\n  const repoPath = match?.params.repoPath;\n  const urlMatch = match?.url;\n\n  React.useEffect(() => {\n    if (!pipelinePath || !repoPath || !urlMatch) {\n      return;\n    }\n    const repoAddress = repoAddressFromPath(repoPath);\n    const path = explorerPathFromString(pipelinePath);\n    if (!repoAddress || path.pipelineMode) {\n      return;\n    }\n\n    const repo = options.find(\n      (o) =>\n        o.repository.name === repoAddress.name &&\n        o.repositoryLocation.name === repoAddress.location,\n    );\n    const mode = repo?.repository.pipelines.find((p) => p.name === path.pipelineName)?.modes[0]\n      .name;\n\n    if (!mode) {\n      return;\n    }\n\n    history.replace(\n      urlMatch.replace(\n        new RegExp(`/${pipelinePath}/?`),\n        `/${explorerPathToString({...path, pipelineMode: mode})}`,\n      ),\n    );\n  }, [history, pipelinePath, repoPath, urlMatch, options]);\n}\n\nexport const PipelineSnapshotLink: React.FunctionComponent<{\n  pipelineName: string;\n  pipelineMode: string;\n  snapshotId: string;\n}> = (props) => {\n  const snapshotLink = `/instance/snapshots/${explorerPathToString({\n    pipelineName: props.pipelineName,\n    pipelineMode: props.pipelineMode,\n    snapshotId: props.snapshotId,\n    solidsQuery: '',\n    pathSolids: [],\n  })}`;\n\n  return (\n    <Mono>\n      <Link to={snapshotLink}>{props.snapshotId.slice(0, 8)}</Link>\n    </Mono>\n  );\n};\n","import {PipelineRunStatus} from '../types/globalTypes';\n\nexport const queuedStatuses = new Set([PipelineRunStatus.QUEUED]);\n\nexport const inProgressStatuses = new Set([\n  PipelineRunStatus.STARTED,\n  PipelineRunStatus.STARTING,\n  PipelineRunStatus.CANCELING,\n]);\n\nexport const successStatuses = new Set([PipelineRunStatus.SUCCESS]);\nexport const failedStatuses = new Set([PipelineRunStatus.FAILURE, PipelineRunStatus.CANCELED]);\nexport const canceledStatuses = new Set([PipelineRunStatus.CANCELING, PipelineRunStatus.CANCELED]);\n\nexport const doneStatuses = new Set([\n  PipelineRunStatus.FAILURE,\n  PipelineRunStatus.SUCCESS,\n  PipelineRunStatus.CANCELED,\n]);\n","import * as React from 'react';\nimport styled, {createGlobalStyle} from 'styled-components/macro';\n\nimport {ColorsWIP} from './Colors';\n\n// Based directly on Material Icons font names.\nexport type IconName =\n  | 'account_tree'\n  | 'alternate_email'\n  | 'arrow_back'\n  | 'arrow_downward'\n  | 'arrow_drop_down'\n  | 'arrow_forward'\n  | 'arrow_upward'\n  | 'assignment'\n  | 'assignment_turned_in'\n  | 'attach_file'\n  | 'bolt'\n  | 'cached'\n  | 'check_circle'\n  | 'chevron_right'\n  | 'chevron_left'\n  | 'close'\n  | 'delete'\n  | 'done'\n  | 'download_for_offline'\n  | 'edit'\n  | 'error'\n  | 'expand_less'\n  | 'expand_more'\n  | 'filter_alt'\n  | 'folder'\n  | 'folder_open'\n  | 'info'\n  | 'history'\n  | 'layers'\n  | 'linear_scale'\n  | 'link'\n  | 'location_on'\n  | 'menu'\n  | 'menu_book'\n  | 'open_in_new'\n  | 'refresh'\n  | 'schedule'\n  | 'schema'\n  | 'search'\n  | 'sensors'\n  | 'settings'\n  | 'settings_backup_restore'\n  | 'sort_by_alpha'\n  | 'source'\n  | 'speed'\n  | 'star'\n  | 'table_view'\n  | 'toggle_off'\n  | 'toggle_on'\n  | 'visibility'\n  | 'warning'\n  | 'workspaces'\n  | 'zoom_in'\n  | 'zoom_out';\n\ninterface Props {\n  color?: string;\n  name: IconName;\n  size?: 16 | 20 | 24;\n}\n\nexport const IconWIP = (props: Props) => {\n  const {color = ColorsWIP.Dark, name, size = 16} = props;\n  return (\n    <IconWrapper $size={size} $color={color} className=\"material-icons\">\n      {name}\n    </IconWrapper>\n  );\n};\n\nexport const IconWrapper = styled.span<{$color: string; $size: number}>`\n  color: ${({$color}) => `${$color}`};\n  font-size: ${({$size}) => `${$size}px`};\n  user-select: none;\n`;\n\ncreateGlobalStyle`\n  .bp3-button .material-icons {\n    position: relative;\n    top: 1px;\n  }\n`;\n","import {gql} from '@apollo/client';\nimport {AnchorButton, Button, Classes, Colors, Dialog} from '@blueprintjs/core';\nimport {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\n\nimport {AppContext} from '../app/AppContext';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\nimport {PipelineRunStatus} from '../types/globalTypes';\nimport {Group} from '../ui/Group';\nimport {HighlightedCodeBlock} from '../ui/HighlightedCodeBlock';\nimport {MetadataTable} from '../ui/MetadataTable';\n\nimport {RunTags} from './RunTags';\nimport {TimeElapsed} from './TimeElapsed';\nimport {RunDetailsFragment} from './types/RunDetailsFragment';\nimport {RunFragment} from './types/RunFragment';\n\nexport const timingStringForStatus = (status?: PipelineRunStatus) => {\n  switch (status) {\n    case PipelineRunStatus.QUEUED:\n      return 'Queued';\n    case PipelineRunStatus.CANCELED:\n      return 'Canceled';\n    case PipelineRunStatus.CANCELING:\n      return 'Canceling';\n    case PipelineRunStatus.FAILURE:\n      return 'Failed';\n    case PipelineRunStatus.NOT_STARTED:\n      return 'Waiting to start';\n    case PipelineRunStatus.STARTED:\n      return 'Started';\n    case PipelineRunStatus.STARTING:\n      return 'Starting';\n    case PipelineRunStatus.SUCCESS:\n      return 'Succeeded';\n    default:\n      return 'None';\n  }\n};\n\nconst LoadingOrValue: React.FC<{\n  loading: boolean;\n  children: () => React.ReactNode;\n}> = ({loading, children}) =>\n  loading ? <div style={{color: Colors.GRAY3}}>Loading</div> : <div>{children()}</div>;\n\nconst TIME_FORMAT = {showSeconds: true, showTimezone: false};\n\nexport const RunDetails: React.FC<{\n  loading: boolean;\n  run: RunDetailsFragment | undefined;\n}> = ({loading, run}) => {\n  return (\n    <MetadataTable\n      spacing={0}\n      rows={[\n        {\n          key: 'Started',\n          value: (\n            <LoadingOrValue loading={loading}>\n              {() => {\n                if (run?.stats.__typename === 'PipelineRunStatsSnapshot' && run.stats.startTime) {\n                  return (\n                    <TimestampDisplay timestamp={run.stats.startTime} timeFormat={TIME_FORMAT} />\n                  );\n                }\n                return (\n                  <div style={{color: Colors.GRAY3}}>{timingStringForStatus(run?.status)}</div>\n                );\n              }}\n            </LoadingOrValue>\n          ),\n        },\n        {\n          key: 'Ended',\n          value: (\n            <LoadingOrValue loading={loading}>\n              {() => {\n                if (run?.stats.__typename === 'PipelineRunStatsSnapshot' && run.stats.endTime) {\n                  return (\n                    <TimestampDisplay timestamp={run.stats.endTime} timeFormat={TIME_FORMAT} />\n                  );\n                }\n                return (\n                  <div style={{color: Colors.GRAY3}}>{timingStringForStatus(run?.status)}</div>\n                );\n              }}\n            </LoadingOrValue>\n          ),\n        },\n        {\n          key: 'Duration',\n          value: (\n            <LoadingOrValue loading={loading}>\n              {() => {\n                if (run?.stats.__typename === 'PipelineRunStatsSnapshot' && run.stats.startTime) {\n                  return (\n                    <TimeElapsed startUnix={run.stats.startTime} endUnix={run.stats.endTime} />\n                  );\n                }\n                return (\n                  <div style={{color: Colors.GRAY3}}>{timingStringForStatus(run?.status)}</div>\n                );\n              }}\n            </LoadingOrValue>\n          ),\n        },\n      ]}\n    />\n  );\n};\n\nexport const RunConfigDialog: React.FC<{run: RunFragment}> = ({run}) => {\n  const [showDialog, setShowDialog] = React.useState(false);\n  const {rootServerURI} = React.useContext(AppContext);\n  return (\n    <div>\n      <Group direction=\"row\" spacing={8}>\n        <Button text=\"View tags and config\" icon=\"tag\" onClick={() => setShowDialog(true)} />\n        <Tooltip content=\"Loadable in dagit-debug\" position=\"bottom-right\">\n          <AnchorButton\n            text=\"Debug file\"\n            icon=\"download\"\n            href={`${rootServerURI}/download_debug/${run.runId}`}\n          />\n        </Tooltip>\n      </Group>\n\n      <Dialog\n        isOpen={showDialog}\n        onClose={() => setShowDialog(false)}\n        style={{width: '800px'}}\n        title=\"Run configuration\"\n      >\n        <div className={Classes.DIALOG_BODY}>\n          <Group direction=\"column\" spacing={20}>\n            <Group direction=\"column\" spacing={12}>\n              <div style={{fontSize: '16px', fontWeight: 600}}>Tags</div>\n              <div>\n                <RunTags tags={run.tags} />\n              </div>\n            </Group>\n            <Group direction=\"column\" spacing={12}>\n              <div style={{fontSize: '16px', fontWeight: 600}}>Config</div>\n              <HighlightedCodeBlock value={run?.runConfigYaml || ''} language=\"yaml\" />\n            </Group>\n          </Group>\n        </div>\n        <div className={Classes.DIALOG_FOOTER}>\n          <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button onClick={() => setShowDialog(false)} intent=\"primary\">\n              OK\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n};\n\nexport const RUN_DETAILS_FRAGMENT = gql`\n  fragment RunDetailsFragment on PipelineRun {\n    id\n    stats {\n      ... on PipelineRunStatsSnapshot {\n        id\n        endTime\n        startTime\n      }\n    }\n    status\n  }\n`;\n","import {gql, useMutation} from '@apollo/client';\nimport {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\n\nimport {DISABLED_MESSAGE, usePermissions} from '../app/Permissions';\nimport {InstigationStatus} from '../types/globalTypes';\nimport {SwitchWithoutLabel} from '../ui/SwitchWithoutLabel';\nimport {repoAddressToSelector} from '../workspace/repoAddressToSelector';\nimport {RepoAddress} from '../workspace/types';\n\nimport {\n  displayScheduleMutationErrors,\n  START_SCHEDULE_MUTATION,\n  STOP_SCHEDULE_MUTATION,\n} from './ScheduleMutations';\nimport {ScheduleSwitchFragment} from './types/ScheduleSwitchFragment';\nimport {StartSchedule} from './types/StartSchedule';\nimport {StopSchedule} from './types/StopSchedule';\n\ninterface Props {\n  large?: boolean;\n  repoAddress: RepoAddress;\n  schedule: ScheduleSwitchFragment;\n}\n\nexport const ScheduleSwitch: React.FC<Props> = (props) => {\n  const {large = true, repoAddress, schedule} = props;\n  const {name, scheduleState} = schedule;\n  const {status, id} = scheduleState;\n\n  const {canStartSchedule, canStopRunningSchedule} = usePermissions();\n\n  const [startSchedule, {loading: toggleOnInFlight}] = useMutation<StartSchedule>(\n    START_SCHEDULE_MUTATION,\n    {\n      onCompleted: displayScheduleMutationErrors,\n    },\n  );\n  const [stopSchedule, {loading: toggleOffInFlight}] = useMutation<StopSchedule>(\n    STOP_SCHEDULE_MUTATION,\n    {\n      onCompleted: displayScheduleMutationErrors,\n    },\n  );\n\n  const scheduleSelector = {\n    ...repoAddressToSelector(repoAddress),\n    scheduleName: name,\n  };\n\n  const onStatusChange = () => {\n    if (status === InstigationStatus.RUNNING) {\n      stopSchedule({\n        variables: {scheduleOriginId: id},\n      });\n    } else {\n      startSchedule({\n        variables: {scheduleSelector},\n      });\n    }\n  };\n\n  const running = status === InstigationStatus.RUNNING;\n\n  if (canStartSchedule && canStopRunningSchedule) {\n    return (\n      <SwitchWithoutLabel\n        checked={running || toggleOnInFlight}\n        large={large}\n        disabled={toggleOffInFlight || toggleOnInFlight}\n        innerLabelChecked=\"on\"\n        innerLabel=\"off\"\n        onChange={onStatusChange}\n      />\n    );\n  }\n\n  const lacksPermission = (running && !canStopRunningSchedule) || (!running && !canStartSchedule);\n  const disabled = toggleOffInFlight || toggleOnInFlight || lacksPermission;\n\n  return (\n    <Tooltip content={lacksPermission ? DISABLED_MESSAGE : undefined}>\n      <SwitchWithoutLabel\n        checked={running || toggleOnInFlight}\n        large={large}\n        disabled={disabled}\n        innerLabelChecked=\"on\"\n        innerLabel=\"off\"\n        onChange={onStatusChange}\n      />\n    </Tooltip>\n  );\n};\n\nexport const SCHEDULE_SWITCH_FRAGMENT = gql`\n  fragment ScheduleSwitchFragment on Schedule {\n    id\n    name\n    scheduleState {\n      id\n      status\n    }\n  }\n`;\n","import styled, {css} from 'styled-components/macro';\n\nimport {assertUnreachable} from '../app/Util';\n\nimport {BorderSetting, DirectionalSpacing, FlexProperties} from './types';\n\ninterface Props {\n  background?: string | null;\n  border?: BorderSetting | null;\n  flex?: FlexProperties | null;\n  margin?: DirectionalSpacing | null;\n  padding?: DirectionalSpacing | null;\n}\n\nconst flexPropertiesToCSS = (flex: FlexProperties) => {\n  return css`\n    display: ${flex.display || 'flex'};\n    ${flex.alignItems ? `align-items: ${flex.alignItems};` : null}\n    ${flex.basis ? `flex-basis: ${flex.basis};` : null}\n    ${flex.direction ? `flex-direction: ${flex.direction};` : null}\n    ${flex.justifyContent ? `justify-content: ${flex.justifyContent};` : null}\n    ${flex.grow ? `flex-grow: ${flex.grow};` : null}\n    ${flex.wrap ? `flex-wrap: ${flex.wrap};` : null}\n    ${flex.gap ? `gap: ${flex.gap}px;` : null}\n    ${flex.shrink !== null && flex.shrink !== undefined ? `flex-shrink: ${flex.shrink};` : null}\n  `;\n};\n\nconst backgroundColor = (background: string) => {\n  return css`\n    background-color: ${background};\n  `;\n};\n\nconst directionalSpacingToCSS = (property: string, spacing: DirectionalSpacing) => {\n  if (typeof spacing === 'number') {\n    return css`\n      ${property}: ${spacing}px;\n    `;\n  }\n  const top = spacing.vertical || spacing.top || 0;\n  const right = spacing.horizontal || spacing.right || 0;\n  const bottom = spacing.vertical || spacing.bottom || 0;\n  const left = spacing.horizontal || spacing.left || 0;\n  return css`\n    ${property}: ${top}px ${right}px ${bottom}px ${left}px;\n  `;\n};\n\nconst borderSettingToCSS = (border: BorderSetting) => {\n  const {side, width, color} = border;\n  switch (side) {\n    case 'all':\n      return css`\n        box-shadow: inset 0 0 0 ${width}px ${color};\n      `;\n    case 'horizontal':\n      return css`\n        box-shadow: inset 0 ${width}px ${color}, inset 0 -${width}px ${color};\n      `;\n    case 'vertical':\n      return css`\n        box-shadow: inset ${width}px 0 ${color}, inset -${width}px 0 ${color};\n      `;\n    case 'top':\n      return css`\n        box-shadow: inset 0 ${width}px ${color};\n      `;\n    case 'bottom':\n      return css`\n        box-shadow: inset 0 -${width}px ${color};\n      `;\n    case 'right':\n      return css`\n        box-shadow: inset -${width}px 0 ${color};\n      `;\n    case 'left':\n      return css`\n        box-shadow: inset ${width}px 0 ${color};\n      `;\n    default:\n      assertUnreachable(side);\n  }\n};\n\nexport const Box = styled.div<Props>`\n  ${({flex}) => (flex ? flexPropertiesToCSS(flex) : null)}\n  ${({background}) => (background ? backgroundColor(background) : null)}\n  ${({margin}) => (margin ? directionalSpacingToCSS('margin', margin) : null)}\n  ${({padding}) => (padding ? directionalSpacingToCSS('padding', padding) : null)}\n  ${({border}) => (border ? borderSettingToCSS(border) : null)}\n`;\n","import {gql, useMutation} from '@apollo/client';\nimport {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\n\nimport {DISABLED_MESSAGE, usePermissions} from '../app/Permissions';\nimport {InstigationStatus} from '../types/globalTypes';\nimport {SwitchWithoutLabel} from '../ui/SwitchWithoutLabel';\nimport {repoAddressToSelector} from '../workspace/repoAddressToSelector';\nimport {RepoAddress} from '../workspace/types';\n\nimport {\n  displaySensorMutationErrors,\n  START_SENSOR_MUTATION,\n  STOP_SENSOR_MUTATION,\n} from './SensorMutations';\nimport {SensorSwitchFragment} from './types/SensorSwitchFragment';\nimport {StartSensor} from './types/StartSensor';\nimport {StopSensor} from './types/StopSensor';\n\ninterface Props {\n  large?: boolean;\n  repoAddress: RepoAddress;\n  sensor: SensorSwitchFragment;\n}\n\nexport const SensorSwitch: React.FC<Props> = (props) => {\n  const {large = true, repoAddress, sensor} = props;\n  const {canStartSensor, canStopSensor} = usePermissions();\n\n  const {jobOriginId, name, sensorState} = sensor;\n  const {status} = sensorState;\n  const sensorSelector = {\n    ...repoAddressToSelector(repoAddress),\n    sensorName: name,\n  };\n\n  const [startSensor, {loading: toggleOnInFlight}] = useMutation<StartSensor>(\n    START_SENSOR_MUTATION,\n    {onCompleted: displaySensorMutationErrors},\n  );\n  const [stopSensor, {loading: toggleOffInFlight}] = useMutation<StopSensor>(STOP_SENSOR_MUTATION, {\n    onCompleted: displaySensorMutationErrors,\n  });\n\n  const onChangeSwitch = () => {\n    if (status === InstigationStatus.RUNNING) {\n      stopSensor({variables: {jobOriginId}});\n    } else {\n      startSensor({variables: {sensorSelector}});\n    }\n  };\n\n  const running = status === InstigationStatus.RUNNING;\n\n  if (canStartSensor && canStopSensor) {\n    return (\n      <SwitchWithoutLabel\n        disabled={toggleOnInFlight || toggleOffInFlight}\n        large={large}\n        innerLabelChecked=\"on\"\n        innerLabel=\"off\"\n        checked={running || toggleOnInFlight}\n        onChange={onChangeSwitch}\n      />\n    );\n  }\n\n  const lacksPermission = (running && !canStartSensor) || (!running && !canStopSensor);\n  const disabled = toggleOffInFlight || toggleOnInFlight || lacksPermission;\n\n  return (\n    <Tooltip content={lacksPermission ? DISABLED_MESSAGE : undefined}>\n      <SwitchWithoutLabel\n        disabled={disabled}\n        large={large}\n        innerLabelChecked=\"on\"\n        innerLabel=\"off\"\n        checked={running || toggleOnInFlight}\n        onChange={onChangeSwitch}\n      />\n    </Tooltip>\n  );\n};\n\nexport const SENSOR_SWITCH_FRAGMENT = gql`\n  fragment SensorSwitchFragment on Sensor {\n    id\n    jobOriginId\n    name\n    sensorState {\n      id\n      status\n    }\n  }\n`;\n","import {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport gfm from 'remark-gfm';\nimport styled from 'styled-components/macro';\n\ninterface Props {\n  children: string;\n}\n\nexport const Markdown: React.FC<Props> = (props) => {\n  return (\n    <Container>\n      <ReactMarkdown remarkPlugins={[gfm]} {...props} />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  table tr th {\n    color: ${Colors.GRAY3};\n    font-weight: normal;\n    padding: 4px 16px 4px 0;\n    text-align: left;\n  }\n\n  table tr td {\n    padding: 2px 16px 2px 0;\n  }\n\n  table tr th:last-child,\n  table tr td:last-child {\n    padding-right: 0;\n  }\n`;\n","import {Colors, Tag as BlueprintTag} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\ninterface ITagProps {\n  tag: {\n    key: string;\n    value: string;\n  };\n  onClick?: (tag: {key: string; value: string}) => void;\n  isDagsterTag?: boolean;\n}\n\nexport const Tag = ({tag, onClick, isDagsterTag}: ITagProps) => {\n  const onTagClick = () => onClick && onClick(tag);\n\n  return (\n    <TagElement isDagsterTag={isDagsterTag} onClick={onTagClick}>\n      <TagKey>{tag.key}</TagKey>\n      <TagValue isDagsterTag={isDagsterTag}>{tag.value}</TagValue>\n    </TagElement>\n  );\n};\n\ninterface TagChildProps {\n  isDagsterTag?: boolean;\n}\n\nconst TagElement = styled(({isDagsterTag, ...rest}) => <BlueprintTag {...rest} />)<TagChildProps>`\n  padding: 1px !important;\n  margin: 1px 2px !important;\n  overflow: hidden;\n  background-color: ${({isDagsterTag}) => (isDagsterTag ? Colors.LIGHT_GRAY2 : Colors.GRAY1)};\n  border: ${({isDagsterTag}) =>\n    isDagsterTag ? `1px solid ${Colors.LIGHT_GRAY1}` : `1px solid ${Colors.GRAY1}`};\n  color: ${({isDagsterTag}) => (isDagsterTag ? Colors.DARK_GRAY1 : Colors.WHITE)};\n  cursor: ${({onClick}) => (onClick ? `pointer` : 'default')};\n  max-width: 400px;\n`;\n\nconst TagKey = styled.span`\n  padding: 2px 4px;\n`;\n\nconst TagValue = styled.span<TagChildProps>`\n  background-color: ${({isDagsterTag}) => (isDagsterTag ? Colors.LIGHT_GRAY4 : Colors.GRAY3)};\n  border-radius: 3px;\n  padding: 2px 4px;\n`;\n","import {HTMLTable, Colors, IHTMLTableProps} from '@blueprintjs/core';\nimport styled from 'styled-components/macro';\n\ninterface TableProps extends IHTMLTableProps {\n  $compact?: boolean;\n}\n\nexport const Table = styled(HTMLTable)<TableProps>`\n  border: none;\n  width: 100%;\n\n  & tr th {\n    box-shadow: none !important;\n    color: ${Colors.GRAY2};\n    font-size: 12px;\n    padding: ${({$compact}) => ($compact ? '8px 8px 8px 0' : '12px 24px 12px 0')};\n    text-transform: uppercase;\n    vertical-align: bottom;\n  }\n\n  & tr td {\n    color: ${Colors.DARK_GRAY4};\n    box-shadow: inset 0 1px ${Colors.LIGHT_GRAY3} !important;\n    padding: ${({$compact}) => ($compact ? '8px 8px 8px 0' : '12px 24px 12px 0')};\n  }\n\n  & tr td:first-child,\n  & tr th:first-child {\n    padding-left: 0;\n  }\n\n  & tr td:last-child,\n  & tr th:last-child {\n    padding-right: 0;\n  }\n`;\n","import {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {Box} from './Box';\nimport {ColorsWIP} from './Colors';\nimport {Group} from './Group';\nimport {IconName, IconWIP} from './Icon';\n\ninterface Props {\n  title: React.ReactNode;\n  icon?: IconName;\n  description?: React.ReactNode;\n  metadata?: React.ReactNode;\n  right?: React.ReactNode;\n}\n\nexport const PageHeader = (props: Props) => {\n  const {title, icon, description, metadata, right} = props;\n  return (\n    <Box flex={{direction: 'row', justifyContent: 'space-between'}} style={{width: '100%'}}>\n      <Box flex={{direction: 'row', alignItems: 'flex-start'}}>\n        <Group direction=\"column\" spacing={8}>\n          {title}\n          <Group direction=\"row\" spacing={4} alignItems=\"center\">\n            {icon ? <IconWIP color={ColorsWIP.Gray400} name={icon} /> : null}\n            <Description>{description}</Description>\n          </Group>\n        </Group>\n        {metadata ? (\n          <Box\n            border={{side: 'left', width: 1, color: Colors.LIGHT_GRAY3}}\n            padding={{horizontal: 20}}\n            margin={{left: 20}}\n          >\n            {metadata}\n          </Box>\n        ) : null}\n      </Box>\n      {right || null}\n    </Box>\n  );\n};\n\nconst Description = styled.div`\n  color: ${Colors.GRAY3};\n  white-space: nowrap;\n\n  a,\n  a:link,\n  a:visited,\n  a:hover,\n  a:active {\n    color: ${Colors.GRAY2};\n    font-weight: 500;\n  }\n\n  .bp3-breadcrumbs > li::after {\n    height: 12px;\n    width: 12px;\n    margin: 0 2px;\n  }\n`;\n","import {gql} from '@apollo/client';\n\nimport {DAEMON_HEALTH_FRAGMENT} from './DaemonList';\n\nexport const INSTANCE_HEALTH_FRAGMENT = gql`\n  fragment InstanceHealthFragment on Instance {\n    daemonHealth {\n      id\n      ...DaemonHealthFragment\n    }\n  }\n  ${DAEMON_HEALTH_FRAGMENT}\n`;\n","import {gql} from '@apollo/client';\nimport {Button, Classes, Colors, Dialog, Position} from '@blueprintjs/core';\nimport {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {copyValue} from '../app/DomUtils';\nimport {assertUnreachable} from '../app/Util';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP} from '../ui/Icon';\nimport {Markdown} from '../ui/Markdown';\n\nimport {MetadataEntryFragment} from './types/MetadataEntryFragment';\n\nexport const LogRowStructuredContentTable: React.FC<{\n  rows: {label: string; item: JSX.Element}[];\n  styles?: React.CSSProperties;\n}> = ({rows, styles}) => (\n  <div style={{overflow: 'auto', paddingBottom: 10, ...(styles || {})}}>\n    <StructuredContentTable cellPadding=\"0\" cellSpacing=\"0\">\n      <tbody>\n        {rows.map(({label, item}, idx) => (\n          <tr key={idx} style={{display: 'flex'}}>\n            <td\n              style={{\n                flex: 1,\n                maxWidth: 'max-content',\n              }}\n            >\n              {label}\n            </td>\n            <td style={{flex: 1}}>{item}</td>\n          </tr>\n        ))}\n      </tbody>\n    </StructuredContentTable>\n  </div>\n);\n\nexport const MetadataEntries: React.FC<{\n  entries?: MetadataEntryFragment[];\n}> = ({entries}) => {\n  if (!entries || !entries.length) {\n    return null;\n  }\n  return (\n    <LogRowStructuredContentTable\n      rows={entries.map((entry) => ({\n        label: entry.label,\n        item: <MetadataEntry entry={entry} />,\n      }))}\n    />\n  );\n};\n\nexport const MetadataEntry: React.FC<{\n  entry: MetadataEntryFragment;\n  expandSmallValues?: boolean;\n}> = ({entry, expandSmallValues}) => {\n  switch (entry.__typename) {\n    case 'EventPathMetadataEntry':\n      return (\n        <Group direction=\"row\" spacing={8} alignItems=\"center\">\n          <MetadataEntryAction\n            title={'Copy to clipboard'}\n            onClick={(e) => copyValue(e, entry.path)}\n          >\n            {entry.path}\n          </MetadataEntryAction>\n          <IconButton onClick={(e) => copyValue(e, entry.path)}>\n            <IconWIP name=\"assignment\" color={ColorsWIP.Gray500} />\n          </IconButton>\n        </Group>\n      );\n\n    case 'EventJsonMetadataEntry':\n      return expandSmallValues && entry.jsonString.length < 1000 ? (\n        <div style={{whiteSpace: 'pre-wrap'}}>\n          {JSON.stringify(JSON.parse(entry.jsonString), null, 2)}\n        </div>\n      ) : (\n        <MetadataEntryModalAction\n          label={entry.label}\n          copyContent={() => entry.jsonString}\n          content={() => (\n            <div style={{whiteSpace: 'pre-wrap'}}>\n              {JSON.stringify(JSON.parse(entry.jsonString), null, 2)}\n            </div>\n          )}\n        >\n          [Show JSON]\n        </MetadataEntryModalAction>\n      );\n\n    case 'EventUrlMetadataEntry':\n      return (\n        <Group direction=\"row\" spacing={8} alignItems=\"center\">\n          <MetadataEntryAction href={entry.url} title={`Open in a new tab`} target=\"_blank\">\n            {entry.url}\n          </MetadataEntryAction>\n          <a href={entry.url} target=\"_blank\" rel=\"noreferrer\">\n            <IconWIP name=\"link\" color={ColorsWIP.Gray500} />\n          </a>\n        </Group>\n      );\n    case 'EventTextMetadataEntry':\n      return <>{entry.text}</>;\n    case 'EventMarkdownMetadataEntry':\n      return expandSmallValues && entry.mdStr.length < 1000 ? (\n        <Markdown>{entry.mdStr}</Markdown>\n      ) : (\n        <MetadataEntryModalAction\n          label={entry.label}\n          copyContent={() => entry.mdStr}\n          content={() => <Markdown>{entry.mdStr}</Markdown>}\n        >\n          [Show Markdown]\n        </MetadataEntryModalAction>\n      );\n    case 'EventPythonArtifactMetadataEntry':\n      return (\n        <PythonArtifactLink\n          name={entry.name}\n          module={entry.module}\n          description={entry.description || ''}\n        />\n      );\n    case 'EventFloatMetadataEntry':\n      return <>{entry.floatValue}</>;\n    case 'EventIntMetadataEntry':\n      return <>{entry.intValue !== null ? entry.intValue : entry.intRepr}</>;\n    case 'EventPipelineRunMetadataEntry':\n      return (\n        <MetadataEntryLink to={`/instance/runs/${entry.runId}`}>{entry.runId}</MetadataEntryLink>\n      );\n    case 'EventAssetMetadataEntry':\n      return (\n        <MetadataEntryLink\n          to={`/instance/assets/${entry.assetKey.path.map(encodeURIComponent).join('/')}`}\n        >\n          {entry.assetKey.path.join(' > ')}\n        </MetadataEntryLink>\n      );\n    default:\n      return assertUnreachable(entry);\n  }\n};\n\nexport const METADATA_ENTRY_FRAGMENT = gql`\n  fragment MetadataEntryFragment on EventMetadataEntry {\n    __typename\n    label\n    description\n    ... on EventPathMetadataEntry {\n      path\n    }\n    ... on EventJsonMetadataEntry {\n      jsonString\n    }\n    ... on EventUrlMetadataEntry {\n      url\n    }\n    ... on EventTextMetadataEntry {\n      text\n    }\n    ... on EventMarkdownMetadataEntry {\n      mdStr\n    }\n    ... on EventPythonArtifactMetadataEntry {\n      module\n      name\n    }\n    ... on EventFloatMetadataEntry {\n      floatValue\n    }\n    ... on EventIntMetadataEntry {\n      intValue\n      intRepr\n    }\n    ... on EventPipelineRunMetadataEntry {\n      runId\n    }\n    ... on EventAssetMetadataEntry {\n      assetKey {\n        path\n      }\n    }\n  }\n`;\n\nconst IconButton = styled.button`\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  display: block;\n  padding: 0;\n`;\n\nconst PythonArtifactLink = ({\n  name,\n  module,\n  description,\n}: {\n  name: string;\n  module: string;\n  description: string;\n}) => (\n  <>\n    <Tooltip\n      hoverOpenDelay={100}\n      position={Position.TOP}\n      content={`${module}.${name}`}\n      usePortal\n      modifiers={{\n        preventOverflow: {enabled: false},\n        flip: {enabled: false},\n      }}\n    >\n      <span style={{cursor: 'pointer', textDecoration: 'underline'}}>{name}</span>\n    </Tooltip>{' '}\n    - {description}\n  </>\n);\n\nconst MetadataEntryModalAction: React.FunctionComponent<{\n  label: string;\n  content: () => React.ReactNode;\n  copyContent: () => string;\n}> = (props) => {\n  const [isExpanded, setExpanded] = React.useState(false);\n  return (\n    <>\n      <MetadataEntryAction onClick={() => setExpanded(true)}>{props.children}</MetadataEntryAction>\n      {isExpanded && (\n        <Dialog\n          icon=\"info-sign\"\n          usePortal={true}\n          style={{width: 'auto', minWidth: 400, maxWidth: '80vw'}}\n          title={props.label}\n          onClose={() => setExpanded(false)}\n          isOpen={true}\n        >\n          <MetadataEntryModalContent>{props.content()}</MetadataEntryModalContent>\n          <div className={Classes.DIALOG_FOOTER}>\n            <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n              <Button onClick={(e: React.MouseEvent) => copyValue(e, props.copyContent())}>\n                Copy\n              </Button>\n              <Button intent=\"primary\" autoFocus={true} onClick={() => setExpanded(false)}>\n                Close\n              </Button>\n            </div>\n          </div>\n        </Dialog>\n      )}\n    </>\n  );\n};\n\nconst MetadataEntryModalContent = styled.div`\n  font-size: 13px;\n  overflow: auto;\n  max-height: 500px;\n  background: ${Colors.WHITE};\n  border-top: 1px solid ${Colors.LIGHT_GRAY3};\n  padding: 20px;\n  margin: 0;\n  margin-bottom: 20px;\n`;\n\nconst MetadataEntryAction = styled.a`\n  text-decoration: underline;\n  color: inherit;\n  &:hover {\n    color: inherit;\n  }\n`;\n\nexport const MetadataEntryLink = styled(Link)`\n  text-decoration: underline;\n  color: inherit;\n  &:hover {\n    color: inherit;\n  }\n`;\n\nconst StructuredContentTable = styled.table`\n  width: 100%;\n  padding: 0;\n  margin-top: 4px;\n  border-top: 1px solid #dbc5ad;\n  border-left: 1px solid #dbc5ad;\n  background: #fffaf5;\n  td:first-child {\n    color: #a88860;\n  }\n  tbody > tr > td {\n    padding: 4px;\n    padding-right: 8px;\n    border-bottom: 1px solid #dbc5ad;\n    border-right: 1px solid #dbc5ad;\n    vertical-align: top;\n    box-shadow: none !important;\n  }\n`;\n","import {gql} from '@apollo/client';\nimport * as React from 'react';\n\nimport {RepositoryOriginFragment} from './types/RepositoryOriginFragment';\n\nexport const REPOSITORY_ORIGIN_FRAGMENT = gql`\n  fragment RepositoryOriginFragment on RepositoryOrigin {\n    id\n    repositoryLocationName\n    repositoryName\n    repositoryLocationMetadata {\n      key\n      value\n    }\n  }\n`;\n\nexport const REPOSITORY_INFO_FRAGMENT = gql`\n  fragment RepositoryInfoFragment on Repository {\n    id\n    name\n    location {\n      id\n      name\n    }\n    displayMetadata {\n      key\n      value\n    }\n  }\n`;\n\nexport const RepositoryOriginInformation: React.FunctionComponent<{\n  origin: RepositoryOriginFragment;\n}> = ({origin}) => {\n  return (\n    <>\n      {origin.repositoryLocationMetadata.map((metadata, idx) => (\n        <div key={idx}>\n          <span style={{marginRight: 5}}>{metadata.key}:</span>\n          <span style={{opacity: 0.5}}>{metadata.value}</span>\n        </div>\n      ))}\n    </>\n  );\n};\n","import * as React from 'react';\nimport styled, {css} from 'styled-components/macro';\n\nimport {Box} from './Box';\nimport {AlignItems, DirectionalSpacing, FlexProperties, FlexWrap, Spacing} from './types';\n\ntype Direction = 'row' | 'column';\n\ninterface Props {\n  alignItems?: AlignItems;\n  background?: string;\n  direction: Direction;\n  margin?: DirectionalSpacing;\n  padding?: DirectionalSpacing;\n  spacing: Spacing;\n  wrap?: FlexWrap;\n}\n\nconst flexDirection = (direction: Direction) => (direction === 'row' ? 'row' : 'column');\nconst childMargin = (direction: Direction, spacing: Spacing) => ({left: spacing, top: spacing});\n\nexport const Group: React.FC<Props> = (props) => {\n  const {alignItems, children, direction, spacing, wrap, ...rest} = props;\n  const wrappedChildren = React.Children.map(children, (child) => {\n    const margin = childMargin(direction, spacing);\n    return (\n      <GroupChild empty={!child} margin={margin}>\n        {child}\n      </GroupChild>\n    );\n  });\n\n  const flex: FlexProperties = {\n    direction: flexDirection(direction),\n  };\n\n  if (alignItems) {\n    flex.alignItems = alignItems;\n  }\n\n  if (wrap) {\n    flex.wrap = wrap;\n  }\n\n  return (\n    <Outer {...rest}>\n      <Inner flex={flex} direction={direction} spacing={spacing}>\n        {wrappedChildren}\n      </Inner>\n    </Outer>\n  );\n};\n\ntype GroupChildProps = {\n  empty: boolean;\n};\n\nconst GroupChild = styled(({empty, ...rest}) => <Box {...rest} />)<GroupChildProps>`\n  ${({empty}) => (empty ? 'display: none;' : '')}\n  pointer-events: auto;\n`;\n\ntype InnerProps = {\n  spacing: Spacing;\n};\n\nconst marginAdjustment = (props: InnerProps) => {\n  const {spacing} = props;\n  return css`\n    margin-left: -${spacing}px;\n    margin-top: -${spacing}px;\n  `;\n};\n\nconst Outer = styled(Box)`\n  pointer-events: none;\n`;\n\nconst Inner = styled(({direction, spacing, ...rest}) => <Box {...rest} />)<InnerProps>`\n  ${marginAdjustment}\n\n  > div:empty {\n    display: none;\n  }\n`;\n","import 'highlight.js/styles/xcode.css';\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n// https://github.com/highlightjs/highlight.js/issues/2682\n\n// @ts-ignore\nimport hljs from 'highlight.js/lib/core';\n// @ts-ignore\nimport sql from 'highlight.js/lib/languages/sql';\n// @ts-ignore\nimport yaml from 'highlight.js/lib/languages/yaml';\nimport * as React from 'react';\n\nconst {configure, highlightBlock} = hljs;\n\nhljs.registerLanguage('sql', sql);\nhljs.registerLanguage('yaml', yaml);\n\ninterface Props {\n  value: string;\n  language: 'yaml' | 'sql';\n  style?: React.CSSProperties;\n}\n\nexport const HighlightedCodeBlock = (props: Props) => {\n  const {language, value, ...rest} = props;\n  const node = React.useRef(null);\n\n  React.useEffect(() => {\n    if (node.current) {\n      configure({languages: [language]});\n      highlightBlock(node.current);\n    }\n  }, [language]);\n\n  return (\n    <pre\n      ref={node}\n      {...rest}\n      style={{backgroundColor: 'transparent', margin: 0, padding: 0, ...(rest.style || {})}}\n    >\n      {value}\n    </pre>\n  );\n};\n","import {Popover, Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled, {css, keyframes} from 'styled-components/macro';\n\nimport {PipelineRunStatus} from '../types/globalTypes';\nimport {Spinner} from '../ui/Spinner';\n\nimport {RunStats} from './RunStats';\nimport {inProgressStatuses, queuedStatuses} from './RunStatuses';\n\nconst RUN_STATUS_COLORS = {\n  QUEUED: Colors.BLUE5,\n  NOT_STARTED: Colors.GRAY1,\n  STARTING: Colors.GRAY3,\n  MANAGED: Colors.GRAY3,\n  STARTED: Colors.GRAY3,\n  SUCCESS: Colors.GREEN4,\n  FAILURE: Colors.RED3,\n  CANCELING: Colors.RED3,\n  CANCELED: Colors.RED3,\n};\n\nexport const RunStatusWithStats: React.FC<RunStatusProps & {runId: string}> = React.memo(\n  ({runId, ...rest}) => (\n    <Popover\n      position={'bottom'}\n      interactionKind={'hover'}\n      content={<RunStats runId={runId} />}\n      hoverOpenDelay={100}\n    >\n      <RunStatus {...rest} />\n    </Popover>\n  ),\n);\n\ninterface RunStatusProps {\n  status: PipelineRunStatus;\n  size?: number;\n}\n\nexport const RunStatus: React.FC<RunStatusProps> = React.memo(({status, size}) => {\n  if (status === 'STARTED') {\n    return <Spinner purpose=\"body-text\" />;\n  }\n  return (\n    <RunStatusDot\n      status={status}\n      size={size || 12}\n      pulse={inProgressStatuses.has(status) || queuedStatuses.has(status)}\n    />\n  );\n});\n\nconst pulseAnimation = keyframes`\n  0% {\n    filter: brightness(1);\n  }\n\n  50% {\n    filter: brightness(0.7);\n  }\n\n  100% {\n    filter: brightness(1);\n  }\n`;\n\nexport const RunStatusDot = styled.div<{\n  status: PipelineRunStatus;\n  size: number;\n  pulse?: boolean;\n}>`\n  width: ${({size}) => size}px;\n  height: ${({size}) => size}px;\n  border-radius: ${({size}) => size / 2}px;\n  transition: filter 200ms linear;\n  ${({pulse}) =>\n    pulse\n      ? css`\n          animation: ${pulseAnimation} 2s infinite;\n        `\n      : null}\n\n  background: ${({status}) => RUN_STATUS_COLORS[status]};\n  &:hover {\n    animation: none;\n    filter: brightness(0.7);\n  }\n`;\n","import moment from 'moment-timezone';\n\nexport const browserTimezone = () => Intl.DateTimeFormat().resolvedOptions().timeZone;\nexport const browserTimezoneAbbreviation = () => moment.tz(browserTimezone()).format('z');\nexport const automaticLabel = () => `Automatic (${browserTimezoneAbbreviation()})`;\n","import {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {usePermissions} from '../app/Permissions';\nimport {ShortcutHandler} from '../app/ShortcutHandler';\nimport {Box} from '../ui/Box';\nimport {ColorsWIP} from '../ui/Colors';\nimport {IconWIP, IconWrapper} from '../ui/Icon';\nimport {Spinner} from '../ui/Spinner';\nimport {repoAddressAsString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nimport {ReloadRepositoryLocationButton} from './ReloadRepositoryLocationButton';\n\nexport const RepositoryLink: React.FC<{repoAddress: RepoAddress}> = ({repoAddress}) => {\n  const {location} = repoAddress;\n  const {canReloadRepositoryLocation} = usePermissions();\n\n  return (\n    <Box flex={{display: 'inline-flex', direction: 'row', alignItems: 'center'}}>\n      <RepositoryName\n        to={workspacePathFromAddress(repoAddress)}\n        title={repoAddressAsString(repoAddress)}\n      >\n        {repoAddressAsString(repoAddress)}\n      </RepositoryName>\n      {canReloadRepositoryLocation ? (\n        <ReloadRepositoryLocationButton location={location}>\n          {({tryReload, reloading}) => (\n            <ShortcutHandler\n              onShortcut={tryReload}\n              shortcutLabel={`R`}\n              shortcutFilter={(e) => e.code === 'KeyR' && e.altKey}\n            >\n              <ReloadTooltip\n                content={\n                  reloading ? (\n                    'Reloading'\n                  ) : (\n                    <>\n                      Reload location <strong>{location}</strong>\n                    </>\n                  )\n                }\n              >\n                {reloading ? (\n                  <Spinner purpose=\"body-text\" />\n                ) : (\n                  <StyledButton onClick={tryReload}>\n                    <IconWIP name=\"refresh\" color={ColorsWIP.Gray400} />\n                  </StyledButton>\n                )}\n              </ReloadTooltip>\n            </ShortcutHandler>\n          )}\n        </ReloadRepositoryLocationButton>\n      ) : null}\n    </Box>\n  );\n};\n\nconst RepositoryName = styled(Link)`\n  max-width: 400px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst ReloadTooltip = styled(Tooltip)`\n  margin-left: 4px;\n\n  && {\n    display: block;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  display: block;\n  padding: 0;\n  margin: 0;\n\n  :focus:not(:focus-visible) {\n    outline: none;\n  }\n\n  & ${IconWrapper} {\n    display: block;\n    transition: color 100ms linear;\n  }\n\n  :hover ${IconWrapper} {\n    color: ${ColorsWIP.Blue500};\n  }\n`;\n","import {Button, Classes, Dialog, Intent} from '@blueprintjs/core';\nimport * as React from 'react';\n\ninterface ConfirmationOptions {\n  catchOnCancel?: boolean;\n  title?: string;\n  description?: JSX.Element | string;\n}\n\ninterface ConfirmationDialogProps extends ConfirmationOptions {\n  open: boolean;\n  onSubmit: () => void;\n  onClose: () => void;\n}\n\nconst ConfirmationDialog: React.FC<ConfirmationDialogProps> = ({\n  open,\n  title,\n  description,\n  onSubmit,\n  onClose,\n}) => {\n  return (\n    <Dialog icon={title ? 'info-sign' : undefined} onClose={onClose} title={title} isOpen={open}>\n      <div className={Classes.DIALOG_BODY}>\n        <p>{description}</p>\n      </div>\n      <div className={Classes.DIALOG_FOOTER}>\n        <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n          <Button onClick={onClose}>Cancel</Button>\n          <Button onClick={onSubmit} intent={Intent.WARNING}>\n            Confirm\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nconst CustomConfirmationContext = React.createContext<\n  (options: ConfirmationOptions) => Promise<void>\n>(Promise.reject);\n\nexport const useConfirmation = () => React.useContext(CustomConfirmationContext);\n\nexport const CustomConfirmationProvider: React.FunctionComponent = ({children}) => {\n  const [confirmationState, setConfirmationState] = React.useState<ConfirmationOptions | null>(\n    null,\n  );\n\n  const awaitingPromiseRef = React.useRef<{\n    resolve: () => void;\n    reject: () => void;\n  }>();\n\n  const openConfirmation = (options: ConfirmationOptions) => {\n    setConfirmationState(options);\n    return new Promise<void>((resolve, reject) => {\n      awaitingPromiseRef.current = {resolve, reject};\n    });\n  };\n\n  const handleClose = () => {\n    if (confirmationState?.catchOnCancel && awaitingPromiseRef.current) {\n      awaitingPromiseRef.current.reject();\n    }\n\n    setConfirmationState(null);\n  };\n\n  const handleSubmit = () => {\n    if (awaitingPromiseRef.current) {\n      awaitingPromiseRef.current.resolve();\n    }\n\n    setConfirmationState(null);\n  };\n\n  return (\n    <>\n      <CustomConfirmationContext.Provider value={openConfirmation}>\n        {children}\n      </CustomConfirmationContext.Provider>\n\n      <ConfirmationDialog\n        open={Boolean(confirmationState)}\n        onSubmit={handleSubmit}\n        onClose={handleClose}\n        {...confirmationState}\n      />\n    </>\n  );\n};\n","import {DagsterRepoOption} from './WorkspaceContext';\n\nexport const repoContainsPipeline = (\n  repo: DagsterRepoOption,\n  pipelineName: string,\n  snapshotId?: string,\n) => {\n  return repo.repository.pipelines.find(\n    (pipeline) =>\n      pipeline.name === pipelineName && (!snapshotId || snapshotId === pipeline.pipelineSnapshotId),\n  );\n};\n\nexport const findRepoContainingPipeline = (\n  options: DagsterRepoOption[],\n  pipelineName: string,\n  snapshotId?: string,\n) => {\n  return (options || []).filter((repo) => repoContainsPipeline(repo, pipelineName, snapshotId));\n};\n","import * as React from 'react';\n\nimport {Box} from '../ui/Box';\nimport {TokenizingFieldValue} from '../ui/TokenizingField';\n\nimport {RunTag} from './RunTag';\n\ninterface RunTagType {\n  key: string;\n  value: string;\n}\n\nexport const RunTags: React.FC<{\n  tags: RunTagType[];\n  onSetFilter?: (search: TokenizingFieldValue[]) => void;\n}> = React.memo(({tags, onSetFilter}) => {\n  if (!tags.length) {\n    return null;\n  }\n  const onClick = (tag: RunTagType) => {\n    onSetFilter && onSetFilter([{token: 'tag', value: `${tag.key}=${tag.value}`}]);\n  };\n\n  return (\n    <Box flex={{direction: 'row', wrap: 'wrap'}}>\n      {tags.map((tag, idx) => (\n        <RunTag tag={tag} key={idx} onClick={onClick} />\n      ))}\n    </Box>\n  );\n});\n","// @generated\n/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum BulkActionStatus {\n  CANCELED = \"CANCELED\",\n  COMPLETED = \"COMPLETED\",\n  FAILED = \"FAILED\",\n  REQUESTED = \"REQUESTED\",\n}\n\nexport enum ComputeIOType {\n  STDERR = \"STDERR\",\n  STDOUT = \"STDOUT\",\n}\n\nexport enum DagsterEventType {\n  ALERT_START = \"ALERT_START\",\n  ALERT_SUCCESS = \"ALERT_SUCCESS\",\n  ASSET_MATERIALIZATION = \"ASSET_MATERIALIZATION\",\n  ASSET_STORE_OPERATION = \"ASSET_STORE_OPERATION\",\n  ENGINE_EVENT = \"ENGINE_EVENT\",\n  HANDLED_OUTPUT = \"HANDLED_OUTPUT\",\n  HOOK_COMPLETED = \"HOOK_COMPLETED\",\n  HOOK_ERRORED = \"HOOK_ERRORED\",\n  HOOK_SKIPPED = \"HOOK_SKIPPED\",\n  LOADED_INPUT = \"LOADED_INPUT\",\n  LOGS_CAPTURED = \"LOGS_CAPTURED\",\n  OBJECT_STORE_OPERATION = \"OBJECT_STORE_OPERATION\",\n  PIPELINE_CANCELED = \"PIPELINE_CANCELED\",\n  PIPELINE_CANCELING = \"PIPELINE_CANCELING\",\n  PIPELINE_DEQUEUED = \"PIPELINE_DEQUEUED\",\n  PIPELINE_ENQUEUED = \"PIPELINE_ENQUEUED\",\n  PIPELINE_FAILURE = \"PIPELINE_FAILURE\",\n  PIPELINE_START = \"PIPELINE_START\",\n  PIPELINE_STARTING = \"PIPELINE_STARTING\",\n  PIPELINE_SUCCESS = \"PIPELINE_SUCCESS\",\n  STEP_EXPECTATION_RESULT = \"STEP_EXPECTATION_RESULT\",\n  STEP_FAILURE = \"STEP_FAILURE\",\n  STEP_INPUT = \"STEP_INPUT\",\n  STEP_OUTPUT = \"STEP_OUTPUT\",\n  STEP_RESTARTED = \"STEP_RESTARTED\",\n  STEP_SKIPPED = \"STEP_SKIPPED\",\n  STEP_START = \"STEP_START\",\n  STEP_SUCCESS = \"STEP_SUCCESS\",\n  STEP_UP_FOR_RETRY = \"STEP_UP_FOR_RETRY\",\n}\n\nexport enum ErrorSource {\n  FRAMEWORK_ERROR = \"FRAMEWORK_ERROR\",\n  INTERRUPT = \"INTERRUPT\",\n  UNEXPECTED_ERROR = \"UNEXPECTED_ERROR\",\n  USER_CODE_ERROR = \"USER_CODE_ERROR\",\n}\n\nexport enum EvaluationErrorReason {\n  FIELDS_NOT_DEFINED = \"FIELDS_NOT_DEFINED\",\n  FIELD_NOT_DEFINED = \"FIELD_NOT_DEFINED\",\n  MISSING_REQUIRED_FIELD = \"MISSING_REQUIRED_FIELD\",\n  MISSING_REQUIRED_FIELDS = \"MISSING_REQUIRED_FIELDS\",\n  RUNTIME_TYPE_MISMATCH = \"RUNTIME_TYPE_MISMATCH\",\n  SELECTOR_FIELD_ERROR = \"SELECTOR_FIELD_ERROR\",\n}\n\nexport enum InstigationStatus {\n  RUNNING = \"RUNNING\",\n  STOPPED = \"STOPPED\",\n}\n\nexport enum InstigationTickStatus {\n  FAILURE = \"FAILURE\",\n  SKIPPED = \"SKIPPED\",\n  STARTED = \"STARTED\",\n  SUCCESS = \"SUCCESS\",\n}\n\nexport enum InstigationType {\n  SCHEDULE = \"SCHEDULE\",\n  SENSOR = \"SENSOR\",\n}\n\nexport enum LocationStateChangeEventType {\n  LOCATION_DISCONNECTED = \"LOCATION_DISCONNECTED\",\n  LOCATION_ERROR = \"LOCATION_ERROR\",\n  LOCATION_RECONNECTED = \"LOCATION_RECONNECTED\",\n  LOCATION_UPDATED = \"LOCATION_UPDATED\",\n}\n\nexport enum LogLevel {\n  CRITICAL = \"CRITICAL\",\n  DEBUG = \"DEBUG\",\n  ERROR = \"ERROR\",\n  INFO = \"INFO\",\n  WARNING = \"WARNING\",\n}\n\nexport enum ObjectStoreOperationType {\n  CP_OBJECT = \"CP_OBJECT\",\n  GET_OBJECT = \"GET_OBJECT\",\n  RM_OBJECT = \"RM_OBJECT\",\n  SET_OBJECT = \"SET_OBJECT\",\n}\n\nexport enum PipelineRunStatus {\n  CANCELED = \"CANCELED\",\n  CANCELING = \"CANCELING\",\n  FAILURE = \"FAILURE\",\n  MANAGED = \"MANAGED\",\n  NOT_STARTED = \"NOT_STARTED\",\n  QUEUED = \"QUEUED\",\n  STARTED = \"STARTED\",\n  STARTING = \"STARTING\",\n  SUCCESS = \"SUCCESS\",\n}\n\nexport enum RepositoryLocationLoadStatus {\n  LOADED = \"LOADED\",\n  LOADING = \"LOADING\",\n}\n\nexport enum StepEventStatus {\n  FAILURE = \"FAILURE\",\n  SKIPPED = \"SKIPPED\",\n  SUCCESS = \"SUCCESS\",\n}\n\nexport enum StepKind {\n  COMPUTE = \"COMPUTE\",\n  UNRESOLVED_COLLECT = \"UNRESOLVED_COLLECT\",\n  UNRESOLVED_MAPPED = \"UNRESOLVED_MAPPED\",\n}\n\nexport enum TerminatePipelinePolicy {\n  MARK_AS_CANCELED_IMMEDIATELY = \"MARK_AS_CANCELED_IMMEDIATELY\",\n  SAFE_TERMINATE = \"SAFE_TERMINATE\",\n}\n\nexport interface AssetKeyInput {\n  path: string[];\n}\n\nexport interface ExecutionMetadata {\n  runId?: string | null;\n  tags?: ExecutionTag[] | null;\n  rootRunId?: string | null;\n  parentRunId?: string | null;\n}\n\nexport interface ExecutionParams {\n  selector: PipelineSelector;\n  runConfigData?: any | null;\n  mode?: string | null;\n  executionMetadata?: ExecutionMetadata | null;\n  stepKeys?: string[] | null;\n  preset?: string | null;\n}\n\nexport interface ExecutionTag {\n  key: string;\n  value: string;\n}\n\nexport interface InstigationSelector {\n  repositoryName: string;\n  repositoryLocationName: string;\n  name: string;\n}\n\nexport interface LaunchBackfillParams {\n  selector: PartitionSetSelector;\n  partitionNames: string[];\n  reexecutionSteps?: string[] | null;\n  fromFailure?: boolean | null;\n  tags?: ExecutionTag[] | null;\n  forceSynchronousSubmission?: boolean | null;\n}\n\nexport interface PartitionSetSelector {\n  partitionSetName: string;\n  repositorySelector: RepositorySelector;\n}\n\nexport interface PipelineRunsFilter {\n  runIds?: (string | null)[] | null;\n  pipelineName?: string | null;\n  tags?: ExecutionTag[] | null;\n  statuses?: PipelineRunStatus[] | null;\n  snapshotId?: string | null;\n  updatedAfter?: string | null;\n  mode?: string | null;\n}\n\nexport interface PipelineSelector {\n  pipelineName: string;\n  repositoryName: string;\n  repositoryLocationName: string;\n  solidSelection?: string[] | null;\n}\n\nexport interface RepositorySelector {\n  repositoryName: string;\n  repositoryLocationName: string;\n}\n\nexport interface ScheduleSelector {\n  repositoryName: string;\n  repositoryLocationName: string;\n  scheduleName: string;\n}\n\nexport interface SensorSelector {\n  repositoryName: string;\n  repositoryLocationName: string;\n  sensorName: string;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import {IconName, Tab, Tabs, Colors} from '@blueprintjs/core';\nimport {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport React from 'react';\nimport {Link, useRouteMatch} from 'react-router-dom';\n\nimport {useFeatureFlags} from '../app/Flags';\nimport {DISABLED_MESSAGE, PermissionsMap, usePermissions} from '../app/Permissions';\nimport {\n  explorerPathFromString,\n  explorerPathToString,\n  PipelineExplorerPath,\n} from '../pipelines/PipelinePathUtils';\nimport {Box} from '../ui/Box';\nimport {Group} from '../ui/Group';\nimport {PageHeader} from '../ui/PageHeader';\nimport {Heading} from '../ui/Text';\nimport {useRepository} from '../workspace/WorkspaceContext';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nimport {JobMetadata} from './JobMetadata';\nimport {RepositoryLink} from './RepositoryLink';\n\ninterface TabConfig {\n  title: string;\n  pathComponent: string;\n  icon: IconName;\n  isAvailable?: (permissions: PermissionsMap) => boolean;\n}\n\nconst pipelineTabs: {[key: string]: TabConfig} = {\n  overview: {title: 'Overview', pathComponent: '', icon: 'dashboard'},\n  playground: {\n    title: 'Playground',\n    pathComponent: 'playground',\n    icon: 'manually-entered-data',\n    isAvailable: (permissions: PermissionsMap) => permissions.canLaunchPipelineExecution,\n  },\n  runs: {\n    title: 'Runs',\n    pathComponent: 'runs',\n    icon: 'history',\n  },\n  partitions: {\n    title: 'Partitions',\n    pathComponent: 'partitions',\n    icon: 'multi-select',\n  },\n};\n\nconst currentOrder = ['overview', 'playground', 'runs', 'partitions'];\n\nexport function tabForPipelinePathComponent(component?: string): TabConfig {\n  const tabList = Object.keys(pipelineTabs);\n  const match =\n    tabList.find((t) => pipelineTabs[t].pathComponent === component) ||\n    tabList.find((t) => pipelineTabs[t].pathComponent === '')!;\n  return pipelineTabs[match];\n}\n\nconst tabForKey = (repoAddress: RepoAddress, explorerPath: PipelineExplorerPath) => {\n  const explorerPathForTab = explorerPathToString({\n    ...explorerPath,\n    pathSolids: [],\n  });\n\n  // When you click one of the top tabs, it resets the snapshot you may be looking at\n  // in the Definition tab and also clears solids from the path\n  return (key: string) => {\n    const tab = pipelineTabs[key];\n    return {\n      text: tab.title,\n      href: workspacePathFromAddress(\n        repoAddress,\n        `/pipelines/${explorerPathForTab}${tab.pathComponent}`,\n      ),\n      isAvailable: tab.isAvailable,\n    };\n  };\n};\n\ninterface Props {\n  repoAddress: RepoAddress;\n}\n\nexport const PipelineNav: React.FC<Props> = (props) => {\n  const {repoAddress} = props;\n  const permissions = usePermissions();\n  const {flagPipelineModeTuples} = useFeatureFlags();\n  const repo = useRepository(repoAddress);\n  const match = useRouteMatch<{tab?: string; selector: string}>([\n    '/workspace/:repoPath/pipelines/:selector/:tab?',\n    '/workspace/:repoPath/jobs/:selector/:tab?',\n  ]);\n\n  const active = tabForPipelinePathComponent(match!.params.tab);\n  const explorerPath = explorerPathFromString(match!.params.selector);\n  const {pipelineName, pipelineMode, snapshotId} = explorerPath;\n  const partitionSets = repo?.repository.partitionSets || [];\n\n  // If using pipeline:mode tuple (crag flag), check for partition sets that are for this specific\n  // pipeline:mode tuple. Otherwise, just check for a pipeline name match.\n  const hasPartitionSet = partitionSets.some(\n    (partitionSet) =>\n      partitionSet.pipelineName === pipelineName &&\n      (!flagPipelineModeTuples || partitionSet.mode === pipelineMode),\n  );\n\n  const tabs = currentOrder\n    .filter((key) => hasPartitionSet || key !== 'partitions')\n    .map(tabForKey(repoAddress, explorerPath));\n\n  return (\n    <Group direction=\"column\" spacing={12} padding={{top: 20, horizontal: 20}}>\n      <PageHeader\n        title={\n          <Heading>\n            {pipelineName}\n            {flagPipelineModeTuples && pipelineMode !== 'default' ? (\n              <span style={{opacity: 0.5}}> : {pipelineMode}</span>\n            ) : null}\n          </Heading>\n        }\n        icon={flagPipelineModeTuples ? 'workspaces' : 'schema'}\n        description={\n          <>\n            <Link\n              to={workspacePathFromAddress(\n                repoAddress,\n                flagPipelineModeTuples ? '/jobs' : '/pipelines',\n              )}\n            >\n              {flagPipelineModeTuples ? 'Job' : 'Pipeline'}\n            </Link>{' '}\n            in <RepositoryLink repoAddress={repoAddress} />\n          </>\n        }\n        metadata={\n          snapshotId ? null : (\n            <JobMetadata\n              pipelineName={pipelineName}\n              pipelineMode={pipelineMode}\n              repoAddress={repoAddress}\n            />\n          )\n        }\n      />\n      <Box border={{side: 'bottom', width: 1, color: Colors.LIGHT_GRAY3}}>\n        <Tabs large={false} selectedTabId={active.title}>\n          {tabs.map((tab) => {\n            const {href, text, isAvailable} = tab;\n            const disabled = isAvailable && !isAvailable(permissions);\n            const title = disabled ? (\n              <Tooltip content={DISABLED_MESSAGE} placement=\"top\">\n                {text}\n              </Tooltip>\n            ) : (\n              <Link to={href}>{text}</Link>\n            );\n            return <Tab key={text} id={text} title={title} disabled={disabled} />;\n          })}\n        </Tabs>\n      </Box>\n    </Group>\n  );\n};\n","import {buildRepoAddress} from './buildRepoAddress';\nimport {RepoAddress} from './types';\n\nexport const repoAddressFromPath = (path: string): RepoAddress | null => {\n  const postSplit = path.split('@');\n  if (postSplit.length === 2) {\n    const [name, location] = postSplit;\n    return buildRepoAddress(name, location);\n  }\n  return null;\n};\n","import {gql, useQuery} from '@apollo/client';\nimport {Button, Classes, Colors, Dialog} from '@blueprintjs/core';\nimport {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {useFeatureFlags} from '../app/Flags';\nimport {timingStringForStatus} from '../runs/RunDetails';\nimport {RunStatus} from '../runs/RunStatusDots';\nimport {RunTime, RUN_TIME_FRAGMENT} from '../runs/RunUtils';\nimport {ScheduleSwitch, SCHEDULE_SWITCH_FRAGMENT} from '../schedules/ScheduleSwitch';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\nimport {SensorSwitch, SENSOR_SWITCH_FRAGMENT} from '../sensors/SensorSwitch';\nimport {Box} from '../ui/Box';\nimport {ButtonLink} from '../ui/ButtonLink';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP} from '../ui/Icon';\nimport {MetadataTable, StyledTable} from '../ui/MetadataTable';\nimport {Mono} from '../ui/Text';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nimport {\n  JobMetadataQuery,\n  JobMetadataQuery_pipelineOrError_Pipeline as Job,\n  JobMetadataQuery_pipelineOrError_Pipeline_schedules as Schedule,\n  JobMetadataQuery_pipelineOrError_Pipeline_sensors as Sensor,\n} from './types/JobMetadataQuery';\nimport {RunMetadataFragment} from './types/RunMetadataFragment';\n\ninterface Props {\n  pipelineName: string;\n  pipelineMode: string;\n  repoAddress: RepoAddress;\n}\n\nexport const JobMetadata: React.FC<Props> = (props) => {\n  const {pipelineName, pipelineMode, repoAddress} = props;\n  const {flagPipelineModeTuples} = useFeatureFlags();\n\n  const {data, loading} = useQuery<JobMetadataQuery>(JOB_METADATA_QUERY, {\n    variables: {\n      params: {\n        pipelineName,\n        repositoryName: repoAddress.name,\n        repositoryLocationName: repoAddress.location,\n      },\n      runsFilter: {\n        pipelineName,\n        mode: flagPipelineModeTuples ? pipelineMode : undefined,\n      },\n    },\n  });\n\n  const job = React.useMemo(() => {\n    if (data?.pipelineOrError && data.pipelineOrError.__typename === 'Pipeline') {\n      return data.pipelineOrError;\n    }\n    return null;\n  }, [data]);\n\n  const runs = React.useMemo(() => {\n    if (data?.pipelineRunsOrError && data.pipelineRunsOrError.__typename === 'PipelineRuns') {\n      return data.pipelineRunsOrError.results;\n    }\n    return [];\n  }, [data]);\n\n  const lastRun = runs[0] || null;\n\n  return (\n    <MetadataTable\n      spacing={2}\n      rows={[\n        {\n          key: 'Schedule/sensor',\n          value: job ? (\n            <ScheduleOrSensor job={job} mode={pipelineMode} repoAddress={repoAddress} />\n          ) : (\n            <GrayText>{loading ? 'Loading' : 'None'}</GrayText>\n          ),\n        },\n        {\n          key: 'Latest run',\n          value: lastRun ? (\n            <LatestRun run={lastRun} />\n          ) : (\n            <GrayText>{loading ? 'Loading' : 'None'}</GrayText>\n          ),\n        },\n        {\n          key: 'Related assets',\n          value: runs.length ? (\n            <RelatedAssets runs={runs} />\n          ) : (\n            <GrayText>{loading ? 'Loading' : 'None'}</GrayText>\n          ),\n        },\n      ]}\n    />\n  );\n};\n\nconst ScheduleOrSensor: React.FC<{job: Job; mode: string; repoAddress: RepoAddress}> = ({\n  job,\n  mode,\n  repoAddress,\n}) => {\n  const {flagPipelineModeTuples} = useFeatureFlags();\n  const [open, setOpen] = React.useState(false);\n\n  const matchingSchedules = React.useMemo(() => {\n    if (job?.__typename === 'Pipeline' && job.schedules.length) {\n      return flagPipelineModeTuples\n        ? job.schedules.filter((schedule) => schedule.mode === mode)\n        : job.schedules;\n    }\n    return [];\n  }, [flagPipelineModeTuples, job, mode]);\n\n  const matchingSensors = React.useMemo(() => {\n    if (job?.__typename === 'Pipeline' && job.sensors.length) {\n      return flagPipelineModeTuples\n        ? job.sensors.filter((sensor) =>\n            sensor.targets?.some(\n              (target) => target.mode === mode && target.pipelineName === job.name,\n            ),\n          )\n        : job.sensors;\n    }\n    return [];\n  }, [flagPipelineModeTuples, job, mode]);\n\n  const scheduleCount = matchingSchedules.length;\n  const sensorCount = matchingSensors.length;\n\n  if (scheduleCount > 1 || sensorCount > 1 || (scheduleCount && sensorCount)) {\n    const buttonText =\n      scheduleCount && sensorCount\n        ? `View ${scheduleCount + sensorCount} schedules/sensors`\n        : scheduleCount\n        ? `View ${scheduleCount} schedules`\n        : `View ${sensorCount} sensors`;\n\n    const dialogTitle =\n      scheduleCount && sensorCount\n        ? 'Schedules and sensors'\n        : scheduleCount\n        ? 'Schedules'\n        : 'Sensors';\n\n    return (\n      <>\n        <ButtonLink onClick={() => setOpen(true)}>{buttonText}</ButtonLink>\n        <Dialog\n          title={dialogTitle}\n          canOutsideClickClose\n          canEscapeKeyClose\n          isOpen={open}\n          onClose={() => setOpen(false)}\n        >\n          <div className={Classes.DIALOG_BODY}>\n            <Group direction=\"column\" spacing={16}>\n              {matchingSchedules.map((schedule) => (\n                <MatchingSchedule\n                  key={schedule.name}\n                  schedule={schedule}\n                  repoAddress={repoAddress}\n                />\n              ))}\n              {matchingSensors.map((sensor) => (\n                <MatchingSensor key={sensor.name} sensor={sensor} repoAddress={repoAddress} />\n              ))}\n            </Group>\n          </div>\n          <div className={Classes.DIALOG_FOOTER}>\n            <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n              <Button text=\"OK\" onClick={() => setOpen(false)} />\n            </div>\n          </div>\n        </Dialog>\n      </>\n    );\n  }\n\n  if (scheduleCount) {\n    return <MatchingSchedule schedule={matchingSchedules[0]} repoAddress={repoAddress} />;\n  }\n\n  if (sensorCount) {\n    return <MatchingSensor sensor={matchingSensors[0]} repoAddress={repoAddress} />;\n  }\n\n  return <GrayText>None</GrayText>;\n};\n\nconst MatchingSchedule: React.FC<{schedule: Schedule; repoAddress: RepoAddress}> = ({\n  schedule,\n  repoAddress,\n}) => (\n  <Group direction=\"row\" spacing={8} alignItems=\"center\">\n    <IconWIP name=\"schedule\" color={ColorsWIP.Gray700} />\n    <Link to={workspacePathFromAddress(repoAddress, `/schedules/${schedule.name}`)}>\n      {schedule.name}\n    </Link>\n    <ScheduleSwitch large={false} repoAddress={repoAddress} schedule={schedule} />\n  </Group>\n);\n\nconst MatchingSensor: React.FC<{sensor: Sensor; repoAddress: RepoAddress}> = ({\n  sensor,\n  repoAddress,\n}) => (\n  <Group direction=\"row\" spacing={8} alignItems=\"center\">\n    <IconWIP name=\"sensors\" color={ColorsWIP.Gray700} />\n    <Link to={workspacePathFromAddress(repoAddress, `/sensors/${sensor.name}`)}>{sensor.name}</Link>\n    <SensorSwitch large={false} repoAddress={repoAddress} sensor={sensor} />\n  </Group>\n);\n\nconst TIME_FORMAT = {showSeconds: true, showTimezone: false};\n\nconst LatestRun: React.FC<{run: RunMetadataFragment}> = ({run}) => {\n  const stats = React.useMemo(() => {\n    if (run.stats.__typename === 'PipelineRunStatsSnapshot') {\n      return {start: run.stats.startTime, end: run.stats.endTime, status: run.status};\n    }\n    return null;\n  }, [run]);\n\n  return (\n    <Group direction=\"row\" spacing={8} alignItems=\"baseline\">\n      <RunStatus status={run.status} size={10} />\n      <Mono>\n        <Link to={`/instance/runs/${run.id}`}>{run.id.slice(0, 8)}</Link>\n      </Mono>\n      {stats ? (\n        <Tooltip\n          placement=\"bottom\"\n          content={\n            <StyledTable>\n              <tbody>\n                <tr>\n                  <td style={{color: Colors.GRAY4}}>\n                    <Box padding={{right: 16}}>Started</Box>\n                  </td>\n                  <td>\n                    {stats.start ? (\n                      <TimestampDisplay timestamp={stats.start} timeFormat={TIME_FORMAT} />\n                    ) : (\n                      timingStringForStatus(stats.status)\n                    )}\n                  </td>\n                </tr>\n                <tr>\n                  <td style={{color: Colors.GRAY4}}>Ended</td>\n                  <td>\n                    {stats.end ? (\n                      <TimestampDisplay timestamp={stats.end} timeFormat={TIME_FORMAT} />\n                    ) : (\n                      timingStringForStatus(stats.status)\n                    )}\n                  </td>\n                </tr>\n              </tbody>\n            </StyledTable>\n          }\n        >\n          <RunTime run={run} />\n        </Tooltip>\n      ) : null}\n    </Group>\n  );\n};\n\nconst RelatedAssets: React.FC<{runs: RunMetadataFragment[]}> = ({runs}) => {\n  const [open, setOpen] = React.useState(false);\n\n  const assetMap = {};\n  runs.forEach((run) => {\n    run.assets.forEach((asset) => {\n      const assetKeyStr = asset.key.path.join('/');\n      assetMap[assetKeyStr] = true;\n    });\n  });\n\n  const keys = Object.keys(assetMap);\n  if (keys.length === 0) {\n    return <GrayText>None</GrayText>;\n  }\n\n  if (keys.length === 1) {\n    const key = keys[0];\n    return <Link to={`/instance/assets/${key}`}>{key}</Link>;\n  }\n\n  return (\n    <>\n      <ButtonLink onClick={() => setOpen(true)}>{`View ${keys.length} assets`}</ButtonLink>\n      <Dialog\n        title=\"Related assets\"\n        canOutsideClickClose\n        canEscapeKeyClose\n        isOpen={open}\n        onClose={() => setOpen(false)}\n        style={{maxWidth: '80%', minWidth: '500px', width: 'auto'}}\n      >\n        <div className={Classes.DIALOG_BODY}>\n          <Group direction=\"column\" spacing={16}>\n            {keys.map((key) => (\n              <Link key={key} to={`/instance/assets/${key}`} style={{wordBreak: 'break-word'}}>\n                {key}\n              </Link>\n            ))}\n          </Group>\n        </div>\n        <div className={Classes.DIALOG_FOOTER}>\n          <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button text=\"OK\" onClick={() => setOpen(false)} />\n          </div>\n        </div>\n      </Dialog>\n    </>\n  );\n};\n\nconst GrayText = styled.div`\n  color: ${Colors.GRAY3};\n`;\n\nconst RUN_METADATA_FRAGMENT = gql`\n  fragment RunMetadataFragment on PipelineRun {\n    id\n    status\n    assets {\n      id\n      key {\n        path\n      }\n    }\n    ...RunTimeFragment\n  }\n  ${RUN_TIME_FRAGMENT}\n`;\n\nconst JOB_METADATA_QUERY = gql`\n  query JobMetadataQuery($params: PipelineSelector!, $runsFilter: PipelineRunsFilter) {\n    pipelineOrError(params: $params) {\n      ... on Pipeline {\n        id\n        name\n        schedules {\n          id\n          mode\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          targets {\n            pipelineName\n            mode\n          }\n          ...SensorSwitchFragment\n        }\n      }\n    }\n    pipelineRunsOrError(filter: $runsFilter, limit: 5) {\n      ... on PipelineRuns {\n        results {\n          id\n          ...RunMetadataFragment\n        }\n      }\n    }\n  }\n  ${SCHEDULE_SWITCH_FRAGMENT}\n  ${SENSOR_SWITCH_FRAGMENT}\n  ${RUN_METADATA_FRAGMENT}\n`;\n","import {gql, useQuery} from '@apollo/client';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {PythonErrorInfo, PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorInfo';\nimport {Box} from '../ui/Box';\nimport {Spinner} from '../ui/Spinner';\n\nimport {RunStatsQuery, RunStatsQueryVariables} from './types/RunStatsQuery';\n\nexport const RunStats = ({runId}: {runId: string}) => {\n  const stats = useQuery<RunStatsQuery, RunStatsQueryVariables>(RUN_STATS_QUERY, {\n    variables: {runId},\n  });\n\n  if (stats.loading || !stats.data) {\n    return (\n      <RunStatsDetailsContainer>\n        <Box padding={24} flex={{justifyContent: 'center'}}>\n          <Spinner purpose=\"section\" />\n        </Box>\n      </RunStatsDetailsContainer>\n    );\n  }\n\n  const result = stats.data.pipelineRunOrError;\n\n  if (result.__typename !== 'PipelineRun') {\n    return <PythonErrorInfo error={result} />;\n  }\n  if (result.stats.__typename !== 'PipelineRunStatsSnapshot') {\n    return <PythonErrorInfo error={result.stats} />;\n  }\n\n  const runPath = `/instance/runs/${runId}`;\n  return (\n    <RunStatsDetailsContainer>\n      <Link\n        to={`${runPath}?logs=type:STEP_SUCCESS`}\n      >{`${result.stats.stepsSucceeded} steps succeeded`}</Link>\n      <Link to={`${runPath}?logs=type:STEP_FAILURE`}>\n        {`${result.stats.stepsFailed} steps failed`}\n      </Link>\n      <Link\n        to={`${runPath}?logs=type:ASSET_MATERIALIZATION`}\n      >{`${result.stats.materializations} materializations`}</Link>\n      <Link\n        to={`${runPath}?logs=type:STEP_EXPECTATION_RESULT`}\n      >{`${result.stats.expectations} expectations passed`}</Link>\n    </RunStatsDetailsContainer>\n  );\n};\n\nconst RUN_STATS_QUERY = gql`\n  query RunStatsQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      __typename\n      ... on PythonError {\n        ...PythonErrorFragment\n      }\n      ... on PipelineRunNotFoundError {\n        message\n      }\n      ... on PipelineRun {\n        id\n        runId\n        pipelineName\n        stats {\n          ... on PipelineRunStatsSnapshot {\n            id\n            stepsSucceeded\n            stepsFailed\n            expectations\n            materializations\n          }\n          ... on PythonError {\n            ...PythonErrorFragment\n          }\n        }\n      }\n    }\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n\nconst RunStatsDetailsContainer = styled.div`\n  min-width: 200px;\n  padding: 20px;\n  color: white;\n  & > a {\n    display: block;\n  }\n`;\n","import {Button, Classes, Dialog} from '@blueprintjs/core';\nimport * as React from 'react';\n\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {PythonErrorFragment} from '../app/types/PythonErrorFragment';\nimport {Box} from '../ui/Box';\n\ninterface Props {\n  location: string;\n  isOpen: boolean;\n  error: PythonErrorFragment | {message: string} | null;\n  reloading: boolean;\n  onDismiss: () => void;\n  onTryReload: () => void;\n}\n\nexport const RepositoryLocationErrorDialog: React.FC<Props> = (props) => {\n  const {isOpen, error, location, reloading, onTryReload, onDismiss} = props;\n  return (\n    <Dialog\n      isOpen={isOpen}\n      title=\"Repository location error\"\n      canEscapeKeyClose={false}\n      canOutsideClickClose={false}\n      style={{width: '90%'}}\n    >\n      <ErrorContents location={location} error={error} />\n      <div className={Classes.DIALOG_FOOTER}>\n        <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n          <Button onClick={onTryReload} loading={reloading} intent=\"primary\">\n            Reload again\n          </Button>\n          <Button onClick={onDismiss}>Dismiss</Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport const RepositoryLocationNonBlockingErrorDialog: React.FC<Props> = (props) => {\n  const {isOpen, error, location, reloading, onTryReload, onDismiss} = props;\n  return (\n    <Dialog\n      isOpen={isOpen}\n      title=\"Repository location error\"\n      style={{width: '90%'}}\n      onClose={onDismiss}\n    >\n      <ErrorContents location={location} error={error} />\n      <div className={Classes.DIALOG_FOOTER}>\n        <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n          <Button onClick={onTryReload} loading={reloading} intent=\"primary\">\n            Reload\n          </Button>\n          <Button onClick={onDismiss}>Close</Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nconst ErrorContents: React.FC<{\n  location: string;\n  error: PythonErrorFragment | {message: string} | null;\n}> = ({location, error}) => (\n  <div className={Classes.DIALOG_BODY}>\n    <Box margin={{bottom: 12}}>\n      Error loading <strong>{location}</strong>. Try reloading the repository location after\n      resolving the issue.\n    </Box>\n    {error ? <PythonErrorInfo error={error} /> : null}\n  </div>\n);\n","import {gql, useApolloClient, useMutation, useQuery} from '@apollo/client';\nimport {Intent} from '@blueprintjs/core';\nimport * as React from 'react';\n\nimport {SharedToaster} from '../app/DomUtils';\nimport {useInvalidateConfigsForRepo} from '../app/LocalStorage';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorInfo';\nimport {PythonErrorFragment} from '../app/types/PythonErrorFragment';\nimport {RepositoryLocationLoadStatus} from '../types/globalTypes';\n\nimport {\n  ReloadRepositoryLocationMutation,\n  ReloadRepositoryLocationMutationVariables,\n} from './types/ReloadRepositoryLocationMutation';\nimport {RepositoryLocationStatusQuery} from './types/RepositoryLocationStatusQuery';\n\ntype State = {\n  mutating: boolean;\n  pollStartTime: number | null;\n  error: PythonErrorFragment | {message: string} | null;\n};\n\ntype Action =\n  | {type: 'start-mutation'}\n  | {type: 'finish-mutation-and-start-polling'}\n  | {type: 'finish-polling'}\n  | {type: 'error'; error: PythonErrorFragment | {message: string} | null}\n  | {type: 'success'};\n\nconst reducer = (state: State, action: Action) => {\n  switch (action.type) {\n    case 'start-mutation':\n      return {...state, mutating: true, pollStartTime: null};\n    case 'finish-mutation-and-start-polling':\n      return {...state, mutating: false, pollStartTime: Date.now()};\n    case 'finish-polling':\n      return {...state, pollStartTime: null};\n    case 'error':\n      return {...state, mutating: false, error: action.error, pollStartTime: null};\n    case 'success':\n      return {...state, error: null, pollStartTime: null};\n    default:\n      return state;\n  }\n};\n\nconst initialState: State = {\n  mutating: false,\n  pollStartTime: null,\n  error: null,\n};\n\nconst THREE_MINUTES = 3 * 60 * 1000;\n\nexport const useRepositoryLocationReload = (location: string) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  const apollo = useApolloClient();\n  const [reload] = useMutation<\n    ReloadRepositoryLocationMutation,\n    ReloadRepositoryLocationMutationVariables\n  >(RELOAD_REPOSITORY_LOCATION_MUTATION, {\n    variables: {location},\n    fetchPolicy: 'no-cache',\n  });\n\n  const invalidateConfigs = useInvalidateConfigsForRepo();\n\n  const {startPolling, stopPolling} = useQuery<RepositoryLocationStatusQuery>(\n    REPOSITORY_LOCATION_STATUS_QUERY,\n    {\n      skip: state.pollStartTime === null,\n      pollInterval: 5000,\n      fetchPolicy: 'no-cache',\n      // This is irritating, but apparently necessary for now.\n      // https://github.com/apollographql/apollo-client/issues/5531\n      notifyOnNetworkStatusChange: true,\n      onCompleted: (data: RepositoryLocationStatusQuery) => {\n        const workspace = data.workspaceOrError;\n\n        if (workspace.__typename === 'PythonError') {\n          dispatch({type: 'error', error: workspace});\n          stopPolling();\n          return;\n        }\n\n        const match = workspace.locationEntries.find((l) => l.id === location);\n        if (!match) {\n          dispatch({\n            type: 'error',\n            error: {message: `Location ${location} not found in workspace.`},\n          });\n          stopPolling();\n          return;\n        }\n\n        // If we're still loading, there's nothing to do yet. Continue polling unless\n        // we have hit our timeout threshold.\n        if (match.loadStatus === RepositoryLocationLoadStatus.LOADING) {\n          if (Date.now() - Number(state.pollStartTime) > THREE_MINUTES) {\n            dispatch({\n              type: 'error',\n              error: {message: 'Timed out waiting for the location to reload.'},\n            });\n            stopPolling();\n          }\n          return;\n        }\n\n        // If we're done loading and an error persists, show it.\n        if (match.locationOrLoadError?.__typename === 'PythonError') {\n          dispatch({type: 'error', error: match.locationOrLoadError});\n          stopPolling();\n          return;\n        }\n\n        // Otherwise, we have no errors left.\n        dispatch({type: 'finish-polling'});\n        stopPolling();\n\n        // On success, show the successful toast, hide the dialog (if open), and reset Apollo.\n        SharedToaster.show({\n          message: 'Repository location reloaded',\n          timeout: 3000,\n          icon: 'refresh',\n          intent: Intent.SUCCESS,\n        });\n        dispatch({type: 'success'});\n\n        // Update run config localStorage, which may now be out of date.\n        const repositories =\n          match?.__typename === 'WorkspaceLocationEntry' &&\n          match.locationOrLoadError?.__typename === 'RepositoryLocation'\n            ? match.locationOrLoadError.repositories\n            : [];\n\n        invalidateConfigs(repositories);\n\n        // Clear and refetch all the queries bound to the UI.\n        apollo.resetStore();\n      },\n    },\n  );\n\n  const tryReload = React.useCallback(async () => {\n    dispatch({type: 'start-mutation'});\n    const {data} = await reload();\n\n    if (data?.reloadRepositoryLocation.__typename === 'WorkspaceLocationEntry') {\n      // If the mutation occurs successfully, begin polling.\n      dispatch({type: 'finish-mutation-and-start-polling'});\n      startPolling(5000);\n    } else if (data?.reloadRepositoryLocation.__typename === 'PythonError') {\n      // If a Python error occurs during mutation, show it.\n      dispatch({type: 'error', error: data.reloadRepositoryLocation});\n    } else {\n      // Otherwise, we have some other kind of error. Show it.\n      dispatch({\n        type: 'error',\n        error: {message: data?.reloadRepositoryLocation.message || 'An unexpected error occurred.'},\n      });\n    }\n  }, [reload, startPolling]);\n\n  const {mutating, pollStartTime, error} = state;\n  const reloading = mutating || pollStartTime !== null;\n\n  return React.useMemo(() => ({reloading, error, tryReload}), [reloading, error, tryReload]);\n};\n\nconst RELOAD_REPOSITORY_LOCATION_MUTATION = gql`\n  mutation ReloadRepositoryLocationMutation($location: String!) {\n    reloadRepositoryLocation(repositoryLocationName: $location) {\n      __typename\n      ... on WorkspaceLocationEntry {\n        id\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on ReloadNotSupported {\n        message\n      }\n      ... on RepositoryLocationNotFound {\n        message\n      }\n      ... on PythonError {\n        ...PythonErrorFragment\n      }\n    }\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n\nconst REPOSITORY_LOCATION_STATUS_QUERY = gql`\n  query RepositoryLocationStatusQuery {\n    workspaceOrError {\n      __typename\n      ... on Workspace {\n        locationEntries {\n          __typename\n          id\n          loadStatus\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              repositories {\n                id\n                name\n                pipelines {\n                  id\n                  name\n                }\n              }\n            }\n            ... on PythonError {\n              ...PythonErrorFragment\n            }\n          }\n        }\n      }\n      ... on PythonError {\n        ...PythonErrorFragment\n      }\n    }\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {Colors} from '@blueprintjs/core';\nimport styled from 'styled-components/macro';\n\nimport {FontFamily} from './styles';\n\nexport const Trace = styled.div`\n  background-color: ${Colors.LIGHT_GRAY1};\n  color: rgb(41, 50, 56);\n  font-family: ${FontFamily.monospace};\n  font-size: 14px;\n  max-height: 90vh;\n  overflow: auto;\n  white-space: pre;\n  padding: 16px;\n`;\n","import {Button, Classes, Colors, Dialog, Tag} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {Box} from '../ui/Box';\nimport {ButtonLink} from '../ui/ButtonLink';\nimport {Group} from '../ui/Group';\nimport {Trace} from '../ui/Trace';\n\nimport {DaemonHealthFragment_allDaemonStatuses as DaemonStatus} from './types/DaemonHealthFragment';\n\ninterface Props {\n  daemon: DaemonStatus;\n}\n\nconst DaemonHealthTag = (props: Props) => {\n  const {daemon} = props;\n\n  if (daemon.healthy) {\n    return (\n      <HoverTag minimal intent=\"success\">\n        Running\n      </HoverTag>\n    );\n  }\n\n  if (daemon.required) {\n    return (\n      <HoverTag minimal intent=\"danger\">\n        Not running\n      </HoverTag>\n    );\n  }\n\n  return (\n    <HoverTag minimal intent=\"none\">\n      Not enabled\n    </HoverTag>\n  );\n};\n\ntype State = {\n  shown: boolean;\n  page: number;\n};\n\ntype Action = {type: 'show'} | {type: 'hide'} | {type: 'page'; page: number};\n\nconst reducer = (state: State, action: Action) => {\n  switch (action.type) {\n    case 'show':\n      return {shown: true, page: 0};\n    case 'hide':\n      return {shown: false, page: 0};\n    case 'page':\n      return {...state, page: action.page};\n    default:\n      return state;\n  }\n};\n\nconst initialState = {shown: false, page: 0};\n\nexport const DaemonHealth = (props: Props) => {\n  const {daemon} = props;\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  const {shown, page} = state;\n\n  const errors = daemon.lastHeartbeatErrors;\n  const errorCount = errors.length;\n\n  const show = () => dispatch({type: 'show'});\n  const hide = () => dispatch({type: 'hide'});\n  const prev = () => dispatch({type: 'page', page: page === 0 ? errorCount - 1 : page - 1});\n  const next = () => dispatch({type: 'page', page: page === errorCount - 1 ? 0 : page + 1});\n\n  const metadata = () => {\n    if (errorCount > 0) {\n      return (\n        <>\n          <ButtonLink color={Colors.BLUE2} underline=\"hover\" onClick={show}>\n            {errorCount > 1 ? `View errors (${errorCount})` : 'View error'}\n          </ButtonLink>\n          <Dialog\n            isOpen={shown}\n            title=\"Daemon error\"\n            onClose={hide}\n            style={{maxWidth: '80%', minWidth: '70%'}}\n          >\n            <div className={Classes.DIALOG_BODY}>\n              <Group direction=\"column\" spacing={12}>\n                {errorCount === 1 ? (\n                  <div>\n                    <strong>{daemon.daemonType}</strong> daemon logged an error.\n                  </div>\n                ) : (\n                  <div>\n                    <strong>{daemon.daemonType}</strong> daemon logged {errorCount} errors.\n                  </div>\n                )}\n                <Trace>\n                  <Group direction=\"column\" spacing={12}>\n                    <div>{errors[page].message}</div>\n                    <div>{errors[page].stack}</div>\n                  </Group>\n                </Trace>\n              </Group>\n            </div>\n            <div className={Classes.DIALOG_FOOTER}>\n              <Box flex={{alignItems: 'center', justifyContent: 'space-between'}}>\n                {errorCount > 1 ? (\n                  <Group direction=\"row\" spacing={12} alignItems=\"center\">\n                    <ButtonLink onClick={prev}>&larr; Previous</ButtonLink>\n                    <span>{`${page + 1} of ${errorCount}`}</span>\n                    <ButtonLink onClick={next}>Next &rarr;</ButtonLink>\n                  </Group>\n                ) : (\n                  <div />\n                )}\n                <Button onClick={hide}>OK</Button>\n              </Box>\n            </div>\n          </Dialog>\n        </>\n      );\n    }\n\n    if (!daemon.healthy) {\n      return <div style={{color: Colors.GRAY2}}>No recent heartbeat</div>;\n    }\n\n    return null;\n  };\n\n  return (\n    <Group direction=\"row\" spacing={8} alignItems=\"center\">\n      <DaemonHealthTag daemon={daemon} />\n      {metadata()}\n    </Group>\n  );\n};\n\nconst HoverTag = styled(Tag)`\n  cursor: default;\n  user-select: none;\n`;\n","import {gql} from '@apollo/client';\nimport moment from 'moment-timezone';\nimport * as React from 'react';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorInfo';\nimport {Timestamp} from '../app/time/Timestamp';\nimport {Group} from '../ui/Group';\nimport {Table} from '../ui/Table';\n\nimport {DaemonHealth} from './DaemonHealth';\nimport {\n  DaemonHealthFragment,\n  DaemonHealthFragment_allDaemonStatuses as DaemonStatus,\n} from './types/DaemonHealthFragment';\n\ninterface DaemonLabelProps {\n  daemon: DaemonStatus;\n}\n\nconst DaemonLabel = (props: DaemonLabelProps) => {\n  const {daemon} = props;\n  switch (daemon.daemonType) {\n    case 'SCHEDULER':\n      return <div>Scheduler</div>;\n    case 'SENSOR':\n      return <div>Sensors</div>;\n    case 'QUEUED_RUN_COORDINATOR':\n      return <div>Run queue</div>;\n    case 'BACKFILL':\n      return <div>Backfill</div>;\n    default:\n      return (\n        <div style={{textTransform: 'capitalize'}}>\n          {daemon.daemonType.replace(/_/g, ' ').toLowerCase()}\n        </div>\n      );\n  }\n};\n\ninterface Props {\n  daemonHealth: DaemonHealthFragment | undefined;\n}\n\nconst TIME_FORMAT = {showSeconds: true, showTimezone: true};\n\nexport const DaemonList = (props: Props) => {\n  const {daemonHealth} = props;\n\n  if (!daemonHealth) {\n    return null;\n  }\n\n  return (\n    <Table>\n      <thead>\n        <tr>\n          <th style={{width: '25%'}}>Daemon</th>\n          <th style={{width: '30%'}}>Status</th>\n          <th>Last heartbeat</th>\n        </tr>\n      </thead>\n      <tbody>\n        {daemonHealth.allDaemonStatuses\n          .filter((daemon) => daemon.required)\n          .map((daemon) => {\n            return (\n              <tr key={daemon.daemonType}>\n                <td>\n                  <DaemonLabel daemon={daemon} />\n                </td>\n                <td>\n                  <DaemonHealth daemon={daemon} />\n                </td>\n                <td>\n                  {daemon.lastHeartbeatTime ? (\n                    <Group direction=\"row\" spacing={4}>\n                      <Timestamp\n                        timestamp={{unix: daemon.lastHeartbeatTime}}\n                        timeFormat={TIME_FORMAT}\n                      />\n                      <span>({`${moment.unix(daemon.lastHeartbeatTime).fromNow()}`})</span>\n                    </Group>\n                  ) : (\n                    'Never'\n                  )}\n                </td>\n              </tr>\n            );\n          })}\n      </tbody>\n    </Table>\n  );\n};\n\nexport const DAEMON_HEALTH_FRAGMENT = gql`\n  fragment DaemonHealthFragment on DaemonHealth {\n    id\n    allDaemonStatuses {\n      id\n      daemonType\n      required\n      healthy\n      lastHeartbeatErrors {\n        __typename\n        ...PythonErrorFragment\n      }\n      lastHeartbeatTime\n    }\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {buildRepoPath} from './buildRepoAddress';\nimport {RepoAddress} from './types';\n\nexport const workspacePath = (repoName: string, repoLocation: string, path = '') => {\n  const finalPath = path.startsWith('/') ? path : `/${path}`;\n  return `/workspace/${buildRepoPath(repoName, repoLocation)}${finalPath}`;\n};\n\nexport const workspacePipelinePath = (\n  repoName: string,\n  repoLocation: string,\n  pipelineName: string,\n  pipelineMode: string,\n  path = '',\n) => {\n  const finalPath = path.startsWith('/') ? path : `/${path}`;\n  return `/workspace/${buildRepoPath(\n    repoName,\n    repoLocation,\n  )}/pipelines/${pipelineName}:${pipelineMode}${finalPath}`;\n};\n\nexport const workspacePipelinePathGuessRepo = (\n  pipelineName: string,\n  pipelineMode: string,\n  path = '',\n) => {\n  const finalPath = path.startsWith('/') ? path : `/${path}`;\n  return `/workspace/pipelines/${pipelineName}:${pipelineMode}${finalPath}`;\n};\n\nexport const workspacePathFromAddress = (repoAddress: RepoAddress, path = '') => {\n  const {name, location} = repoAddress;\n  return workspacePath(name, location, path);\n};\n","import {gql} from '@apollo/client';\nimport {Button} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {MetadataEntries} from '../runs/MetadataEntry';\nimport {MetadataEntryFragment} from '../runs/types/MetadataEntryFragment';\nimport {ErrorSource} from '../types/globalTypes';\nimport {FontFamily} from '../ui/styles';\n\nimport {PythonErrorFragment} from './types/PythonErrorFragment';\n\ninterface IPythonErrorInfoProps {\n  showReload?: boolean;\n  centered?: boolean;\n  error: {message: string} | PythonErrorFragment;\n  failureMetadata?: {metadataEntries: MetadataEntryFragment[]} | null;\n  errorSource?: ErrorSource | null;\n}\n\nexport const PythonErrorInfo: React.FC<IPythonErrorInfoProps> = (props) => {\n  const message = props.error.message;\n  const stack = (props.error as PythonErrorFragment).stack;\n  const cause = (props.error as PythonErrorFragment).cause;\n\n  const Wrapper = props.centered ? ErrorWrapperCentered : ErrorWrapper;\n  const context = props.errorSource ? <ErrorContext errorSource={props.errorSource} /> : null;\n  const metadataEntries = props.failureMetadata?.metadataEntries;\n\n  return (\n    <>\n      {context}\n      <Wrapper>\n        <ErrorHeader>{message}</ErrorHeader>\n        {metadataEntries ? (\n          <div style={{marginTop: 10, marginBottom: 10}}>\n            <MetadataEntries entries={metadataEntries} />\n          </div>\n        ) : null}\n        {stack ? <Trace>{stack.join('')}</Trace> : null}\n        {cause ? (\n          <>\n            <CauseHeader>The above exception was caused by the following exception:</CauseHeader>\n            <ErrorHeader>{cause.message}</ErrorHeader>\n            {stack ? <Trace>{cause.stack.join('')}</Trace> : null}\n          </>\n        ) : null}\n        {props.showReload && (\n          <Button icon=\"refresh\" onClick={() => window.location.reload()}>\n            Reload\n          </Button>\n        )}\n      </Wrapper>\n    </>\n  );\n};\n\nconst ErrorContext: React.FC<{errorSource: ErrorSource}> = ({errorSource}) => {\n  switch (errorSource) {\n    case ErrorSource.UNEXPECTED_ERROR:\n      return (\n        <ContextHeader>An unexpected exception was thrown. Please file an issue.</ContextHeader>\n      );\n    default:\n      return null;\n  }\n};\n\nexport const UNAUTHORIZED_ERROR_FRAGMENT = gql`\n  fragment UnauthorizedErrorFragment on UnauthorizedError {\n    message\n  }\n`;\n\nexport const PYTHON_ERROR_FRAGMENT = gql`\n  fragment PythonErrorFragment on PythonError {\n    __typename\n    message\n    stack\n    cause {\n      message\n      stack\n    }\n  }\n`;\n\nconst ContextHeader = styled.h4`\n  font-weight: 400;\n  margin: 0 0 1em;\n`;\n\nconst CauseHeader = styled.h3`\n  font-weight: 400;\n  margin: 1em 0 1em;\n`;\n\nconst ErrorHeader = styled.h3`\n  color: #b05c47;\n  font-weight: 400;\n  margin: 0.5em 0 0.25em;\n`;\n\nconst Trace = styled.div`\n  color: rgb(41, 50, 56);\n  font-family: ${FontFamily.monospace};\n  font-size: 1em;\n  white-space: pre;\n  padding-bottom: 1em;\n`;\n\nconst ErrorWrapper = styled.div`\n  background-color: #fdf2f4;\n  border: 1px solid #d17257;\n  border-radius: 3px;\n  max-width: 90vw;\n  max-height: calc(100vh - 250px);\n  padding: 1em 2em;\n  overflow: auto;\n`;\n\nconst ErrorWrapperCentered = styled(ErrorWrapper)`\n  position: absolute;\n  left: 50%;\n  top: 100px;\n  transform: translate(-50%, 0);\n`;\n","import memoize from 'lodash/memoize';\n\nimport {RepoAddress} from './types';\n\nconst memo = memoize(\n  (repoAddress: RepoAddress) => repoAddress,\n  (repoAddress: RepoAddress) => buildRepoPath(repoAddress.name, repoAddress.location),\n);\n\nexport const buildRepoAddress = (name: string, location: string) => memo({name, location});\nexport const buildRepoPath = (name: string, location: string) => `${name}@${location}`;\n","export const FontFamily = {\n  default:\n    'Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,Icons16,sans-serif',\n  monospace:\n    'Inconsolata,SF Mono,SFMono-Regular,ui-monospace,Source Code Pro,Menlo,Monaco,Cascadia Mono,Segoe UI Mono,Roboto Mono,Oxygen Mono,Ubuntu Monospace,Fira Mono,Droid Sans Mono,Courier New,monospace',\n};\n","import memoize from 'lodash/memoize';\nimport * as React from 'react';\n\nimport {getJSONForKey} from './LocalStorage';\n\nconst DAGIT_FLAGS_KEY = 'DAGIT_FLAGS';\n\nexport enum FeatureFlag {\n  flagDebugConsoleLogging = 'flagDebugConsoleLogging',\n  flagPipelineModeTuples = 'flagPipelineModeTuples',\n  flagAssetGraph = 'flagAssetGraph',\n}\n\nexport const getFeatureFlags: () => FeatureFlag[] = memoize(\n  () => getJSONForKey(DAGIT_FLAGS_KEY) || [],\n);\n\nexport const featureEnabled = memoize((flag: FeatureFlag) => getFeatureFlags().includes(flag));\n\ntype FlagMap = {\n  readonly [F in FeatureFlag]: boolean;\n};\n\nexport const useFeatureFlags = () => {\n  return React.useMemo(() => {\n    const flagSet = new Set(getFeatureFlags());\n    const all = {};\n    for (const flag in FeatureFlag) {\n      all[flag] = flagSet.has(flag as FeatureFlag);\n    }\n    return all as FlagMap;\n  }, []);\n};\n\nexport const setFeatureFlags = (flags: FeatureFlag[]) => {\n  if (!(flags instanceof Array)) {\n    throw new Error('flags must be an array');\n  }\n  localStorage.setItem(DAGIT_FLAGS_KEY, JSON.stringify(flags));\n};\n","import {ApolloQueryResult, gql, useQuery} from '@apollo/client';\nimport * as React from 'react';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorInfo';\nimport {PipelineSelector} from '../types/globalTypes';\n\nimport {REPOSITORY_INFO_FRAGMENT} from './RepositoryInformation';\nimport {buildRepoAddress} from './buildRepoAddress';\nimport {findRepoContainingPipeline} from './findRepoContainingPipeline';\nimport {RepoAddress} from './types';\nimport {\n  RootRepositoriesQuery,\n  RootRepositoriesQuery_workspaceOrError_PythonError,\n  RootRepositoriesQuery_workspaceOrError_Workspace_locationEntries,\n  RootRepositoriesQuery_workspaceOrError_Workspace_locationEntries_locationOrLoadError_RepositoryLocation,\n  RootRepositoriesQuery_workspaceOrError_Workspace_locationEntries_locationOrLoadError_RepositoryLocation_repositories,\n} from './types/RootRepositoriesQuery';\n\ntype Repository = RootRepositoriesQuery_workspaceOrError_Workspace_locationEntries_locationOrLoadError_RepositoryLocation_repositories;\ntype RepositoryLocation = RootRepositoriesQuery_workspaceOrError_Workspace_locationEntries_locationOrLoadError_RepositoryLocation;\ntype RepositoryLocationNode = RootRepositoriesQuery_workspaceOrError_Workspace_locationEntries;\ntype RepositoryError = RootRepositoriesQuery_workspaceOrError_PythonError;\n\nexport interface DagsterRepoOption {\n  repositoryLocation: RepositoryLocation;\n  repository: Repository;\n}\n\ntype WorkspaceState = {\n  error: RepositoryError | null;\n  loading: boolean;\n  locationEntries: RepositoryLocationNode[];\n  allRepos: DagsterRepoOption[];\n  refetch: () => Promise<ApolloQueryResult<RootRepositoriesQuery>>;\n};\n\nexport const WorkspaceContext = React.createContext<WorkspaceState>(\n  new Error('WorkspaceContext should never be uninitialized') as any,\n);\n\nconst ROOT_REPOSITORIES_QUERY = gql`\n  query RootRepositoriesQuery {\n    workspaceOrError {\n      __typename\n      ... on Workspace {\n        locationEntries {\n          __typename\n          id\n          name\n          loadStatus\n          displayMetadata {\n            key\n            value\n          }\n          updatedTimestamp\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              isReloadSupported\n              serverId\n              name\n              repositories {\n                id\n                name\n                pipelines {\n                  id\n                  name\n                  graphName\n                  pipelineSnapshotId\n                  modes {\n                    id\n                    name\n                  }\n                }\n                partitionSets {\n                  id\n                  mode\n                  pipelineName\n                }\n                ...RepositoryInfoFragment\n              }\n            }\n            ... on PythonError {\n              ...PythonErrorFragment\n            }\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n  ${REPOSITORY_INFO_FRAGMENT}\n`;\n\nexport const REPOSITORY_LOCATIONS_FRAGMENT = gql`\n  fragment RepositoryLocationsFragment on WorkspaceOrError {\n    __typename\n    ... on Workspace {\n      locationEntries {\n        __typename\n        id\n        name\n        loadStatus\n        displayMetadata {\n          key\n          value\n        }\n        updatedTimestamp\n        locationOrLoadError {\n          ... on RepositoryLocation {\n            id\n            isReloadSupported\n            serverId\n            name\n          }\n          ... on PythonError {\n            message\n          }\n        }\n      }\n    }\n    ...PythonErrorFragment\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n\nexport const getRepositoryOptionHash = (a: DagsterRepoOption) =>\n  `${a.repository.name}:${a.repositoryLocation.name}`;\n\n/**\n * A hook that supplies the current workspace state of Dagit, including the current\n * \"active\" repo based on the URL or localStorage, all fetched repositories available\n * in the workspace, and loading/error state for the relevant query.\n */\nconst useWorkspaceState = () => {\n  const {data, loading, refetch} = useQuery<RootRepositoriesQuery>(ROOT_REPOSITORIES_QUERY, {\n    fetchPolicy: 'cache-and-network',\n  });\n\n  const workspaceOrError = data?.workspaceOrError;\n\n  const locationEntries = React.useMemo(\n    () => (workspaceOrError?.__typename === 'Workspace' ? workspaceOrError.locationEntries : []),\n    [workspaceOrError],\n  );\n\n  const {options, error} = React.useMemo(() => {\n    let options: DagsterRepoOption[] = [];\n    if (!workspaceOrError) {\n      return {options, error: null};\n    }\n\n    if (workspaceOrError.__typename === 'PythonError') {\n      return {options, error: workspaceOrError};\n    }\n\n    options = workspaceOrError.locationEntries.reduce((accum, locationEntry) => {\n      if (locationEntry.locationOrLoadError?.__typename !== 'RepositoryLocation') {\n        return accum;\n      }\n      const repositoryLocation = locationEntry.locationOrLoadError;\n      const reposForLocation = repositoryLocation.repositories.map((repository) => {\n        return {repository, repositoryLocation};\n      });\n      return [...accum, ...reposForLocation];\n    }, [] as DagsterRepoOption[]);\n\n    return {error: null, options};\n  }, [workspaceOrError]);\n\n  return {\n    refetch,\n    loading: loading && !data, // Only \"loading\" on initial load.\n    error,\n    locationEntries,\n    allRepos: options,\n  };\n};\n\nexport const WorkspaceProvider: React.FC = (props) => {\n  const {children} = props;\n  const workspaceState = useWorkspaceState();\n  return <WorkspaceContext.Provider value={workspaceState}>{children}</WorkspaceContext.Provider>;\n};\n\nexport const useRepositoryOptions = () => {\n  const {allRepos: options, loading, error} = React.useContext(WorkspaceContext);\n  return {options, loading, error};\n};\n\nexport const useRepository = (repoAddress: RepoAddress) => {\n  const {options} = useRepositoryOptions();\n  return options.find(\n    (option) =>\n      option.repository.name === repoAddress.name &&\n      option.repositoryLocation.name === repoAddress.location,\n  );\n};\n\nexport const useActivePipelineForName = (pipelineName: string, snapshotId?: string) => {\n  const {options} = useRepositoryOptions();\n  const reposWithMatch = findRepoContainingPipeline(options, pipelineName, snapshotId);\n  if (reposWithMatch.length) {\n    const match = reposWithMatch[0];\n    return match.repository.pipelines.find((pipeline) => pipeline.name === pipelineName) || null;\n  }\n  return null;\n};\n\nexport const usePipelineSelector = (\n  repoAddress: RepoAddress | null,\n  pipelineName: string,\n  solidSelection?: string[],\n) => {\n  const repositorySelector = {\n    repositoryName: repoAddress?.name || '',\n    repositoryLocationName: repoAddress?.location || '',\n  };\n\n  return {\n    ...repositorySelector,\n    pipelineName,\n    solidSelection,\n  } as PipelineSelector;\n};\n\nexport const optionToRepoAddress = (option: DagsterRepoOption) =>\n  buildRepoAddress(option.repository.name, option.repository.location.name);\n","import {gql, useQuery} from '@apollo/client';\nimport * as React from 'react';\n\nimport {PermissionFragment} from './types/PermissionFragment';\nimport {PermissionsQuery} from './types/PermissionsQuery';\n\nexport type PermissionsFromJSON = {\n  launch_pipeline_execution?: boolean;\n  launch_pipeline_reexecution?: boolean;\n  reconcile_scheduler_state?: boolean;\n  start_schedule?: boolean;\n  stop_running_schedule?: boolean;\n  start_sensor?: boolean;\n  stop_sensor?: boolean;\n  terminate_pipeline_execution?: boolean;\n  delete_pipeline_run?: boolean;\n  reload_repository_location?: boolean;\n  reload_workspace?: boolean;\n  wipe_assets?: boolean;\n  launch_partition_backfill?: boolean;\n  cancel_partition_backfill?: boolean;\n};\n\nconst extractPermissions = (permissions: PermissionFragment[]) => {\n  const permsMap: PermissionsFromJSON = {};\n  for (const item of permissions) {\n    permsMap[item.permission] = item.value;\n  }\n\n  return {\n    canLaunchPipelineExecution: !!permsMap.launch_pipeline_execution,\n    canLaunchPipelineReexecution: !!permsMap.launch_pipeline_reexecution,\n    canReconcileSchedulerState: !!permsMap.reconcile_scheduler_state,\n    canStartSchedule: !!permsMap.start_schedule,\n    canStopRunningSchedule: !!permsMap.stop_running_schedule,\n    canStartSensor: !!permsMap.start_sensor,\n    canStopSensor: !!permsMap.stop_sensor,\n    canTerminatePipelineExecution: !!permsMap.terminate_pipeline_execution,\n    canDeletePipelineRun: !!permsMap.delete_pipeline_run,\n    canReloadRepositoryLocation: !!permsMap.reload_repository_location,\n    canReloadWorkspace: !!permsMap.reload_workspace,\n    canWipeAssets: !!permsMap.wipe_assets,\n    canLaunchPartitionBackfill: !!permsMap.launch_partition_backfill,\n    canCancelPartitionBackfill: !!permsMap.cancel_partition_backfill,\n  };\n};\n\nexport type PermissionsMap = ReturnType<typeof extractPermissions>;\n\nexport const DISABLED_MESSAGE = 'Disabled by your administrator';\n\nexport const PermissionsContext = React.createContext<PermissionFragment[]>([]);\n\nexport const PermissionsProvider: React.FC = (props) => {\n  const {data} = useQuery<PermissionsQuery>(PERMISSIONS_QUERY);\n  const value = React.useMemo(() => data?.permissions || [], [data]);\n  return <PermissionsContext.Provider value={value}>{props.children}</PermissionsContext.Provider>;\n};\n\nexport const usePermissions = () => {\n  const rawPermissions = React.useContext(PermissionsContext);\n  return React.useMemo(() => extractPermissions(rawPermissions), [rawPermissions]);\n};\n\nconst PERMISSIONS_QUERY = gql`\n  query PermissionsQuery {\n    permissions {\n      ...PermissionFragment\n    }\n  }\n\n  fragment PermissionFragment on GraphenePermission {\n    permission\n    value\n  }\n`;\n","const ELEMENT_ID = 'path-prefix';\nconst PLACEHOLDER = '__PATH_PREFIX__';\n\nlet value: string | undefined;\n\n// Determine the path prefix value, which is set server-side.\n// This value will be used for prefixing paths for the GraphQL\n// endpoint and dynamically loaded bundles.\nexport const extractPathPrefix = () => {\n  if (value === undefined) {\n    const element = document.getElementById(ELEMENT_ID);\n    if (element) {\n      const parsed = JSON.parse(element.innerHTML);\n      const parsedPrefix = parsed.pathPrefix;\n      if (parsedPrefix !== PLACEHOLDER) {\n        value = parsedPrefix;\n      }\n    }\n  }\n  return value;\n};\n","/**\n * This file must be the first import in the application entry file.\n * https://webpack.js.org/guides/public-path/#on-the-fly\n */\n\nimport {extractPathPrefix} from './extractPathPrefix';\n\nconst extracted = extractPathPrefix();\n\n// Set the webpack path prefix based on DOM value. This will be used\n// for dynamically loaded bundles.\nif (typeof extracted === 'string') {\n  __webpack_public_path__ = `${extracted}/`;\n}\n\nexport {};\n","import * as React from 'react';\nimport {useLocation} from 'react-router-dom';\n\ntype LayoutContextValue = {\n  nav: {\n    isOpen: boolean;\n    open: () => void;\n    close: () => void;\n  };\n};\n\nexport const LayoutContext = React.createContext<LayoutContextValue>({\n  nav: {\n    isOpen: false,\n    open: () => {},\n    close: () => {},\n  },\n});\n\nexport const LayoutProvider: React.FC = (props) => {\n  const [navOpen, setNavOpen] = React.useState(false);\n  const location = useLocation();\n\n  React.useEffect(() => {\n    setNavOpen(false);\n  }, [location]);\n\n  const value = React.useMemo(\n    () => ({\n      nav: {\n        isOpen: navOpen,\n        open: () => setNavOpen(true),\n        close: () => setNavOpen(false),\n      },\n    }),\n    [navOpen],\n  );\n\n  return <LayoutContext.Provider value={value}>{props.children}</LayoutContext.Provider>;\n};\n","import {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport styled from 'styled-components/macro';\n\nexport const WarningTooltip = styled(Tooltip)`\n  display: block;\n  margin-left: 8px;\n  outline: none;\n\n  .bp3-popover-target,\n  .bp3-icon {\n    display: block;\n  }\n\n  .bp3-icon:focus,\n  .bp3-icon:active {\n    outline: none;\n  }\n`;\n","import {gql, useQuery} from '@apollo/client';\nimport * as React from 'react';\n\nimport {INSTANCE_HEALTH_FRAGMENT} from '../instance/InstanceHealthFragment';\nimport {ColorsWIP} from '../ui/Colors';\nimport {IconWIP} from '../ui/Icon';\n\nimport {WarningTooltip} from './WarningTooltip';\nimport {InstanceWarningQuery} from './types/InstanceWarningQuery';\n\nexport const InstanceWarningIcon = React.memo(() => {\n  const {data: healthData} = useQuery<InstanceWarningQuery>(INSTANCE_WARNING_QUERY, {\n    fetchPolicy: 'cache-and-network',\n    pollInterval: 15 * 1000,\n  });\n\n  const daemonErrors =\n    healthData?.instance.daemonHealth.allDaemonStatuses.filter(\n      (daemon) => !daemon.healthy && daemon.required,\n    ) || [];\n\n  if (daemonErrors.length) {\n    return (\n      <WarningTooltip\n        content={\n          <div>{`${daemonErrors.length} ${\n            daemonErrors.length === 1 ? 'daemon not running' : 'daemons not running'\n          }`}</div>\n        }\n        position=\"right\"\n      >\n        <IconWIP name=\"warning\" color={ColorsWIP.Yellow500} />\n      </WarningTooltip>\n    );\n  }\n\n  return null;\n});\n\nconst INSTANCE_WARNING_QUERY = gql`\n  query InstanceWarningQuery {\n    instance {\n      ...InstanceHealthFragment\n    }\n  }\n  ${INSTANCE_HEALTH_FRAGMENT}\n`;\n","import {gql, useApolloClient} from '@apollo/client';\nimport {Button, ButtonGroup, Colors} from '@blueprintjs/core';\nimport React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {useFeatureFlags} from '../app/Flags';\nimport {Box} from '../ui/Box';\nimport {ColorsWIP} from '../ui/Colors';\nimport {IconWIP} from '../ui/Icon';\nimport {DagsterRepoOption} from '../workspace/WorkspaceContext';\nimport {buildRepoPath} from '../workspace/buildRepoAddress';\nimport {workspacePath} from '../workspace/workspacePath';\n\nimport {tabForPipelinePathComponent} from './PipelineNav';\nimport {ContentListSolidsQuery} from './types/ContentListSolidsQuery';\n\ninterface RepositoryContentListProps {\n  selector?: string;\n  tab?: string;\n  repos: DagsterRepoOption[];\n  repoPath?: string;\n}\n\ntype Item = {\n  to: string;\n  label: string;\n  labelEl?: React.ReactNode;\n  labelTuple?: string;\n  repoPath: string;\n};\n\nexport const RepositoryContentList: React.FC<RepositoryContentListProps> = ({\n  tab,\n  repos,\n  repoPath,\n  selector,\n}) => {\n  const client = useApolloClient();\n  const [type, setType] = React.useState<'pipelines' | 'solids'>('pipelines');\n  const [selectedSolids, setSelectedSolids] = React.useState<Item[]>(() => []);\n  const {flagPipelineModeTuples} = useFeatureFlags();\n\n  const pipelineTab = tabForPipelinePathComponent(tab);\n\n  React.useEffect(() => {\n    if (type !== 'solids') {\n      return;\n    }\n\n    const fetchSolids = async () => {\n      const promises = repos.map((repo) =>\n        client.query<ContentListSolidsQuery>({\n          query: CONTENT_LIST_SOLIDS_QUERY,\n          variables: {\n            repositorySelector: {\n              repositoryLocationName: repo.repositoryLocation.name,\n              repositoryName: repo.repository.name,\n            },\n          },\n        }),\n      );\n\n      const results = await Promise.all(promises);\n      const items: Item[] = [];\n      for (const result of results) {\n        if (result.data.repositoryOrError.__typename === 'Repository') {\n          const name = result.data.repositoryOrError.name;\n          const location = result.data.repositoryOrError.location.name;\n          const solids = result.data.repositoryOrError.usedSolids;\n          items.push(\n            ...solids.map((solid) => ({\n              to: workspacePath(name, location, `/solids/${solid.definition.name}`),\n              label: solid.definition.name,\n              repoPath: buildRepoPath(name, location),\n            })),\n          );\n        }\n      }\n\n      setSelectedSolids(items);\n    };\n\n    fetchSolids();\n  }, [client, repos, type]);\n\n  const selectedPipelines = React.useMemo(() => {\n    const items: Item[] = [];\n\n    for (const repo of repos) {\n      for (const pipeline of repo.repository.pipelines) {\n        for (const mode of pipeline.modes) {\n          items.push({\n            to: workspacePath(\n              repo.repository.name,\n              repo.repositoryLocation.name,\n              `/${flagPipelineModeTuples ? 'jobs' : 'pipelines'}/${pipeline.name}:${mode.name}/${\n                tab === 'partitions' ? 'overview' : pipelineTab.pathComponent\n              }`,\n            ),\n            label: flagPipelineModeTuples ? `${pipeline.name}:${mode.name}` : pipeline.name,\n            labelTuple: `${pipeline.name}:${mode.name}`,\n            labelEl: flagPipelineModeTuples && (\n              <span>\n                {pipeline.name}\n                {mode.name !== 'default' ? <span style={{opacity: 0.6}}> : {mode.name}</span> : ''}\n              </span>\n            ),\n            repoPath: buildRepoPath(repo.repository.name, repo.repositoryLocation.name),\n          });\n          if (!flagPipelineModeTuples) {\n            break;\n          }\n        }\n      }\n    }\n    return items;\n  }, [flagPipelineModeTuples, pipelineTab.pathComponent, repos, tab]);\n\n  const items = type === 'pipelines' ? selectedPipelines : selectedSolids;\n  const itemsSorted = React.useMemo(\n    () =>\n      items.sort((a, b) => a.label.toLocaleLowerCase().localeCompare(b.label.toLocaleLowerCase())),\n    [items],\n  );\n\n  return (\n    <Box flex={{direction: 'column'}} style={{minHeight: 0, flex: 1}}>\n      <Box\n        flex={{direction: 'row', justifyContent: 'space-between', alignItems: 'center'}}\n        padding={{vertical: 8, horizontal: 12}}\n        border={{side: 'bottom', width: 1, color: Colors.DARK_GRAY3}}\n      >\n        <ItemHeader>{'Pipelines & Solids'}</ItemHeader>\n        <ButtonGroup>\n          <Button\n            small={true}\n            active={type === 'pipelines'}\n            intent={type === 'pipelines' ? 'primary' : 'none'}\n            icon={<IconWIP name=\"schema\" color={ColorsWIP.White} />}\n            onClick={() => setType('pipelines')}\n          />\n          <Button\n            small={true}\n            active={type === 'solids'}\n            intent={type === 'solids' ? 'primary' : 'none'}\n            icon={<IconWIP name=\"linear_scale\" color={ColorsWIP.White} />}\n            onClick={() => setType('solids')}\n          />\n        </ButtonGroup>\n      </Box>\n      <Items>\n        {itemsSorted.map((p) => (\n          <Item\n            key={p.to}\n            data-tooltip={p.label}\n            data-tooltip-style={\n              p.labelTuple === selector ? SelectedItemTooltipStyle : ItemTooltipStyle\n            }\n            className={`${p.labelTuple === selector && p.repoPath === repoPath ? 'selected' : ''}`}\n            to={p.to}\n          >\n            {p.labelEl || p.label}\n          </Item>\n        ))}\n      </Items>\n    </Box>\n  );\n};\n\nconst ItemHeader = styled.div`\n  font-size: 15px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-weight: bold;\n  color: ${Colors.LIGHT_GRAY3} !important;\n`;\n\nexport const Items = styled.div`\n  flex: 1;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    width: 11px;\n  }\n\n  scrollbar-width: thin;\n  scrollbar-color: ${Colors.GRAY1} ${Colors.DARK_GRAY1};\n\n  &::-webkit-scrollbar-track {\n    background: ${Colors.DARK_GRAY1};\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: ${Colors.GRAY1};\n    border-radius: 6px;\n    border: 3px solid ${Colors.DARK_GRAY1};\n  }\n`;\n\nexport const Item = styled(Link)`\n  font-size: 13px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  padding: 8px 12px;\n  padding-left: 8px;\n  border-left: 4px solid transparent;\n  border-bottom: 1px solid transparent;\n  display: block;\n  color: ${Colors.LIGHT_GRAY3} !important;\n  user-select: none;\n\n  &:hover {\n    text-decoration: none;\n    color: ${Colors.WHITE} !important;\n  }\n  &:focus {\n    outline: 0;\n  }\n  &.focused {\n    border-left: 4px solid ${Colors.GRAY3};\n  }\n  &.selected {\n    border-left: 4px solid ${Colors.COBALT3};\n    border-bottom: 1px solid ${Colors.DARK_GRAY2};\n    background: ${Colors.BLACK};\n    font-weight: 600;\n    color: ${Colors.WHITE} !important;\n  }\n`;\n\nconst BaseTooltipStyle = {\n  fontSize: 13,\n  padding: 3,\n  paddingRight: 7,\n  left: 9,\n  top: 5,\n  color: Colors.WHITE,\n  background: Colors.DARK_GRAY1,\n  transform: 'none',\n  border: 0,\n  borderRadius: 4,\n};\n\nconst ItemTooltipStyle = JSON.stringify({\n  ...BaseTooltipStyle,\n  color: Colors.WHITE,\n  background: Colors.DARK_GRAY1,\n});\n\nconst SelectedItemTooltipStyle = JSON.stringify({\n  ...BaseTooltipStyle,\n  color: Colors.WHITE,\n  background: Colors.BLACK,\n  fontWeight: 600,\n});\n\nconst CONTENT_LIST_SOLIDS_QUERY = gql`\n  query ContentListSolidsQuery($repositorySelector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      ... on Repository {\n        id\n        name\n        location {\n          id\n          name\n        }\n        usedSolids {\n          __typename\n          definition {\n            name\n          }\n          invocations {\n            __typename\n            pipeline {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import {gql, useQuery} from '@apollo/client';\nimport {Colors} from '@blueprintjs/core';\nimport {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorInfo';\nimport {InstigationStatus} from '../types/globalTypes';\nimport {Box} from '../ui/Box';\nimport {ColorsWIP} from '../ui/Colors';\nimport {IconWIP} from '../ui/Icon';\nimport {DagsterRepoOption} from '../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {repoAddressAsString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nimport {Item, Items} from './RepositoryContentList';\nimport {NavQuery} from './types/NavQuery';\nimport {NavScheduleFragment} from './types/NavScheduleFragment';\nimport {NavSensorFragment} from './types/NavSensorFragment';\n\ninterface Props {\n  selector?: string;\n  tab?: string;\n  repos: DagsterRepoOption[];\n  repoPath?: string;\n}\n\ntype JobItem = {\n  job: [string, string];\n  label: React.ReactNode;\n  repoAddress: RepoAddress;\n  schedule: NavScheduleFragment | null;\n  sensor: NavSensorFragment | null;\n};\n\nexport const FlatContentList: React.FC<Props> = (props) => {\n  const {repoPath, repos, selector} = props;\n\n  const activeRepoAddresses = React.useMemo(() => {\n    const addresses = repos.map((repo) =>\n      buildRepoAddress(repo.repository.name, repo.repositoryLocation.name),\n    );\n    return new Set(addresses);\n  }, [repos]);\n\n  const {loading, data} = useQuery<NavQuery>(NAV_QUERY);\n\n  const jobs = React.useMemo(() => {\n    if (\n      loading ||\n      !data ||\n      !data.workspaceOrError ||\n      data.workspaceOrError.__typename !== 'Workspace'\n    ) {\n      return [];\n    }\n\n    const {locationEntries} = data.workspaceOrError;\n    const items: JobItem[] = [];\n\n    for (const entry of locationEntries) {\n      const location = entry.locationOrLoadError;\n      if (location?.__typename !== 'RepositoryLocation') {\n        continue;\n      }\n\n      for (const repo of location.repositories) {\n        const address = buildRepoAddress(repo.name, location.name);\n        if (!activeRepoAddresses.has(address)) {\n          continue;\n        }\n\n        for (const pipeline of repo.pipelines) {\n          const {name, modes, schedules, sensors} = pipeline;\n          modes.forEach((mode) => {\n            const modeName = mode.name;\n            const tuple: [string, string] = [name, modeName];\n            const schedule = schedules.find((schedule) => schedule.mode === modeName) || null;\n            const sensor =\n              sensors.find((sensor) =>\n                sensor.targets?.some(\n                  (target) => target.mode === modeName && target.pipelineName === name,\n                ),\n              ) || null;\n            items.push({\n              job: tuple,\n              label: (\n                <Label $hasIcon={!!(schedule || sensor)}>\n                  {name}\n                  {modeName !== 'default' ? (\n                    <span style={{color: Colors.GRAY3}}>{` : ${modeName}`}</span>\n                  ) : null}\n                </Label>\n              ),\n              repoAddress: address,\n              schedule,\n              sensor,\n            });\n          });\n        }\n      }\n    }\n\n    return items.sort((a, b) =>\n      a.job[0].toLocaleLowerCase().localeCompare(b.job[0].toLocaleLowerCase()),\n    );\n  }, [loading, data, activeRepoAddresses]);\n\n  if (jobs.length === 0) {\n    return <div />;\n  }\n\n  return (\n    <Items style={{height: 'calc(100% - 226px)'}}>\n      {jobs.map((job) => (\n        <JobItem\n          key={`${job.job[0]}:${job.job[1]}-${repoAddressAsString(job.repoAddress)}`}\n          job={job}\n          repoPath={repoPath}\n          selector={selector}\n        />\n      ))}\n    </Items>\n  );\n};\n\ninterface JobItemProps {\n  job: JobItem;\n  repoPath?: string;\n  selector?: string;\n}\n\nconst JobItem: React.FC<JobItemProps> = (props) => {\n  const {job: jobItem, repoPath, selector} = props;\n  const {job, label, repoAddress, schedule, sensor} = jobItem;\n\n  const jobName = `${job[0]}:${job[1]}`;\n  const jobRepoPath = repoAddressAsString(repoAddress);\n\n  const icon = () => {\n    if (!schedule && !sensor) {\n      return null;\n    }\n\n    const whichIcon = schedule ? 'schedule' : 'sensors';\n    const status = schedule ? schedule?.scheduleState.status : sensor?.sensorState.status;\n    const tooltipContent = schedule ? (\n      <>\n        Schedule: <strong>{schedule.name}</strong>\n      </>\n    ) : (\n      <>\n        Sensor: <strong>{sensor?.name}</strong>\n      </>\n    );\n\n    return (\n      <IconWithTooltip content={tooltipContent} inheritDarkTheme={false}>\n        <IconWIP\n          name={whichIcon}\n          color={status === InstigationStatus.RUNNING ? ColorsWIP.Green500 : ColorsWIP.Gray600}\n        />\n      </IconWithTooltip>\n    );\n  };\n\n  return (\n    <Item\n      key={jobName}\n      className={`${jobName === selector && repoPath === jobRepoPath ? 'selected' : ''}`}\n      to={workspacePathFromAddress(repoAddress, `/jobs/${jobName}`)}\n    >\n      <Box flex={{justifyContent: 'space-between', alignItems: 'center'}}>\n        <div>{label}</div>\n        {icon()}\n      </Box>\n    </Item>\n  );\n};\n\nconst NAV_SCHEDULE_FRAGMENT = gql`\n  fragment NavScheduleFragment on Schedule {\n    id\n    mode\n    name\n    scheduleState {\n      id\n      status\n    }\n  }\n`;\n\nconst NAV_SENSOR_FRAGMENT = gql`\n  fragment NavSensorFragment on Sensor {\n    id\n    name\n    targets {\n      mode\n      pipelineName\n    }\n    sensorState {\n      id\n      status\n    }\n  }\n`;\n\nconst NAV_QUERY = gql`\n  query NavQuery {\n    workspaceOrError {\n      __typename\n      ... on Workspace {\n        locationEntries {\n          __typename\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                pipelines {\n                  id\n                  name\n                  modes {\n                    id\n                    name\n                  }\n                  schedules {\n                    id\n                    ...NavScheduleFragment\n                  }\n                  sensors {\n                    id\n                    ...NavSensorFragment\n                  }\n                }\n              }\n            }\n            ... on PythonError {\n              ...PythonErrorFragment\n            }\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n  ${NAV_SCHEDULE_FRAGMENT}\n  ${NAV_SENSOR_FRAGMENT}\n`;\n\nconst Label = styled.div<{$hasIcon: boolean}>`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: ${({$hasIcon}) => ($hasIcon ? '224px' : '256px')};\n`;\n\nconst IconWithTooltip = styled(Tooltip)`\n  .bp3-icon:focus,\n  .bp3-icon:active {\n    outline: none;\n  }\n`;\n","import {gql, useApolloClient} from '@apollo/client';\nimport {Colors} from '@blueprintjs/core';\nimport React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {InstigationStatus, InstigationType} from '../types/globalTypes';\nimport {Box} from '../ui/Box';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP} from '../ui/Icon';\nimport {BorderSetting} from '../ui/types';\nimport {DagsterRepoOption} from '../workspace/WorkspaceContext';\nimport {buildRepoPath} from '../workspace/buildRepoAddress';\nimport {workspacePath} from '../workspace/workspacePath';\n\nimport {InstigationListQuery} from './types/InstigationListQuery';\n\ntype Item = {\n  to: string;\n  label: string;\n  repoPath: string;\n  instigationType: InstigationType;\n  status: InstigationStatus;\n};\n\ninterface InstigationListProps {\n  selector?: string;\n  repos: DagsterRepoOption[];\n  repoPath?: string;\n}\n\nexport const InstigationList: React.FC<InstigationListProps> = ({repos, repoPath, selector}) => {\n  const client = useApolloClient();\n  const [instigationList, setInstigationList] = React.useState<{\n    schedules: {[key: string]: Item};\n    sensors: {[key: string]: Item};\n  }>(() => ({\n    schedules: {},\n    sensors: {},\n  }));\n\n  const activeRepos = new Set(\n    repos.map((repo) => buildRepoPath(repo.repository.name, repo.repositoryLocation.name)),\n  );\n\n  React.useEffect(() => {\n    const fetchInstigationList = () => {\n      const subscriptions = repos.map((repo) => {\n        return client\n          .watchQuery<InstigationListQuery>({\n            query: INSTIGATION_LIST_QUERY,\n            variables: {\n              repositorySelector: {\n                repositoryLocationName: repo.repositoryLocation.name,\n                repositoryName: repo.repository.name,\n              },\n            },\n          })\n          .subscribe({\n            next: ({data}) => {\n              const {schedulesOrError, sensorsOrError} = data;\n\n              const scheduleUpdates = {};\n              if (schedulesOrError.__typename === 'Schedules') {\n                schedulesOrError.results.forEach(({name, scheduleState}) => {\n                  const to = workspacePath(\n                    scheduleState.repositoryOrigin.repositoryName,\n                    scheduleState.repositoryOrigin.repositoryLocationName,\n                    `/schedules/${name}`,\n                  );\n\n                  scheduleUpdates[to] = {\n                    to,\n                    label: name,\n                    repoPath: buildRepoPath(\n                      scheduleState.repositoryOrigin.repositoryName,\n                      scheduleState.repositoryOrigin.repositoryLocationName,\n                    ),\n                    instigationType: InstigationType.SCHEDULE,\n                    status: scheduleState.status,\n                  };\n                });\n              }\n\n              const sensorUpdates = {};\n              if (sensorsOrError.__typename === 'Sensors') {\n                sensorsOrError.results.forEach(({name, sensorState}) => {\n                  const to = workspacePath(\n                    sensorState.repositoryOrigin.repositoryName,\n                    sensorState.repositoryOrigin.repositoryLocationName,\n                    `/sensors/${name}`,\n                  );\n\n                  sensorUpdates[to] = {\n                    to,\n                    label: name,\n                    repoPath: buildRepoPath(\n                      sensorState.repositoryOrigin.repositoryName,\n                      sensorState.repositoryOrigin.repositoryLocationName,\n                    ),\n                    instigationType: InstigationType.SENSOR,\n                    status: sensorState.status,\n                  };\n                });\n              }\n\n              setInstigationList((current) => ({\n                schedules: {...current.schedules, ...scheduleUpdates},\n                sensors: {...current.sensors, ...sensorUpdates},\n              }));\n            },\n          });\n      });\n\n      return subscriptions;\n    };\n\n    const subs = fetchInstigationList();\n\n    return () => {\n      subs.forEach((s) => s.unsubscribe());\n    };\n  }, [client, repos]);\n\n  const schedules = Object.values(instigationList.schedules).filter(({repoPath}) =>\n    activeRepos.has(repoPath),\n  );\n  const sensors = Object.values(instigationList.sensors).filter(({repoPath}) =>\n    activeRepos.has(repoPath),\n  );\n\n  if (!schedules.length && !sensors.length) {\n    return (\n      <div style={{flex: 1}}>\n        <Box\n          padding={12}\n          style={{fontSize: '13px', color: Colors.LIGHT_GRAY3}}\n          border={{width: 1, side: 'top', color: Colors.DARK_GRAY4}}\n        >\n          No schedules or sensors defined\n        </Box>\n      </div>\n    );\n  }\n\n  const items = [...schedules, ...sensors];\n\n  return (\n    <div\n      style={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        borderTop: `1px solid ${Colors.DARK_GRAY4}`,\n      }}\n    >\n      <Box\n        flex={{direction: 'row', justifyContent: 'space-between', alignItems: 'center'}}\n        padding={{vertical: 8, horizontal: 12}}\n        border={{side: 'bottom', width: 1, color: Colors.DARK_GRAY3}}\n      >\n        <ItemHeader>{'Schedules & Sensors'}</ItemHeader>\n      </Box>\n      <Box\n        padding={{vertical: 8, horizontal: 12}}\n        flex={{alignItems: 'center'}}\n        border={{side: 'bottom', width: 1, color: Colors.DARK_GRAY3}}\n      >\n        <Item to=\"/instance/schedules\">\n          <Group direction=\"row\" spacing={8} alignItems=\"center\">\n            <IconWIP name=\"schedule\" color={ColorsWIP.Gray200} />\n            <div>All schedules</div>\n          </Group>\n        </Item>\n        <Box border={{width: 1, side: 'left', color: Colors.DARK_GRAY4}} margin={{horizontal: 8}}>\n          &nbsp;\n        </Box>\n        <Item to=\"/instance/sensors\">\n          <Group direction=\"row\" spacing={8} alignItems=\"center\">\n            <IconWIP name=\"sensors\" color={ColorsWIP.Gray200} />\n            <div>All sensors</div>\n          </Group>\n        </Item>\n      </Box>\n      <Items>\n        {items.map((p) => {\n          const isSelected = p.label === selector && p.repoPath === repoPath;\n          const border: BorderSetting | null = isSelected\n            ? {side: 'left', width: 4, color: isSelected ? Colors.COBALT3 : Colors.GRAY3}\n            : null;\n          const icon = p.instigationType === InstigationType.SCHEDULE ? 'schedule' : 'sensors';\n\n          return (\n            <Item key={p.to} className={`${isSelected ? 'selected' : ''}`} to={p.to}>\n              <Box\n                background={isSelected ? Colors.BLACK : null}\n                border={border}\n                flex={{alignItems: 'center', justifyContent: 'space-between'}}\n                padding={{vertical: 8, right: 12, left: 12}}\n              >\n                <Box\n                  flex={{alignItems: 'center', justifyContent: 'flex-start'}}\n                  style={{overflow: 'hidden'}}\n                >\n                  <IconWIP name={icon} color={ColorsWIP.Gray200} />\n                  <Label\n                    data-tooltip={p.label}\n                    data-tooltip-style={isSelected ? SelectedItemTooltipStyle : ItemTooltipStyle}\n                  >\n                    {p.label}\n                  </Label>\n                </Box>\n                {p.status === InstigationStatus.RUNNING ? (\n                  <Box margin={{left: 4}}>\n                    <StatusDot size={9} />\n                  </Box>\n                ) : null}\n              </Box>\n            </Item>\n          );\n        })}\n      </Items>\n    </div>\n  );\n};\n\nconst ItemHeader = styled.div`\n  font-size: 15px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-weight: bold;\n  color: ${Colors.LIGHT_GRAY3} !important;\n`;\n\nconst Label = styled.div`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 8px;\n  white-space: nowrap;\n`;\n\nconst StatusDot = styled.div<{\n  size: number;\n}>`\n  width: ${({size}) => size}px;\n  height: ${({size}) => size}px;\n  border-radius: ${({size}) => size / 2}px;\n  background: ${Colors.GREEN2};\n`;\n\nconst Items = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  max-height: calc((100vh - 390px) / 2);\n  &::-webkit-scrollbar {\n    width: 11px;\n  }\n\n  scrollbar-width: thin;\n  scrollbar-color: ${Colors.GRAY1} ${Colors.DARK_GRAY1};\n\n  &::-webkit-scrollbar-track {\n    background: ${Colors.DARK_GRAY1};\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: ${Colors.GRAY1};\n    border-radius: 6px;\n    border: 3px solid ${Colors.DARK_GRAY1};\n  }\n`;\n\nconst Item = styled(Link)`\n  font-size: 13px;\n  color: ${Colors.LIGHT_GRAY3} !important;\n  &:hover {\n    text-decoration: none;\n    color: ${Colors.WHITE} !important;\n  }\n  &:focus {\n    outline: 0;\n  }\n  &.selected {\n    font-weight: 600;\n    color: ${Colors.WHITE} !important;\n  }\n`;\n\nconst BaseTooltipStyle = {\n  fontSize: 13,\n  padding: 3,\n  paddingRight: 7,\n  left: 9,\n  top: 5,\n  color: Colors.WHITE,\n  background: Colors.DARK_GRAY1,\n  transform: 'none',\n  border: 0,\n  borderRadius: 4,\n};\n\nconst ItemTooltipStyle = JSON.stringify({\n  ...BaseTooltipStyle,\n  color: Colors.WHITE,\n  background: Colors.DARK_GRAY1,\n});\n\nconst SelectedItemTooltipStyle = JSON.stringify({\n  ...BaseTooltipStyle,\n  color: Colors.WHITE,\n  background: Colors.BLACK,\n  fontWeight: 600,\n});\n\nconst INSTIGATION_LIST_QUERY = gql`\n  query InstigationListQuery($repositorySelector: RepositorySelector!) {\n    schedulesOrError(repositorySelector: $repositorySelector) {\n      ... on Schedules {\n        results {\n          id\n          name\n          scheduleState {\n            id\n            repositoryOrigin {\n              id\n              repositoryName\n              repositoryLocationName\n            }\n            status\n          }\n        }\n      }\n    }\n    sensorsOrError(repositorySelector: $repositorySelector) {\n      ... on Sensors {\n        results {\n          id\n          name\n          sensorState {\n            id\n            repositoryOrigin {\n              id\n              repositoryName\n              repositoryLocationName\n            }\n            status\n          }\n        }\n      }\n    }\n  }\n`;\n","import {Checkbox, Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {usePermissions} from '../app/Permissions';\nimport {Box} from '../ui/Box';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP, IconWrapper} from '../ui/Icon';\nimport {Spinner} from '../ui/Spinner';\nimport {Caption} from '../ui/Text';\nimport {repoAddressAsString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nimport {ReloadRepositoryLocationButton} from './ReloadRepositoryLocationButton';\n\nexport type RepoDetails = {\n  repoAddress: RepoAddress;\n  metadata: {key: string; value: string}[];\n};\n\ninterface Props {\n  onToggle: (repoDetails: RepoDetails) => void;\n  options: RepoDetails[];\n  selected: Set<RepoDetails>;\n}\n\nexport const RepoSelector: React.FC<Props> = (props) => {\n  const {onToggle, options, selected} = props;\n  const {canReloadRepositoryLocation} = usePermissions();\n\n  return (\n    <Group direction=\"column\" spacing={16}>\n      {options.map((option) => {\n        const {repoAddress, metadata} = option;\n        const addressString = repoAddressAsString(repoAddress);\n        const checked = selected.has(option);\n        return (\n          <Box key={addressString} flex={{direction: 'row', alignItems: 'flex-start'}}>\n            {options.length > 1 ? (\n              <Checkbox\n                checked={checked}\n                onChange={(e) => {\n                  if (e.target instanceof HTMLInputElement) {\n                    onToggle(option);\n                  }\n                }}\n                id={`switch-${addressString}`}\n                style={{marginRight: '4px'}}\n              />\n            ) : null}\n            <RepoLabel htmlFor={`switch-${addressString}`}>\n              <Group direction=\"column\" spacing={4}>\n                <Box flex={{direction: 'row'}} title={addressString}>\n                  <RepoName>{repoAddress.name}</RepoName>\n                  <RepoLocation>{`@${repoAddress.location}`}</RepoLocation>\n                </Box>\n                <Group direction=\"column\" spacing={2}>\n                  {metadata.map(({key, value}) => (\n                    <Caption style={{color: Colors.GRAY3}} key={key}>{`${key}: ${value}`}</Caption>\n                  ))}\n                </Group>\n              </Group>\n            </RepoLabel>\n            <Box margin={{left: 16, top: 1}} style={{lineHeight: 1}}>\n              <BrowseLink to={workspacePathFromAddress(repoAddress)}>Browse</BrowseLink>\n            </Box>\n            {canReloadRepositoryLocation ? <ReloadButton repoAddress={repoAddress} /> : null}\n          </Box>\n        );\n      })}\n    </Group>\n  );\n};\n\nconst RepoLabel = styled.label`\n  cursor: pointer;\n  flex-grow: 1;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1;\n  overflow: hidden;\n  padding: 0;\n  position: relative;\n  top: 1px;\n  transition: filter 50ms linear;\n  user-select: none;\n  white-space: nowrap;\n\n  :focus,\n  :active {\n    outline: none;\n  }\n\n  :hover {\n    filter: opacity(0.8);\n  }\n`;\n\nconst RepoName = styled.div`\n  color: ${Colors.LIGHT_GRAY5};\n`;\n\nconst RepoLocation = styled.div`\n  color: ${Colors.GRAY3};\n`;\n\nconst BrowseLink = styled(Link)`\n  line-height: 1;\n\n  && {\n    color: ${Colors.GRAY5};\n  }\n\n  &&:hover,\n  &&:active {\n    color: ${Colors.GRAY3};\n  }\n`;\n\nconst ReloadButton: React.FC<{repoAddress: RepoAddress}> = ({repoAddress}) => {\n  return (\n    <ReloadRepositoryLocationButton location={repoAddress.location}>\n      {({tryReload, reloading}) => (\n        <ReloadButtonInner onClick={tryReload}>\n          {reloading ? (\n            <Spinner purpose=\"body-text\" />\n          ) : (\n            <IconWIP name=\"refresh\" color={ColorsWIP.Gray200} />\n          )}\n        </ReloadButtonInner>\n      )}\n    </ReloadRepositoryLocationButton>\n  );\n};\n\nconst ReloadButtonInner = styled.button`\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  padding: 2px;\n  margin: -2px 0 0 8px;\n  outline: none;\n\n  :hover ${IconWrapper} {\n    color: ${ColorsWIP.Gray500};\n  }\n\n  :focus ${IconWrapper} {\n    color: ${ColorsWIP.Gray100};\n  }\n`;\n","import {Button, Colors} from '@blueprintjs/core';\nimport {Popover2 as Popover, Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {usePermissions} from '../app/Permissions';\nimport {ShortcutHandler} from '../app/ShortcutHandler';\nimport {Box} from '../ui/Box';\nimport {ButtonLink} from '../ui/ButtonLink';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP, IconWrapper} from '../ui/Icon';\nimport {Spinner} from '../ui/Spinner';\nimport {repoAddressAsString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nimport {ReloadRepositoryLocationButton} from './ReloadRepositoryLocationButton';\nimport {RepoDetails, RepoSelector} from './RepoSelector';\n\ninterface Props {\n  allRepos: RepoDetails[];\n  selected: Set<RepoDetails>;\n  onToggle: (repoAddress: RepoDetails) => void;\n}\n\nexport const RepoNavItem: React.FC<Props> = (props) => {\n  const {allRepos, selected, onToggle} = props;\n  const [open, setOpen] = React.useState(false);\n\n  const onInteraction = React.useCallback((nextState: boolean) => {\n    setOpen(nextState);\n  }, []);\n\n  const summary = () => {\n    if (allRepos.length === 0) {\n      return <span style={{color: Colors.GRAY1}}>No repositories</span>;\n    }\n    if (allRepos.length === 1) {\n      return <SingleRepoSummary repoAddress={allRepos[0].repoAddress} />;\n    }\n    if (selected.size === 1) {\n      const selectedRepo = Array.from(selected)[0];\n      return <SingleRepoSummary repoAddress={selectedRepo.repoAddress} />;\n    }\n    return (\n      <span style={{color: Colors.LIGHT_GRAY3, fontWeight: 500, userSelect: 'none'}}>\n        {`${selected.size} of ${allRepos.length} shown`}\n      </span>\n    );\n  };\n\n  return (\n    <Box\n      background={Colors.DARK_GRAY1}\n      border={{side: 'horizontal', width: 1, color: Colors.DARK_GRAY4}}\n      padding={{vertical: 8, horizontal: 12}}\n    >\n      <Box flex={{justifyContent: 'space-between'}}>\n        <div style={{color: Colors.GRAY3, fontSize: '10.5px', textTransform: 'uppercase'}}>\n          Repository\n        </div>\n        {allRepos.length > 1 ? (\n          <Popover\n            canEscapeKeyClose\n            isOpen={open}\n            onInteraction={onInteraction}\n            modifiers={{offset: {enabled: true, options: {offset: [0, 24]}}}}\n            placement=\"right\"\n            popoverClassName=\"bp3-dark\"\n            content={\n              <div style={{maxWidth: '600px', borderRadius: '3px'}}>\n                <Box\n                  padding={{vertical: 2, left: 8, right: 4}}\n                  background={Colors.DARK_GRAY3}\n                  flex={{alignItems: 'center', justifyContent: 'space-between'}}\n                >\n                  <div style={{fontSize: '12px', color: Colors.GRAY3}}>\n                    {`Repositories (${selected.size} of ${allRepos.length} selected)`}\n                  </div>\n                  <Button icon=\"cross\" small minimal onClick={() => setOpen(false)} />\n                </Box>\n                <Box padding={16}>\n                  <RepoSelector options={allRepos} onToggle={onToggle} selected={selected} />\n                </Box>\n              </div>\n            }\n          >\n            <ButtonLink color={Colors.GRAY5} underline=\"hover\">\n              <span style={{fontSize: '11px', position: 'relative', top: '-4px'}}>Filter</span>\n            </ButtonLink>\n          </Popover>\n        ) : null}\n      </Box>\n      {summary()}\n    </Box>\n  );\n};\n\nconst SingleRepoSummary: React.FC<{repoAddress: RepoAddress}> = ({repoAddress}) => {\n  const {canReloadRepositoryLocation} = usePermissions();\n  return (\n    <Group direction=\"row\" spacing={4} alignItems=\"center\">\n      <SingleRepoNameLink\n        to={workspacePathFromAddress(repoAddress)}\n        title={repoAddressAsString(repoAddress)}\n      >\n        {repoAddress.name}\n      </SingleRepoNameLink>\n      {canReloadRepositoryLocation ? (\n        <ReloadRepositoryLocationButton location={repoAddress.location}>\n          {({tryReload, reloading}) => (\n            <ShortcutHandler\n              onShortcut={tryReload}\n              shortcutLabel={`R`}\n              shortcutFilter={(e) => e.code === 'KeyR' && e.altKey}\n            >\n              <ReloadTooltip\n                inheritDarkTheme={false}\n                content={\n                  <Reloading>\n                    {reloading ? (\n                      'Reloading'\n                    ) : (\n                      <>\n                        Reload location <strong>{repoAddress.location}</strong>\n                      </>\n                    )}\n                  </Reloading>\n                }\n              >\n                {reloading ? (\n                  <Spinner purpose=\"body-text\" />\n                ) : (\n                  <StyledButton onClick={tryReload}>\n                    <IconWIP name=\"refresh\" color={ColorsWIP.Gray200} />\n                  </StyledButton>\n                )}\n              </ReloadTooltip>\n            </ShortcutHandler>\n          )}\n        </ReloadRepositoryLocationButton>\n      ) : null}\n    </Group>\n  );\n};\n\nconst SingleRepoNameLink = styled(Link)`\n  color: ${Colors.LIGHT_GRAY3};\n  display: block;\n  max-width: 234px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  transition: color 100ms linear;\n\n  && {\n    color: ${Colors.LIGHT_GRAY3};\n    font-weight: 500;\n  }\n\n  &&:hover,\n  &&:active {\n    color: ${Colors.LIGHT_GRAY5};\n    text-decoration: none;\n  }\n`;\n\nconst ReloadTooltip = styled(Tooltip)`\n  && {\n    display: block;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  display: block;\n  padding: 0;\n  margin: 0;\n\n  :focus:not(:focus-visible) {\n    outline: none;\n  }\n\n  & ${IconWrapper} {\n    transition: color 0.1s ease-in-out;\n  }\n\n  :hover ${IconWrapper} {\n    color: ${ColorsWIP.Blue200};\n  }\n`;\n\nconst Reloading = styled.div`\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  max-width: 600px;\n  white-space: nowrap;\n`;\n","import {gql, useApolloClient, useSubscription} from '@apollo/client';\nimport {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\n\nimport {LocationStateChangeEventType} from '../types/globalTypes';\nimport {ButtonLink} from '../ui/ButtonLink';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP} from '../ui/Icon';\nimport {Caption} from '../ui/Text';\nimport {WorkspaceContext} from '../workspace/WorkspaceContext';\n\nimport {LocationStateChangeSubscription} from './types/LocationStateChangeSubscription';\n\nconst LOCATION_STATE_CHANGE_SUBSCRIPTION = gql`\n  subscription LocationStateChangeSubscription {\n    locationStateChangeEvents {\n      event {\n        message\n        locationName\n        eventType\n        serverId\n      }\n    }\n  }\n`;\n\nexport const RepositoryLocationStateObserver = () => {\n  const client = useApolloClient();\n  const {locationEntries, refetch} = React.useContext(WorkspaceContext);\n  const [updatedLocations, setUpdatedLocations] = React.useState<string[]>([]);\n  const totalMessages = updatedLocations.length;\n\n  useSubscription<LocationStateChangeSubscription>(LOCATION_STATE_CHANGE_SUBSCRIPTION, {\n    fetchPolicy: 'no-cache',\n    onSubscriptionData: ({subscriptionData}) => {\n      const changeEvents = subscriptionData.data?.locationStateChangeEvents;\n      if (!changeEvents) {\n        return;\n      }\n\n      const {locationName, eventType, serverId} = changeEvents.event;\n\n      switch (eventType) {\n        case LocationStateChangeEventType.LOCATION_ERROR:\n          refetch();\n          setUpdatedLocations((s) => s.filter((name) => name !== locationName));\n          return;\n        case LocationStateChangeEventType.LOCATION_UPDATED:\n          const matchingRepositoryLocation = locationEntries.find((n) => n.name === locationName);\n          if (\n            matchingRepositoryLocation &&\n            matchingRepositoryLocation.locationOrLoadError?.__typename === 'RepositoryLocation' &&\n            matchingRepositoryLocation.locationOrLoadError?.serverId !== serverId\n          ) {\n            setUpdatedLocations((s) => [...s, locationName]);\n          }\n          return;\n      }\n    },\n  });\n\n  if (!totalMessages) {\n    return null;\n  }\n\n  return (\n    <Group background={Colors.GRAY5} direction=\"column\" spacing={0}>\n      {updatedLocations.length > 0 ? (\n        <Group padding={{vertical: 8, horizontal: 12}} direction=\"row\" spacing={8}>\n          <IconWIP name=\"warning\" color={ColorsWIP.Gray700} />\n          <Caption color={Colors.DARK_GRAY3}>\n            {updatedLocations.length === 1\n              ? `Repository location ${updatedLocations[0]} has been updated,` // Be specific when there's only one repository location updated\n              : 'One or more repository locations have been updated,'}{' '}\n            and new data is available.{' '}\n            <ButtonLink\n              color={{\n                link: Colors.DARK_GRAY3,\n                hover: Colors.DARK_GRAY1,\n                active: Colors.DARK_GRAY1,\n              }}\n              underline=\"always\"\n              onClick={() => {\n                setUpdatedLocations([]);\n                refetch();\n                client.resetStore();\n              }}\n            >\n              Update data\n            </ButtonLink>\n          </Caption>\n        </Group>\n      ) : null}\n    </Group>\n  );\n};\n","import {Colors} from '@blueprintjs/core';\nimport memoize from 'lodash/memoize';\nimport * as React from 'react';\nimport {useRouteMatch} from 'react-router-dom';\n\nimport {useFeatureFlags} from '../app/Flags';\nimport {\n  DagsterRepoOption,\n  getRepositoryOptionHash,\n  WorkspaceContext,\n} from '../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\n\nimport {FlatContentList} from './FlatContentList';\nimport {InstigationList} from './InstigationList';\nimport {RepoNavItem} from './RepoNavItem';\nimport {RepoDetails} from './RepoSelector';\nimport {RepositoryContentList} from './RepositoryContentList';\nimport {RepositoryLocationStateObserver} from './RepositoryLocationStateObserver';\n\nexport const LAST_REPO_KEY = 'dagit.last-repo';\nexport const REPO_KEYS = 'dagit.repo-keys';\n\nconst buildDetails = memoize((option: DagsterRepoOption) => ({\n  repoAddress: buildRepoAddress(option.repository.name, option.repositoryLocation.name),\n  metadata: option.repository.displayMetadata,\n}));\n\nconst keysFromLocalStorage = () => {\n  const keys = window.localStorage.getItem(REPO_KEYS);\n  if (keys) {\n    const parsed: string[] = JSON.parse(keys);\n    return new Set(parsed);\n  }\n\n  // todo dish: Temporary while migrating to support filtering on multiple repos in\n  // left nav.\n  const key = window.localStorage.getItem(LAST_REPO_KEY);\n  if (key) {\n    return new Set([key]);\n  }\n\n  return new Set();\n};\n\n/**\n * useNavVisibleRepos vends `[reposForKeys, toggleRepo]` and internally mirrors the current\n * selection into localStorage so that the default selection in new browser windows\n * is the repo currently active in your session.\n */\nconst useNavVisibleRepos = (\n  options: DagsterRepoOption[],\n): [typeof repoDetailsForKeys, typeof toggleRepo] => {\n  // Initialize local state with an empty Set.\n  const [repoKeys, setRepoKeys] = React.useState<Set<string>>(() => new Set());\n\n  // Collect keys from localStorage. Any keys that are present in our option list will be pushed into\n  // local state. If there are none specified in localStorage, just grab the first option.\n  React.useEffect(() => {\n    setRepoKeys(() => {\n      const keys = keysFromLocalStorage();\n      const hashes = options.map((option) => getRepositoryOptionHash(option));\n      const matches = hashes.filter((hash) => keys.has(hash));\n\n      if (matches.length) {\n        return new Set(matches);\n      }\n\n      if (hashes.length) {\n        return new Set([hashes[0]]);\n      }\n\n      return new Set();\n    });\n  }, [options]);\n\n  const toggleRepo = React.useCallback((option: RepoDetails) => {\n    const {repoAddress} = option;\n    const key = `${repoAddress.name}:${repoAddress.location}`;\n\n    setRepoKeys((current) => {\n      const copy = new Set([...Array.from(current || [])]);\n      if (copy.has(key)) {\n        copy.delete(key);\n      } else {\n        copy.add(key);\n      }\n      return copy;\n    });\n  }, []);\n\n  const reposForKeys = React.useMemo(\n    () => options.filter((o) => repoKeys.has(getRepositoryOptionHash(o))),\n    [options, repoKeys],\n  );\n\n  // When the list of matching repos changes, update localStorage.\n  React.useEffect(() => {\n    const foundKeys = reposForKeys.map((option) => getRepositoryOptionHash(option));\n    window.localStorage.setItem(REPO_KEYS, JSON.stringify(foundKeys));\n  }, [reposForKeys]);\n\n  const repoDetailsForKeys = React.useMemo(() => new Set(reposForKeys.map(buildDetails)), [\n    reposForKeys,\n  ]);\n\n  return [repoDetailsForKeys, toggleRepo];\n};\n\nconst LoadedRepositorySection: React.FC<{allRepos: DagsterRepoOption[]}> = ({allRepos}) => {\n  const {flagPipelineModeTuples} = useFeatureFlags();\n  const match = useRouteMatch<\n    | {repoPath: string; selector: string; tab: string; rootTab: undefined}\n    | {selector: undefined; tab: undefined; rootTab: string}\n  >([\n    '/workspace/:repoPath/pipelines/:selector/:tab?',\n    '/workspace/:repoPath/jobs/:selector/:tab?',\n    '/workspace/:repoPath/solids/:selector',\n    '/workspace/:repoPath/schedules/:selector',\n    '/workspace/:repoPath/sensors/:selector',\n    '/:rootTab?',\n  ]);\n\n  const [visibleRepos, toggleRepo] = useNavVisibleRepos(allRepos);\n\n  const visibleOptions = React.useMemo(() => {\n    return Array.from(visibleRepos)\n      .map((visible) => {\n        const {repoAddress} = visible;\n        return allRepos.find(\n          (option) =>\n            getRepositoryOptionHash(option) === `${repoAddress.name}:${repoAddress.location}`,\n        );\n      })\n      .filter((option) => !!option) as DagsterRepoOption[];\n  }, [allRepos, visibleRepos]);\n\n  return (\n    <div\n      className=\"bp3-dark\"\n      style={{\n        background: Colors.DARK_GRAY1,\n        color: Colors.WHITE,\n        display: 'flex',\n        flex: 1,\n        overflow: 'none',\n        flexDirection: 'column',\n        minHeight: 0,\n      }}\n    >\n      <RepoNavItem\n        allRepos={allRepos.map(buildDetails)}\n        selected={visibleRepos}\n        onToggle={toggleRepo}\n      />\n      <RepositoryLocationStateObserver />\n      {visibleRepos.size ? (\n        <div style={{display: 'flex', flex: 1, flexDirection: 'column', minHeight: 0}}>\n          {flagPipelineModeTuples ? (\n            <FlatContentList {...match?.params} repos={visibleOptions} />\n          ) : (\n            <>\n              <RepositoryContentList {...match?.params} repos={visibleOptions} />\n              <InstigationList {...match?.params} repos={visibleOptions} />\n            </>\n          )}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport const LeftNavRepositorySection = React.memo(() => {\n  const {allRepos, loading} = React.useContext(WorkspaceContext);\n\n  if (loading) {\n    return <div style={{flex: 1}} />;\n  }\n\n  return <LoadedRepositorySection allRepos={allRepos} />;\n});\n","import * as React from 'react';\n\nimport {ColorsWIP} from '../ui/Colors';\nimport {IconWIP} from '../ui/Icon';\nimport {WorkspaceContext} from '../workspace/WorkspaceContext';\n\nimport {WarningTooltip} from './WarningTooltip';\n\nexport const WorkspaceWarningIcon = React.memo(() => {\n  const {locationEntries} = React.useContext(WorkspaceContext);\n\n  const repoErrors = locationEntries.filter(\n    (locationEntry) => locationEntry.locationOrLoadError?.__typename === 'PythonError',\n  );\n\n  if (repoErrors.length) {\n    return (\n      <WarningTooltip\n        content={\n          <div>{`${repoErrors.length} ${\n            repoErrors.length === 1\n              ? 'repository location failed to load'\n              : 'repository locations failed to load'\n          }`}</div>\n        }\n        position=\"right\"\n      >\n        <IconWIP name=\"warning\" color={ColorsWIP.Yellow500} />\n      </WarningTooltip>\n    );\n  }\n\n  return null;\n});\n","import {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport {useHistory, Link, useRouteMatch} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {LayoutContext} from '../app/LayoutProvider';\nimport {ShortcutHandler} from '../app/ShortcutHandler';\nimport {Box} from '../ui/Box';\nimport {ColorsWIP} from '../ui/Colors';\nimport {IconWIP} from '../ui/Icon';\n\nimport {InstanceWarningIcon} from './InstanceWarningIcon';\nimport {LeftNavRepositorySection} from './LeftNavRepositorySection';\nimport {WorkspaceWarningIcon} from './WorkspaceWarningIcon';\n\nexport const LeftNav = () => {\n  const history = useHistory();\n  const {nav} = React.useContext(LayoutContext);\n\n  const runsMatch = useRouteMatch('/instance/runs');\n  const assetsMatch = useRouteMatch('/instance/assets');\n  const statusMatch = useRouteMatch([\n    '/instance/health',\n    '/instance/schedules',\n    '/instance/sensors',\n    '/instance/config',\n  ]);\n  const workspaceMatch = useRouteMatch({path: '/workspace', exact: true});\n\n  return (\n    <LeftNavContainer $open={nav.isOpen}>\n      <Box padding={{top: 4}}>\n        <Box padding={{horizontal: 12}} margin={{bottom: 4}}>\n          <div\n            style={{\n              fontSize: 10.5,\n              color: Colors.GRAY1,\n              userSelect: 'none',\n              textTransform: 'uppercase',\n            }}\n          >\n            Instance\n          </div>\n        </Box>\n        <ShortcutHandler\n          onShortcut={() => history.push('/instance/runs')}\n          shortcutLabel={`1`}\n          shortcutFilter={(e) => e.code === 'Digit1' && e.altKey}\n        >\n          <Tab to=\"/instance/runs\" className={!!runsMatch ? 'selected' : ''}>\n            <IconWIP name=\"settings_backup_restore\" color={ColorsWIP.White} />\n            <TabLabel>Runs</TabLabel>\n          </Tab>\n        </ShortcutHandler>\n        <ShortcutHandler\n          onShortcut={() => history.push('/instance/assets')}\n          shortcutLabel={`2`}\n          shortcutFilter={(e) => e.code === 'Digit2' && e.altKey}\n        >\n          <Tab to=\"/instance/assets\" className={!!assetsMatch ? 'selected' : ''}>\n            <IconWIP name=\"table_view\" color={ColorsWIP.White} />\n            <TabLabel>Assets</TabLabel>\n          </Tab>\n        </ShortcutHandler>\n        <ShortcutHandler\n          onShortcut={() => history.push('/instance')}\n          shortcutLabel={`3`}\n          shortcutFilter={(e) => e.code === 'Digit3' && e.altKey}\n        >\n          <Tab to=\"/instance\" className={!!statusMatch ? 'selected' : ''}>\n            <IconWIP name=\"speed\" color={ColorsWIP.White} />\n            <TabLabel>Status</TabLabel>\n            <InstanceWarningIcon />\n          </Tab>\n        </ShortcutHandler>\n        <ShortcutHandler\n          onShortcut={() => history.push('/workspace')}\n          shortcutLabel={`4`}\n          shortcutFilter={(e) => e.code === 'Digit4' && e.altKey}\n        >\n          <Tab to=\"/workspace\" className={!!workspaceMatch ? 'selected' : ''}>\n            <IconWIP name=\"source\" color={ColorsWIP.White} />\n            <TabLabel>Workspace</TabLabel>\n            <WorkspaceWarningIcon />\n          </Tab>\n        </ShortcutHandler>\n      </Box>\n      <LeftNavRepositorySection />\n    </LeftNavContainer>\n  );\n};\n\nconst LeftNavContainer = styled.div<{$open: boolean}>`\n  position: fixed;\n  z-index: 2;\n  top: 48px;\n  bottom: 0;\n  left: 0;\n  width: 280px;\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: column;\n  justify-content: start;\n  background: ${Colors.DARK_GRAY2};\n  border-right: 1px solid ${Colors.DARK_GRAY5};\n\n  @media (max-width: 1440px) {\n    box-shadow: 2px 0px 0px ${Colors.LIGHT_GRAY1};\n    transform: translateX(${({$open}) => ($open ? '0' : '-280px')});\n    transition: transform 150ms ease-in-out;\n  }\n`;\n\nconst Tab = styled(Link)`\n  color: ${Colors.LIGHT_GRAY1} !important;\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  display: flex;\n  padding: 8px 10px;\n  align-items: center;\n  outline: 0;\n  &:hover {\n    color: ${Colors.WHITE} !important;\n    text-decoration: none;\n  }\n  &:focus {\n    outline: 0;\n  }\n  &.selected {\n    color: ${Colors.WHITE} !important;\n    border-left: 4px solid ${Colors.COBALT3};\n    font-weight: 600;\n  }\n`;\n\nconst TabLabel = styled.div`\n  font-size: 13px;\n  margin-left: 8px;\n  text-decoration: none;\n  white-space: nowrap;\n  text-decoration: none;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {LeftNav} from '../nav/LeftNav';\n\nimport {LayoutContext} from './LayoutProvider';\n\nexport const App: React.FC = (props) => {\n  const {nav} = React.useContext(LayoutContext);\n\n  const onClickMain = React.useCallback(() => {\n    nav.close();\n  }, [nav]);\n\n  return (\n    <Container>\n      <LeftNav />\n      <Main $navOpen={nav.isOpen} onClick={onClickMain}>\n        {props.children}\n      </Main>\n    </Container>\n  );\n};\n\nconst Main = styled.div<{$navOpen: boolean}>`\n  height: 100%;\n  margin-left: 280px;\n  width: calc(100% - 280px);\n\n  @media (max-width: 1440px) {\n    margin-left: 0;\n    width: 100%;\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  height: calc(100% - 48px);\n`;\n","import {ErrorResponse, onError} from '@apollo/client/link/error';\nimport {Intent, Position, Toaster} from '@blueprintjs/core';\nimport {GraphQLError} from 'graphql';\nimport * as React from 'react';\n\nimport {FontFamily} from '../ui/styles';\n\nimport {showCustomAlert} from './CustomAlertProvider';\n\ninterface DagsterGraphQLError extends GraphQLError {\n  stack_trace: string[];\n  cause?: DagsterGraphQLError;\n}\n\nconst ErrorToaster = Toaster.create({position: Position.TOP_RIGHT});\n\nconst showGraphQLError = (error: DagsterGraphQLError, operationName?: string) => {\n  const message = (\n    <div>\n      Unexpected GraphQL error\n      <AppStackTraceLink error={error} operationName={operationName} />\n    </div>\n  );\n  ErrorToaster.show({message, intent: Intent.DANGER});\n  console.error('[GraphQL error]', error);\n};\n\nexport const errorLink = onError((response: ErrorResponse) => {\n  if (response.graphQLErrors) {\n    const {graphQLErrors, operation} = response;\n    const {operationName} = operation;\n    graphQLErrors.forEach((error) => showGraphQLError(error as DagsterGraphQLError, operationName));\n  }\n  if (response.networkError) {\n    ErrorToaster.show({\n      message: `[Network error] ${response.networkError.message}`,\n      intent: Intent.DANGER,\n    });\n    console.error('[Network error]', response.networkError);\n  }\n});\n\ninterface AppStackTraceLinkProps {\n  error: DagsterGraphQLError;\n  operationName?: string;\n}\n\nconst AppStackTraceLink = ({error, operationName}: AppStackTraceLinkProps) => {\n  const title = 'Error';\n  const stackTraceContent = error.stack_trace ? (\n    <>\n      {'\\n\\n'}\n      Stack Trace:\n      {'\\n'}\n      {error.stack_trace.join('')}\n    </>\n  ) : null;\n  const causeContent = error.cause ? (\n    <>\n      {'\\n'}\n      The above exception was the direct cause of the following exception:\n      {'\\n\\n'}\n      Message: {error.cause.message}\n      {'\\n\\n'}\n      Stack Trace:\n      {'\\n'}\n      {error.cause.stack_trace.join('')}\n    </>\n  ) : null;\n  const instructions = (\n    <div\n      style={{\n        fontFamily: FontFamily.default,\n        fontSize: 16,\n        marginBottom: 30,\n      }}\n    >\n      You hit an unexpected error while fetching data from Dagster.\n      <br />\n      <br />\n      If you have a minute, consider reporting this error either by{' '}\n      <a href=\"https://github.com/dagster-io/dagster/issues/\" rel=\"noreferrer\" target=\"_blank\">\n        filing a Github issue\n      </a>{' '}\n      or by{' '}\n      <a href=\"https://dagster.slack.com/archives/CCCR6P2UR\" rel=\"noreferrer\" target=\"_blank\">\n        messaging in the Dagster slack\n      </a>\n      . Use the <code>&quot;Copy&quot;</code> button below to include error information that is\n      helpful for the core development team to diagnose what is happening and to improve Dagster in\n      recovering from unexpected errors.\n    </div>\n  );\n\n  const body = (\n    <div>\n      {instructions}\n      <div\n        className=\"errorInfo\"\n        style={{\n          backgroundColor: 'rgba(206, 17, 38, 0.05)',\n          border: '1px solid #d17257',\n          borderRadius: 3,\n          maxWidth: '90vw',\n          maxHeight: '80vh',\n          padding: '1em 2em',\n          overflow: 'auto',\n          color: 'rgb(41, 50, 56)',\n          fontFamily: FontFamily.monospace,\n          fontSize: '1em',\n          whiteSpace: 'pre',\n          overflowX: 'auto',\n        }}\n      >\n        {operationName ? `Operation name: ${operationName}\\n\\n` : null}\n        Message: {error.message}\n        {'\\n\\n'}\n        Path: {JSON.stringify(error.path)}\n        {'\\n\\n'}\n        Locations: {JSON.stringify(error.locations)}\n        {stackTraceContent}\n        {causeContent}\n      </div>\n    </div>\n  );\n\n  return (\n    <span\n      style={{cursor: 'pointer', textDecoration: 'underline', marginLeft: 30}}\n      onClick={() => showCustomAlert({title, body, copySelector: '.errorInfo'})}\n    >\n      View error info\n    </span>\n  );\n};\n","import {Popover2, Popover2Props} from '@blueprintjs/popover2';\nimport deepmerge from 'deepmerge';\nimport * as React from 'react';\nimport {createGlobalStyle} from 'styled-components/macro';\n\nexport const GlobalPopoverStyle = createGlobalStyle`\n  .dagit-popover.bp3-popover2 {\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 2px 12px;\n  }\n\n  .dagit-popover .bp3-popover2-content {\n    border-radius: 4px;\n  }\n`;\n\nexport const Popover: React.FC<Popover2Props> = (props) => {\n  return (\n    <Popover2\n      {...props}\n      minimal\n      popoverClassName={`dagit-popover ${props.popoverClassName}`}\n      modifiers={deepmerge(\n        {offset: {enabled: true, options: {offset: [0, 8]}}},\n        props.modifiers || {},\n      )}\n    />\n  );\n};\n","import {Tooltip2, Tooltip2Props} from '@blueprintjs/popover2';\nimport deepmerge from 'deepmerge';\nimport React from 'react';\nimport {createGlobalStyle} from 'styled-components/macro';\n\nimport {ColorsWIP} from './Colors';\nimport {FontFamily} from './styles';\n\nexport const GlobalTooltipStyle = createGlobalStyle`\n  .dagit-tooltip .bp3-popover2-content {\n      background: ${ColorsWIP.Gray900};\n      font-family: ${FontFamily.default};\n      font-size: 12px;\n      line-height: 16px;\n      color: ${ColorsWIP.Gray50};\n      padding: 8px 16px;\n  }\n`;\n\nexport const Tooltip: React.FC<Tooltip2Props> = (props) => (\n  <Tooltip2\n    {...props}\n    minimal\n    popoverClassName={`dagit-tooltip ${props.popoverClassName}`}\n    modifiers={deepmerge(\n      {offset: {enabled: true, options: {offset: [0, 8]}}},\n      props.modifiers || {},\n    )}\n  />\n);\n","import React from 'react';\nimport styled from 'styled-components/macro';\n\nexport const CustomTooltipProvider = () => {\n  const [state, setState] = React.useState<null | {\n    title: string;\n    style: React.CSSProperties;\n  }>(null);\n\n  React.useEffect(() => {\n    document.addEventListener('mouseover', (ev) => {\n      const el = ev.target;\n      if (!(el instanceof Element)) {\n        return;\n      }\n      if (el.getAttribute('id') === 'tooltip-container') {\n        return;\n      }\n\n      const tooltipParentEl = el.closest('[data-tooltip]') as HTMLElement;\n      if (!tooltipParentEl) {\n        setState(null);\n        return;\n      }\n\n      // There are three conditions under which the tooltip is shown. The DOM\n      // element must be overflowing, truncated manually via `...` or be entirely\n      // empty.\n      const isOverflowing = tooltipParentEl.offsetWidth < tooltipParentEl.scrollWidth;\n      const isManuallyOverflowed = tooltipParentEl.textContent?.includes('');\n      const isEmpty = !tooltipParentEl.hasChildNodes();\n\n      if (!isOverflowing && !isManuallyOverflowed && !isEmpty) {\n        setState(null);\n        return;\n      }\n\n      const {tooltip, tooltipStyle} = tooltipParentEl.dataset;\n      const {left, top} = tooltipParentEl.getBoundingClientRect();\n      const style = {left, top};\n\n      if (tooltipStyle) {\n        const overrides = JSON.parse(tooltipStyle);\n        Object.assign(style, {\n          ...overrides,\n          left: left + (overrides.left || 0),\n          top: top + (overrides.top || 0),\n        });\n      }\n      setState({\n        title: tooltip!,\n        style,\n      });\n    });\n  }, []);\n\n  if (!state) {\n    return <span />;\n  }\n\n  return (\n    <TooltipContainer id=\"tooltip-container\" style={state.style}>\n      {state.title}\n    </TooltipContainer>\n  );\n};\n\nconst TooltipContainer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 11px;\n  padding: 3px;\n  color: #a88860;\n  background: #fffaf5;\n  border: 1px solid #dbc5ad;\n  transform: translate(5px, 5px);\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);\n  z-index: 100;\n  pointer-events: none;\n  user-select: none;\n`;\n","import '@blueprintjs/core/lib/css/blueprint.css';\nimport '@blueprintjs/icons/lib/css/blueprint-icons.css';\nimport '@blueprintjs/select/lib/css/blueprint-select.css';\nimport '@blueprintjs/table/lib/css/table.css';\nimport '@blueprintjs/popover2/lib/css/blueprint-popover2.css';\n\nimport {\n  ApolloLink,\n  ApolloClient,\n  ApolloProvider,\n  HttpLink,\n  InMemoryCache,\n  split,\n} from '@apollo/client';\nimport {WebSocketLink} from '@apollo/client/link/ws';\nimport {getMainDefinition} from '@apollo/client/utilities';\nimport {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport {createGlobalStyle} from 'styled-components/macro';\nimport {SubscriptionClient} from 'subscriptions-transport-ws';\n\nimport {ColorsWIP} from '../ui/Colors';\nimport {GlobalPopoverStyle} from '../ui/Popover';\nimport {GlobalTooltipStyle} from '../ui/Tooltip';\nimport {FontFamily} from '../ui/styles';\nimport {WorkspaceProvider} from '../workspace/WorkspaceContext';\n\nimport {AppContext} from './AppContext';\nimport {CustomAlertProvider} from './CustomAlertProvider';\nimport {CustomConfirmationProvider} from './CustomConfirmationProvider';\nimport {CustomTooltipProvider} from './CustomTooltipProvider';\nimport {LayoutProvider} from './LayoutProvider';\nimport {PermissionsProvider} from './Permissions';\nimport {patchCopyToRemoveZeroWidthUnderscores} from './Util';\nimport {WebSocketProvider} from './WebSocketProvider';\nimport {TimezoneProvider} from './time/TimezoneContext';\n\n// The solid sidebar and other UI elements insert zero-width spaces so solid names\n// break on underscores rather than arbitrary characters, but we need to remove these\n// when you copy-paste so they don't get pasted into editors, etc.\npatchCopyToRemoveZeroWidthUnderscores();\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n  }\n\n  html, body, #root {\n    color: ${Colors.DARK_GRAY4};\n    width: 100vw;\n    height: 100vh;\n    overflow: hidden;\n    display: flex;\n    flex: 1 1;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n  }\n\n  body, button, input, select, textarea {\n    font-family: ${FontFamily.default};\n  }\n\n  code, pre {\n    font-family: ${FontFamily.monospace};\n    font-size: 16px;\n  }\n\n  .material-icons {\n    display: block;\n  }\n\n  /* todo dish: Remove these when we have buttons updated. */\n\n  .bp3-button .material-icons {\n    position: relative;\n    top: 1px;\n  }\n\n  .bp3-button:disabled .material-icons {\n    color: ${ColorsWIP.Gray300}\n  }\n`;\n\ninterface Props {\n  appCache: InMemoryCache;\n  config: {\n    apolloLinks: ApolloLink[];\n    basePath?: string;\n    headers?: {[key: string]: string};\n    origin: string;\n  };\n}\n\nexport const AppProvider: React.FC<Props> = (props) => {\n  const {appCache, config} = props;\n  const {apolloLinks, basePath = '', headers = {}, origin} = config;\n\n  const graphqlPath = `${basePath}/graphql`;\n  const rootServerURI = `${origin}${basePath}`;\n  const websocketURI = `${rootServerURI.replace(/^http/, 'ws')}/graphql`;\n\n  // Ensure that we use the same `headers` value.\n  const headersAsString = JSON.stringify(headers);\n  const headerObject = React.useMemo(() => JSON.parse(headersAsString), [headersAsString]);\n\n  const websocketClient = React.useMemo(\n    () =>\n      new SubscriptionClient(websocketURI, {\n        reconnect: true,\n        connectionParams: {...headerObject},\n      }),\n    [headerObject, websocketURI],\n  );\n\n  const apolloClient = React.useMemo(() => {\n    // Subscriptions use WebSocketLink, queries & mutations use HttpLink.\n    const splitLink = split(\n      ({query}) => {\n        const definition = getMainDefinition(query);\n        return definition.kind === 'OperationDefinition' && definition.operation === 'subscription';\n      },\n      new WebSocketLink(websocketClient),\n      new HttpLink({uri: graphqlPath, headers: headerObject}),\n    );\n\n    return new ApolloClient({\n      cache: appCache,\n      link: ApolloLink.from([...apolloLinks, splitLink]),\n    });\n  }, [apolloLinks, appCache, graphqlPath, headerObject, websocketClient]);\n\n  const appContextValue = React.useMemo(\n    () => ({\n      basePath,\n      rootServerURI,\n    }),\n    [basePath, rootServerURI],\n  );\n\n  return (\n    <AppContext.Provider value={appContextValue}>\n      <WebSocketProvider websocketClient={websocketClient}>\n        <GlobalStyle />\n        <GlobalTooltipStyle />\n        <GlobalPopoverStyle />\n        <ApolloProvider client={apolloClient}>\n          <PermissionsProvider>\n            <BrowserRouter basename={basePath || ''}>\n              <TimezoneProvider>\n                <WorkspaceProvider>\n                  <CustomConfirmationProvider>\n                    <LayoutProvider>{props.children}</LayoutProvider>\n                  </CustomConfirmationProvider>\n                  <CustomTooltipProvider />\n                  <CustomAlertProvider />\n                </WorkspaceProvider>\n              </TimezoneProvider>\n            </BrowserRouter>\n          </PermissionsProvider>\n        </ApolloProvider>\n      </WebSocketProvider>\n    </AppContext.Provider>\n  );\n};\n","export enum SearchResultType {\n  Asset,\n  Page,\n  PartitionSet,\n  Pipeline,\n  Repository,\n  Run,\n  Schedule,\n  Sensor,\n  Solid,\n}\n\nexport type SearchResult = {\n  key: string;\n  label: string;\n  description: string;\n  href: string;\n  type: SearchResultType;\n  tags?: string;\n};\n","import {gql, useQuery} from '@apollo/client';\nimport {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {VersionNumberQuery} from './types/VersionNumberQuery';\n\nexport const VersionNumber = () => {\n  const {data} = useQuery<VersionNumberQuery>(VERSION_NUMBER_QUERY, {\n    fetchPolicy: 'cache-and-network',\n  });\n\n  return <Version>{data?.version || <span>&nbsp;</span>}</Version>;\n};\n\nconst Version = styled.div`\n  color: ${Colors.GRAY3};\n  font-size: 11px;\n`;\n\nconst VERSION_NUMBER_QUERY = gql`\n  query VersionNumberQuery {\n    version\n  }\n`;\n","import {Colors} from '@blueprintjs/core';\nimport Fuse from 'fuse.js';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {useFeatureFlags} from '../app/Flags';\nimport {ColorsWIP} from '../ui/Colors';\nimport {IconName, IconWIP} from '../ui/Icon';\n\nimport {SearchResult, SearchResultType} from './types';\n\nconst iconForType = (type: SearchResultType, flagPipelineModeTuples: boolean): IconName => {\n  switch (type) {\n    case SearchResultType.Asset:\n      return 'table_view';\n    case SearchResultType.PartitionSet:\n    case SearchResultType.Schedule:\n      return 'schedule';\n    case SearchResultType.Pipeline:\n      return flagPipelineModeTuples ? 'workspaces' : 'schema';\n    case SearchResultType.Repository:\n      return 'source';\n    case SearchResultType.Run:\n      return 'history';\n    case SearchResultType.Sensor:\n      return 'sensors';\n    case SearchResultType.Solid:\n      return 'linear_scale';\n    default:\n      return 'source';\n  }\n};\n\ninterface ItemProps {\n  isHighlight: boolean;\n  onClickResult: (result: Fuse.FuseResult<SearchResult>) => void;\n  result: Fuse.FuseResult<SearchResult>;\n}\n\nconst SearchResultItem: React.FC<ItemProps> = React.memo(({isHighlight, onClickResult, result}) => {\n  const {item} = result;\n  const element = React.useRef<HTMLLIElement>(null);\n  const {flagPipelineModeTuples} = useFeatureFlags();\n\n  React.useEffect(() => {\n    if (element.current && isHighlight) {\n      element.current.scrollIntoView({block: 'nearest'});\n    }\n  }, [isHighlight]);\n\n  const onClick = React.useCallback(\n    (e: React.MouseEvent) => {\n      if (!e.getModifierState('Meta') && !e.getModifierState('Control')) {\n        e.preventDefault();\n        onClickResult(result);\n      }\n    },\n    [onClickResult, result],\n  );\n\n  return (\n    <Item isHighlight={isHighlight} ref={element}>\n      <ResultLink to={item.href} onClick={onClick}>\n        <IconWIP\n          name={iconForType(item.type, flagPipelineModeTuples)}\n          color={isHighlight ? ColorsWIP.White : ColorsWIP.Gray500}\n        />\n        <div style={{marginLeft: '12px'}}>\n          <Label isHighlight={isHighlight}>{item.label}</Label>\n          <Description isHighlight={isHighlight}>{item.description}</Description>\n        </div>\n      </ResultLink>\n    </Item>\n  );\n});\n\ninterface Props {\n  highlight: number;\n  onClickResult: (result: Fuse.FuseResult<SearchResult>) => void;\n  queryString: string;\n  results: Fuse.FuseResult<SearchResult>[];\n}\n\nexport const SearchResults = (props: Props) => {\n  const {highlight, onClickResult, queryString, results} = props;\n\n  if (!results.length && queryString) {\n    return <NoResults>No results</NoResults>;\n  }\n\n  return (\n    <List hasResults={!!results.length}>\n      {results.map((result, ii) => (\n        <SearchResultItem\n          key={result.item.key}\n          isHighlight={highlight === ii}\n          result={result}\n          onClickResult={onClickResult}\n        />\n      ))}\n    </List>\n  );\n};\n\nconst NoResults = styled.div`\n  color: ${ColorsWIP.Gray100};\n  font-size: 16px;\n  padding: 16px;\n`;\n\ninterface ListProps {\n  hasResults: boolean;\n}\n\nconst List = styled.ul<ListProps>`\n  max-height: calc(60vh - 48px);\n  margin: 0;\n  padding: ${({hasResults}) => (hasResults ? '4px 0' : 'none')};\n  list-style: none;\n  overflow-y: auto;\n`;\n\ninterface HighlightableTextProps {\n  readonly isHighlight: boolean;\n}\n\nconst Item = styled.li<HighlightableTextProps>`\n  align-items: center;\n  background-color: ${({isHighlight}) => (isHighlight ? Colors.BLUE3 : ColorsWIP.White)};\n  color: ${({isHighlight}) => (isHighlight ? ColorsWIP.White : 'default')}\n  display: flex;\n  flex-direction: row;\n  list-style: none;\n  margin: 0;\n  user-select: none;\n\n  &:hover {\n    background-color: ${({isHighlight}) => (isHighlight ? Colors.BLUE3 : ColorsWIP.Gray500)};\n  }\n`;\n\nconst ResultLink = styled(Link)`\n  align-items: center;\n  align-self: stretch;\n  display: flex;\n  flex-direction: row;\n  padding: 8px 12px;\n  text-decoration: none;\n  width: 100%;\n\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nconst Label = styled.div<HighlightableTextProps>`\n  color: ${({isHighlight}) => (isHighlight ? ColorsWIP.White : ColorsWIP.Gray500)};\n  font-weight: 500;\n`;\n\nconst Description = styled.div<HighlightableTextProps>`\n  color: ${({isHighlight}) => (isHighlight ? ColorsWIP.White : ColorsWIP.Gray400)};\n  font-size: 12px;\n  max-width: 530px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n","import {gql, useLazyQuery, useQuery} from '@apollo/client';\nimport Fuse from 'fuse.js';\nimport * as React from 'react';\n\nimport {featureEnabled, FeatureFlag} from '../app/Flags';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorInfo';\nimport {buildRepoPath} from '../workspace/buildRepoAddress';\nimport {workspacePath} from '../workspace/workspacePath';\n\nimport {SearchResult, SearchResultType} from './types';\nimport {\n  SearchBootstrapQuery,\n  SearchBootstrapQuery_workspaceOrError_Workspace_locationEntries_locationOrLoadError_RepositoryLocation_repositories as Repository,\n} from './types/SearchBootstrapQuery';\nimport {SearchSecondaryQuery} from './types/SearchSecondaryQuery';\n\nconst fuseOptions = {\n  keys: ['label', 'tags', 'type'],\n  limit: 10,\n  threshold: 0.3,\n  useExtendedSearch: true,\n};\n\nconst bootstrapDataToSearchResults = (data?: SearchBootstrapQuery) => {\n  if (!data?.workspaceOrError || data?.workspaceOrError?.__typename !== 'Workspace') {\n    return new Fuse([]);\n  }\n\n  const pipelineMode = featureEnabled(FeatureFlag.flagPipelineModeTuples);\n  const {locationEntries} = data.workspaceOrError;\n  const manyRepos = locationEntries.length > 1;\n\n  const allEntries = locationEntries.reduce((accum, locationEntry) => {\n    if (locationEntry.locationOrLoadError?.__typename !== 'RepositoryLocation') {\n      return accum;\n    }\n\n    const repoLocation = locationEntry.locationOrLoadError;\n    const repos: Repository[] = repoLocation.repositories;\n    return [\n      ...accum,\n      ...repos.reduce((inner, repo) => {\n        const {name, partitionSets, pipelines, schedules, sensors} = repo;\n        const {name: locationName} = repoLocation;\n        const repoPath = buildRepoPath(name, locationName);\n\n        const allPipelines = pipelineMode\n          ? pipelines.reduce((flat, pipeline) => {\n              const jobs = pipeline.modes.map((mode) => ({\n                key: `${repoPath}-${pipeline.name}-${mode.name}`,\n                label: `${pipeline.name} : ${mode.name}`,\n                description: manyRepos ? `Job in ${repoPath}` : 'Job',\n                href: workspacePath(name, locationName, `/pipelines/${pipeline.name}:${mode.name}`),\n                type: SearchResultType.Pipeline,\n              }));\n              return [...flat, ...jobs];\n            }, [] as SearchResult[])\n          : pipelines.map((pipeline) => ({\n              key: `${repoPath}-${pipeline.name}`,\n              label: pipeline.name,\n              description: manyRepos ? `Pipeline in ${repoPath}` : 'Pipeline',\n              href: workspacePath(name, locationName, `/pipelines/${pipeline.name}`),\n              type: SearchResultType.Pipeline,\n            }));\n\n        const allSchedules = schedules.map((schedule) => ({\n          key: `${repoPath}-${schedule.name}`,\n          label: schedule.name,\n          description: manyRepos ? `Schedule in ${repoPath}` : 'Schedule',\n          href: workspacePath(name, locationName, `/schedules/${schedule.name}`),\n          type: SearchResultType.Schedule,\n        }));\n\n        const allSensors = sensors.map((sensor) => ({\n          key: `${repoPath}-${sensor.name}`,\n          label: sensor.name,\n          description: manyRepos ? `Sensor in ${repoPath}` : 'Sensor',\n          href: workspacePath(name, locationName, `/sensors/${sensor.name}`),\n          type: SearchResultType.Sensor,\n        }));\n\n        const allPartitionSets = partitionSets.map((partitionSet) => ({\n          key: `${repoPath}-${partitionSet.name}`,\n          label: partitionSet.name,\n          description: manyRepos ? `Partition set in ${repoPath}` : 'Partition set',\n          href: workspacePath(\n            name,\n            locationName,\n            `/pipelines/${partitionSet.pipelineName}/partitions?partitionSet=${partitionSet.name}`,\n          ),\n          type: SearchResultType.PartitionSet,\n        }));\n\n        return [...inner, ...allPipelines, ...allSchedules, ...allSensors, ...allPartitionSets];\n      }, [] as SearchResult[]),\n    ];\n  }, [] as SearchResult[]);\n\n  return new Fuse(allEntries, fuseOptions);\n};\n\nconst secondaryDataToSearchResults = (data?: SearchSecondaryQuery) => {\n  if (!data?.assetsOrError || data.assetsOrError.__typename === 'PythonError') {\n    return new Fuse([]);\n  }\n\n  const {nodes} = data.assetsOrError;\n  const allEntries = nodes.map((node) => {\n    const {key} = node;\n    const path = key.path.join('  ');\n    return {\n      key: path,\n      label: path,\n      description: 'Asset',\n      href: `/instance/assets/${key.path.map(encodeURIComponent).join('/')}`,\n      type: SearchResultType.Asset,\n    };\n  });\n\n  return new Fuse(allEntries, fuseOptions);\n};\n\nexport const useRepoSearch = () => {\n  const {data: bootstrapData, loading: bootstrapLoading} = useQuery<SearchBootstrapQuery>(\n    SEARCH_BOOTSTRAP_QUERY,\n    {\n      fetchPolicy: 'cache-and-network',\n    },\n  );\n\n  const [\n    performQuery,\n    {data: secondaryData, loading: secondaryLoading, called: secondaryQueryCalled},\n  ] = useLazyQuery<SearchSecondaryQuery>(SEARCH_SECONDARY_QUERY, {\n    fetchPolicy: 'cache-and-network',\n  });\n\n  const bootstrapFuse = React.useMemo(() => bootstrapDataToSearchResults(bootstrapData), [\n    bootstrapData,\n  ]);\n  const secondaryFuse = React.useMemo(() => secondaryDataToSearchResults(secondaryData), [\n    secondaryData,\n  ]);\n  const loading = bootstrapLoading || secondaryLoading;\n  const performSearch = React.useCallback(\n    (queryString: string, buildSecondary?: boolean): Fuse.FuseResult<SearchResult>[] => {\n      if ((queryString || buildSecondary) && !secondaryQueryCalled) {\n        performQuery();\n      }\n      const bootstrapResults: Fuse.FuseResult<SearchResult>[] = bootstrapFuse.search(queryString);\n      const secondaryResults: Fuse.FuseResult<SearchResult>[] = secondaryFuse.search(queryString);\n      return [...bootstrapResults, ...secondaryResults];\n    },\n    [bootstrapFuse, secondaryFuse, performQuery, secondaryQueryCalled],\n  );\n\n  return {loading, performSearch};\n};\n\nconst SEARCH_BOOTSTRAP_QUERY = gql`\n  query SearchBootstrapQuery {\n    workspaceOrError {\n      __typename\n      ... on PythonError {\n        ...PythonErrorFragment\n      }\n      ... on Workspace {\n        locationEntries {\n          __typename\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                ... on Repository {\n                  id\n                  name\n                  pipelines {\n                    id\n                    modes {\n                      id\n                      name\n                    }\n                    name\n                  }\n                  schedules {\n                    id\n                    name\n                  }\n                  sensors {\n                    id\n                    name\n                  }\n                  partitionSets {\n                    id\n                    name\n                    pipelineName\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n\nconst SEARCH_SECONDARY_QUERY = gql`\n  query SearchSecondaryQuery {\n    assetsOrError {\n      __typename\n      ... on AssetConnection {\n        nodes {\n          id\n          key {\n            path\n          }\n        }\n      }\n    }\n  }\n`;\n","import {Colors, Overlay} from '@blueprintjs/core';\nimport Fuse from 'fuse.js';\nimport * as React from 'react';\nimport {useHistory, useLocation} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {useFeatureFlags} from '../app/Flags';\nimport {ShortcutHandler} from '../app/ShortcutHandler';\nimport {Box} from '../ui/Box';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP} from '../ui/Icon';\nimport {Spinner} from '../ui/Spinner';\nimport {FontFamily} from '../ui/styles';\n\nimport {SearchResults} from './SearchResults';\nimport {SearchResult} from './types';\nimport {useRepoSearch} from './useRepoSearch';\n\ntype State = {\n  shown: boolean;\n  queryString: string;\n  searching: boolean;\n  results: Fuse.FuseResult<SearchResult>[];\n  highlight: number;\n  loaded: boolean;\n};\n\ntype Action =\n  | {type: 'show-dialog'}\n  | {type: 'hide-dialog'}\n  | {type: 'highlight'; highlight: number}\n  | {type: 'change-query'; queryString: string}\n  | {type: 'complete-search'; results: Fuse.FuseResult<SearchResult>[]};\n\nconst reducer = (state: State, action: Action) => {\n  switch (action.type) {\n    case 'show-dialog':\n      return {...state, shown: true, loaded: true};\n    case 'hide-dialog':\n      return {...state, shown: false, queryString: ''};\n    case 'highlight':\n      return {...state, highlight: action.highlight};\n    case 'change-query':\n      return {...state, queryString: action.queryString, searching: true, highlight: 0};\n    case 'complete-search':\n      return {...state, results: action.results, searching: false};\n    default:\n      return state;\n  }\n};\n\nconst initialState: State = {\n  shown: false,\n  queryString: '',\n  searching: false,\n  results: [],\n  highlight: 0,\n  loaded: false,\n};\n\nexport const SearchDialog: React.FC<{theme: 'dark' | 'light'; searchPlaceholder: string}> = ({\n  theme,\n  searchPlaceholder,\n}) => {\n  const location = useLocation();\n  const history = useHistory();\n  const {loading, performSearch} = useRepoSearch();\n  const {flagPipelineModeTuples} = useFeatureFlags();\n\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  const {shown, queryString, results, highlight, loaded} = state;\n\n  const numResults = results.length;\n\n  const openSearch = React.useCallback(() => dispatch({type: 'show-dialog'}), []);\n  const onChange = React.useCallback((e) => {\n    dispatch({type: 'change-query', queryString: e.target.value});\n  }, []);\n\n  React.useEffect(() => {\n    const results = performSearch(queryString, loaded);\n    dispatch({type: 'complete-search', results});\n  }, [queryString, performSearch, loaded]);\n\n  React.useEffect(() => {\n    dispatch({type: 'hide-dialog'});\n  }, [location.pathname]);\n\n  const onClickResult = React.useCallback(\n    (result: Fuse.FuseResult<SearchResult>) => {\n      dispatch({type: 'hide-dialog'});\n      history.push(result.item.href);\n    },\n    [history],\n  );\n\n  const highlightedResult = results[highlight] || null;\n\n  const onKeyDown = (e: React.KeyboardEvent) => {\n    const {key} = e;\n    if (key === 'Escape') {\n      dispatch({type: 'hide-dialog'});\n      return;\n    }\n\n    if (!numResults) {\n      return;\n    }\n\n    const lastResult = numResults - 1;\n\n    switch (key) {\n      case 'ArrowUp':\n        e.preventDefault();\n        dispatch({\n          type: 'highlight',\n          highlight: highlight === 0 ? lastResult : highlight - 1,\n        });\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        dispatch({\n          type: 'highlight',\n          highlight: highlight === lastResult ? 0 : highlight + 1,\n        });\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (highlightedResult) {\n          dispatch({type: 'hide-dialog'});\n          history.push(highlightedResult.item.href);\n        }\n    }\n  };\n\n  return (\n    <>\n      <ShortcutHandler\n        onShortcut={() => dispatch({type: 'show-dialog'})}\n        shortcutLabel=\"/\"\n        shortcutFilter={(e) => e.key === '/'}\n      >\n        <SearchTrigger onClick={openSearch} $theme={theme}>\n          <Box flex={{justifyContent: 'space-between', alignItems: 'center'}}>\n            <Group direction=\"row\" alignItems=\"center\" spacing={8}>\n              <IconWIP name=\"search\" color={ColorsWIP.Gray500} />\n              <Placeholder>{searchPlaceholder}</Placeholder>\n              <SlashShortcut $theme={theme}>{'/'}</SlashShortcut>\n            </Group>\n          </Box>\n        </SearchTrigger>\n      </ShortcutHandler>\n      <Overlay\n        backdropProps={{style: {backgroundColor: 'rgba(0, 0, 0, .35)'}}}\n        isOpen={shown}\n        onClose={() => dispatch({type: 'hide-dialog'})}\n        transitionDuration={100}\n      >\n        <Container>\n          <SearchBox hasQueryString={!!queryString.length}>\n            <IconWIP name=\"search\" color={ColorsWIP.Gray200} size={20} />\n            <SearchInput\n              autoFocus\n              spellCheck={false}\n              onChange={onChange}\n              onKeyDown={onKeyDown}\n              placeholder={\n                flagPipelineModeTuples\n                  ? 'Search jobs, schedules, sensors'\n                  : 'Search pipelines, schedules, sensors'\n              }\n              type=\"text\"\n              value={queryString}\n            />\n            {loading ? <Spinner purpose=\"body-text\" /> : null}\n          </SearchBox>\n          <SearchResults\n            highlight={highlight}\n            queryString={queryString}\n            results={results}\n            onClickResult={onClickResult}\n          />\n        </Container>\n      </Overlay>\n    </>\n  );\n};\n\nSearchDialog.defaultProps = {\n  theme: 'light',\n};\n\nconst SearchTrigger = styled.button<{$theme: 'dark' | 'light'}>`\n  background-color: ${({$theme}) => ($theme === 'light' ? Colors.WHITE : Colors.DARK_GRAY1)};\n  border: none;\n  color: ${({$theme}) => ($theme === 'light' ? Colors.GRAY1 : Colors.GRAY4)};\n  font-size: 15px;\n  font-weight: 400;\n  cursor: pointer;\n  padding: ${({$theme}) => ($theme === 'light' ? '6px 6px 6px 10px' : '4px 6px 4px 20px')};\n  outline: none;\n  user-select: none;\n  width: 100%;\n  height: 100%;\n\n  :focus {\n    border-color: ${({$theme}) => ($theme === 'light' ? Colors.BLUE3 : Colors.LIGHT_GRAY3)};\n  }\n`;\n\nconst Placeholder = styled.div`\n  position: relative;\n  top: -1px;\n`;\n\nconst Container = styled.div`\n  background-color: ${Colors.WHITE};\n  border-radius: 4px;\n  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);\n  max-height: 60vh;\n  left: calc(50% - 300px);\n  overflow: hidden;\n  width: 600px;\n  top: 20vh;\n`;\n\ninterface SearchBoxProps {\n  readonly hasQueryString: boolean;\n}\n\nconst SearchBox = styled.div<SearchBoxProps>`\n  align-items: center;\n  border-bottom: ${({hasQueryString}) =>\n    hasQueryString ? `1px solid ${Colors.LIGHT_GRAY2}` : 'none'};\n  display: flex;\n  padding: 12px 20px 12px 12px;\n`;\n\nconst SearchInput = styled.input`\n  border: none;\n  color: ${Colors.GRAY1};\n  font-family: ${FontFamily.default};\n  font-size: 18px;\n  margin-left: 4px;\n  outline: none;\n  width: 100%;\n\n  &::placeholder {\n    color: ${Colors.GRAY5};\n  }\n`;\n\nconst SlashShortcut = styled.div<{$theme: 'light' | 'dark'}>`\n  background-color: ${({$theme}) => ($theme === 'light' ? Colors.LIGHT_GRAY4 : Colors.DARK_GRAY3)};\n  border-radius: 3px;\n  color: ${({$theme}) => ($theme === 'light' ? Colors.DARK_GRAY1 : Colors.LIGHT_GRAY4)};\n  font-size: 14px;\n  font-family: ${FontFamily.monospace};\n  padding: 2px 6px;\n`;\n","import {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport {useHistory} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport navBarImage from '../images/nav-logo-icon.png';\nimport navTitleImage from '../images/nav-title.png';\nimport {VersionNumber} from '../nav/VersionNumber';\nimport {SearchDialog} from '../search/SearchDialog';\nimport {ColorsWIP} from '../ui/Colors';\nimport {Group} from '../ui/Group';\nimport {IconWIP, IconWrapper} from '../ui/Icon';\n\nimport {LayoutContext} from './LayoutProvider';\nimport {ShortcutHandler} from './ShortcutHandler';\nimport {WebSocketStatus} from './WebSocketProvider';\n\ninterface Props {\n  searchPlaceholder: string;\n}\n\nexport const AppTopNav: React.FC<Props> = ({children, searchPlaceholder}) => {\n  const history = useHistory();\n  const {nav} = React.useContext(LayoutContext);\n  const navButton = React.useRef<null | HTMLButtonElement>(null);\n\n  const onToggle = React.useCallback(() => {\n    navButton.current && navButton.current.focus();\n    nav.isOpen ? nav.close() : nav.open();\n  }, [nav]);\n\n  const onKeyDown = React.useCallback(\n    (e) => {\n      if (e.key === 'Escape' && nav.isOpen) {\n        nav.close();\n      }\n    },\n    [nav],\n  );\n\n  return (\n    <AppTopNavContainer>\n      <LogoContainer>\n        <ShortcutHandler\n          onShortcut={() => onToggle()}\n          shortcutLabel=\".\"\n          shortcutFilter={(e) => e.key === '.'}\n        >\n          <NavButton onClick={onToggle} onKeyDown={onKeyDown} ref={navButton}>\n            <IconWIP name=\"menu\" color={ColorsWIP.White} size={24} />\n          </NavButton>\n        </ShortcutHandler>\n        <Group direction=\"row\" alignItems=\"center\" spacing={12} margin={{left: 8}}>\n          <div style={{position: 'relative', top: '1px'}}>\n            <img\n              alt=\"logo\"\n              src={navBarImage}\n              style={{height: 30}}\n              onClick={() => history.push('/')}\n            />\n            <LogoWebsocketStatus />\n          </div>\n          <div>\n            <img src={navTitleImage} style={{height: 10}} alt=\"title\" />\n            <VersionNumber />\n          </div>\n        </Group>\n      </LogoContainer>\n      <SearchDialog theme=\"dark\" searchPlaceholder={searchPlaceholder} />\n      {children}\n    </AppTopNavContainer>\n  );\n};\n\nconst AppTopNavContainer = styled.div`\n  background: ${Colors.DARK_GRAY2};\n  display: flex;\n  flex-direction: row;\n  height: 48px;\n`;\n\nconst LogoContainer = styled.div`\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  width: 280px;\n  flex-shrink: 0;\n  padding: 0 0 0 4px;\n  &:hover {\n    img {\n      filter: brightness(110%);\n    }\n  }\n`;\n\nconst LogoWebsocketStatus = styled(WebSocketStatus)`\n  position: absolute;\n  top: 20px;\n  left: 24px;\n`;\n\nconst NavButton = styled.button`\n  border-radius: 20px;\n  cursor: pointer;\n  margin-left: 4px;\n  outline: none;\n  padding: 6px;\n  border: none;\n  background: transparent;\n  display: none;\n\n  ${IconWrapper} {\n    transition: color 100ms linear;\n  }\n\n  :hover ${IconWrapper} {\n    color: ${ColorsWIP.Gray500};\n  }\n\n  :active ${IconWrapper} {\n    color: ${ColorsWIP.Blue200};\n  }\n\n  :focus {\n    background: ${Colors.DARK_GRAY5};\n  }\n\n  @media (max-width: 1440px) {\n    display: block;\n  }\n`;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import {NonIdealState} from '@blueprintjs/core';\nimport React from 'react';\nimport {Redirect, Route, RouteComponentProps, Switch} from 'react-router-dom';\n\nimport {WorkspaceContext} from '../workspace/WorkspaceContext';\nimport {workspacePipelinePath} from '../workspace/workspacePath';\n\nconst InstanceRedirect = (props: RouteComponentProps<any>) => {\n  const {location} = props;\n  const path = `${location.pathname}${location.search}`;\n  return <Redirect to={`/instance${path}`} />;\n};\n\nexport const FallthroughRoot = () => {\n  return (\n    <Switch>\n      <Route path={['/runs/(.*)?', '/assets/(.*)?', '/scheduler']} component={InstanceRedirect} />\n      <WorkspaceContext.Consumer>\n        {(context) => {\n          const firstRepo = context.allRepos[0] || null;\n          if (firstRepo?.repository.pipelines.length) {\n            const first = firstRepo.repository.pipelines[0];\n            return (\n              <Redirect\n                to={workspacePipelinePath(\n                  firstRepo.repository.name,\n                  firstRepo.repositoryLocation.name,\n                  first.name,\n                  first.modes[0].name,\n                )}\n              />\n            );\n          }\n          return <Route render={() => <NonIdealState title=\"No pipelines\" />} />;\n        }}\n      </WorkspaceContext.Consumer>\n    </Switch>\n  );\n};\n","import * as React from 'react';\nimport {Route, Switch} from 'react-router-dom';\n\nimport {FallthroughRoot} from './FallthroughRoot';\n\nconst InstanceRoot = React.lazy(() => import('../instance/InstanceRoot'));\nconst SettingsRoot = React.lazy(() => import('../app/SettingsRoot'));\nconst WorkspaceRoot = React.lazy(() => import('../workspace/WorkspaceRoot'));\n\nexport const ContentRoot = React.memo(() => (\n  <React.Suspense fallback={<div />}>\n    <Switch>\n      <Route path=\"/instance\" component={InstanceRoot} />\n      <Route path=\"/workspace\" component={WorkspaceRoot} />\n      <Route path=\"/settings\" component={SettingsRoot} />\n      <Route path=\"*\" component={FallthroughRoot} />\n    </Switch>\n  </React.Suspense>\n));\n","import {ApolloLink} from '@apollo/client';\n\nimport {formatElapsedTime, debugLog} from './Util';\n\nexport const logLink = new ApolloLink((operation, forward) =>\n  forward(operation).map((data) => {\n    const time = performance.now() - operation.getContext().start;\n    debugLog(`${operation.operationName} took ${formatElapsedTime(time)}`, {operation, data});\n    return data;\n  }),\n);\n\nexport const timeStartLink = new ApolloLink((operation, forward) => {\n  operation.setContext({start: performance.now()});\n  return forward(operation);\n});\n","// Before anything else, set the webpack public path.\nimport './publicPath';\n\nimport {Colors, Icon} from '@blueprintjs/core';\nimport {App} from '@dagit/core/app/App';\nimport {createAppCache} from '@dagit/core/app/AppCache';\nimport {errorLink} from '@dagit/core/app/AppError';\nimport {AppProvider} from '@dagit/core/app/AppProvider';\nimport {AppTopNav} from '@dagit/core/app/AppTopNav';\nimport {ContentRoot} from '@dagit/core/app/ContentRoot';\nimport {logLink, timeStartLink} from '@dagit/core/app/apolloLinks';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {extractPathPrefix} from './extractPathPrefix';\n\nconst pathPrefix = extractPathPrefix();\n\nconst apolloLinks = [logLink, errorLink, timeStartLink];\n\nconst config = {\n  apolloLinks,\n  basePath: pathPrefix,\n  origin: process.env.REACT_APP_BACKEND_ORIGIN || document.location.origin,\n};\n\nconst appCache = createAppCache();\n\nconst SettingsLink = styled(Link)`\n  background-color: ${Colors.DARK_GRAY1};\n  padding: 15px;\n\n  .bp3-icon svg {\n    transition: fill 50ms linear;\n  }\n\n  &:hover .bp3-icon svg {\n    fill: ${Colors.GRAY4};\n  }\n\n  &:active .bp3-icon svg {\n    fill: ${Colors.GRAY5};\n  }\n`;\n\nReactDOM.render(\n  <AppProvider appCache={appCache} config={config}>\n    <AppTopNav searchPlaceholder=\"Search\">\n      <SettingsLink to=\"/settings\" title=\"User settings\">\n        <Icon icon=\"cog\" iconSize={16} color={Colors.GRAY2} />\n      </SettingsLink>\n    </AppTopNav>\n    <App>\n      <ContentRoot />\n    </App>\n  </AppProvider>,\n  document.getElementById('root'),\n);\n","import {InMemoryCache, defaultDataIdFromObject} from '@apollo/client';\n\n// this is a require cause otherwise it breaks\nimport possibleTypes from '../graphql/possibleTypes.generated.json';\n\nexport const createAppCache = () =>\n  new InMemoryCache({\n    addTypename: true,\n    possibleTypes,\n    typePolicies: {\n      Query: {\n        fields: {\n          pipeline: (_, {args, toReference}) => {\n            return toReference({__typename: 'Pipeline', name: args?.name});\n          },\n          type: (_, {args}) => {\n            // That's \"IdValue\" from '@apollo/client/utilities'.\n            // Magical thing to make it work with interfaces, getCacheKey gets\n            // incorrect typename and breaks\n            return {\n              type: 'id',\n              generated: true,\n              id: `Type.${args?.typeName}`,\n            };\n          },\n        },\n      },\n    },\n    dataIdFromObject: (object: any) => {\n      if (\n        object.name &&\n        (object.__typename === 'RegularType' || object.__typename === 'CompositeType')\n      ) {\n        return `Type.${object.name}`;\n      } else if (object.__typename === 'Instance') {\n        return 'Instance';\n      } else if (object.__typename === 'Workspace') {\n        return 'Workspace';\n      } else {\n        return defaultDataIdFromObject(object);\n      }\n    },\n  });\n","import {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components/macro';\n\nconst MODIFIER_KEYCODES = [17, 18, 91, 224];\nconst SHORTCUT_VISIBILITY_EVENT_TYPE = 'shortcut-visibility';\nconst SHORTCUT_VISIBLITY_DELAY = 800;\n\n// Global page state / handling of \"shortcut mode\". Press any modifier key\n// for 800ms to show shortcuts. This code emits a custom event that React\n// components on the page can listen for to update their states and vends\n// the current state via getShortcutsVisible. (Always having a correct\n// \"initial state\" based on previous keyboard events is why this cannot be\n// implemented inside a React component.\n//\nlet shortcutsVisible = false;\nlet shortcutsTimer: NodeJS.Timeout | null = null;\n\nfunction getShortcutsVisible() {\n  return shortcutsVisible;\n}\n\nfunction setShortcutsVisible(state: boolean) {\n  shortcutsVisible = state;\n  window.dispatchEvent(new CustomEvent(SHORTCUT_VISIBILITY_EVENT_TYPE));\n}\n\nfunction hideShortcuts() {\n  if (shortcutsTimer) {\n    clearTimeout(shortcutsTimer);\n    shortcutsTimer = null;\n  }\n  if (shortcutsVisible) {\n    setShortcutsVisible(false);\n  }\n}\n\nconst otherModifiersUsed = (event: KeyboardEvent) => {\n  const {key} = event;\n  return (\n    event.shiftKey ||\n    (key !== 'Alt' && event.altKey) ||\n    (key !== 'Ctrl' && event.ctrlKey) ||\n    (key !== 'Meta' && event.metaKey)\n  );\n};\n\nwindow.addEventListener('keydown', (event) => {\n  const isModifier = MODIFIER_KEYCODES.includes(event.keyCode);\n  if (!isModifier || otherModifiersUsed(event)) {\n    // If any non-modifiers are pressed or if multiple modifiers are in use, kill the timeout\n    // and hide the shortcuts.\n    hideShortcuts();\n  } else if (!shortcutsTimer && !shortcutsVisible) {\n    shortcutsTimer = setTimeout(() => setShortcutsVisible(true), SHORTCUT_VISIBLITY_DELAY);\n  }\n});\nwindow.addEventListener('keyup', (event) => {\n  if (MODIFIER_KEYCODES.includes(event.keyCode)) {\n    hideShortcuts();\n  }\n});\nwindow.addEventListener('blur', () => {\n  hideShortcuts();\n});\n\ninterface ShortcutHandlerProps {\n  // Optionally pass onGlobalKeyDown to receive every global key event\n  onGlobalKeyDown?: (event: KeyboardEvent) => void;\n\n  // Optionally pass onShortcut and shortcutFilter to receive key events\n  // that match the shortcutFilter test with preventDefault() already called.\n  // This allows you to co-locate the shortcut label and event test code.\n  onShortcut?: (event: KeyboardEvent) => void;\n  shortcutFilter?: (event: KeyboardEvent) => boolean;\n\n  // Pass a shortcutLabel for the item to be highlighted during shortcut preview.\n  shortcutLabel?: string;\n}\n\ninterface ShortcutHandlerState {\n  previewPosition: null | {left: number; top: number};\n}\n\nexport class ShortcutHandler extends React.Component<ShortcutHandlerProps, ShortcutHandlerState> {\n  state: ShortcutHandlerState = {\n    previewPosition: null,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onGlobalKeydown);\n    window.addEventListener(SHORTCUT_VISIBILITY_EVENT_TYPE, this.onShortcutVisiblityChange);\n    this.onShortcutVisiblityChange();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onGlobalKeydown);\n    window.removeEventListener(SHORTCUT_VISIBILITY_EVENT_TYPE, this.onShortcutVisiblityChange);\n  }\n\n  onShortcutVisiblityChange = () => {\n    if (getShortcutsVisible()) {\n      // Deprecated one day, but not likely to be soon? Alternative is to React.cloneElement\n      // and attach a ref prop to `children` without wrapping it in another DOM node, but\n      // we can't be sure we get a DOM node and not a React component ref. @BG\n      // https://reactjs.org/docs/refs-and-the-dom.html#exposing-dom-refs-to-parent-components\n      // eslint-disable-next-line react/no-find-dom-node\n      const el = ReactDOM.findDOMNode(this);\n      if (!el || !(el instanceof HTMLElement)) {\n        return;\n      }\n      const rect = el.getBoundingClientRect();\n      this.setState({\n        previewPosition: {\n          left: rect.left + rect.width,\n          top: rect.top + rect.height,\n        },\n      });\n    } else if (this.state.previewPosition !== null) {\n      this.setState({previewPosition: null});\n    }\n  };\n\n  onGlobalKeydown = (event: KeyboardEvent) => {\n    const {target} = event;\n\n    const inTextInput =\n      target &&\n      ((target as HTMLElement).nodeName === 'INPUT' ||\n        (target as HTMLElement).nodeName === 'TEXTAREA');\n\n    if (inTextInput && !(event.altKey || event.ctrlKey || event.metaKey)) {\n      return;\n    }\n\n    this.props.onGlobalKeyDown?.(event);\n\n    if (this.props.onShortcut && this.props.shortcutFilter && this.props.shortcutFilter(event)) {\n      event.preventDefault();\n\n      // Pull the focus out of the currently focused field (if there is one). This better\n      // simulates typical onClick behavior where the button is focused by mousedown before\n      // the click so shortcut activation doesn't need to be  tested separately. It also\n      // ensures the value of the codemirror / text input is \"committed\" before the click.\n      if (document.activeElement instanceof HTMLElement) {\n        document.activeElement.blur();\n      }\n\n      this.props.onShortcut(event);\n    }\n  };\n\n  render() {\n    const {children, shortcutLabel} = this.props;\n    const {previewPosition} = this.state;\n\n    if (shortcutLabel && previewPosition) {\n      return (\n        <>\n          {children}\n          <ShortcutAnnotation style={{top: previewPosition.top, left: previewPosition.left}}>\n            {shortcutLabel}\n          </ShortcutAnnotation>\n        </>\n      );\n    }\n    return <>{children}</>;\n  }\n}\n\nconst ShortcutAnnotation = styled.div`\n  position: fixed;\n  min-width: 32px;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 14px;\n  text-align: center;\n  padding: 2px;\n  z-index: 20;\n  transform: translate(-90%, -10px);\n  color: ${Colors.LIGHT_GRAY3};\n  background: ${Colors.DARK_GRAY4};\n  border: 1px solid ${Colors.GRAY4};\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n`;\n","// eslint-disable-next-line no-restricted-imports\nimport {Spinner as BlueprintSpinner} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {ColorsWIP} from './Colors';\n\ntype SpinnerPurpose = 'page' | 'section' | 'body-text' | 'caption-text';\n\nexport const Spinner: React.FC<{\n  purpose: SpinnerPurpose;\n  value?: number;\n  fillColor?: string;\n}> = ({purpose, value, fillColor = ColorsWIP.Gray600}) => {\n  const size = () => {\n    switch (purpose) {\n      case 'page':\n        return 80;\n      case 'section':\n        return 32;\n      case 'caption-text':\n        return 10;\n      case 'body-text':\n      default:\n        return 12;\n    }\n  };\n\n  const padding = () => {\n    switch (purpose) {\n      case 'caption-text':\n        return 1;\n      case 'body-text':\n        return 2;\n      default:\n        return 0;\n    }\n  };\n\n  return (\n    <SpinnerWrapper $padding={padding()}>\n      <SlowSpinner size={size()} value={value} $fillColor={fillColor} />\n    </SpinnerWrapper>\n  );\n};\n\nexport const SpinnerWrapper = styled.div<{$padding: number}>`\n  padding: ${({$padding}) => $padding}px;\n`;\n\nconst SlowSpinner = styled(BlueprintSpinner)<{$fillColor: string}>`\n  .bp3-spinner-animation {\n    animation-duration: 0.8s;\n\n    path.bp3-spinner-track {\n      stroke: ${(p) => p.$fillColor};\n      stroke-opacity: 0.25;\n    }\n    path.bp3-spinner-head {\n      stroke: ${(p) => p.$fillColor};\n      stroke-opacity: 1;\n    }\n  }\n`;\n","import {Button, Classes, Colors, Dialog} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {FontFamily} from '../ui/styles';\n\nimport {copyValue} from './DomUtils';\n\nconst CURRENT_ALERT_CHANGED = 'alert-changed';\n\ninterface ICustomAlert {\n  body: React.ReactNode | string;\n  title: string;\n  copySelector?: string;\n}\n\nlet CurrentAlert: ICustomAlert | null = null;\n\nconst setCustomAlert = (alert: ICustomAlert | null) => {\n  CurrentAlert = alert;\n  document.dispatchEvent(new CustomEvent(CURRENT_ALERT_CHANGED));\n};\n\nexport const showCustomAlert = (opts: Partial<ICustomAlert>) => {\n  setCustomAlert(Object.assign({body: '', title: 'Error'}, opts));\n};\n\nexport class CustomAlertProvider extends React.Component {\n  state = {alert: CurrentAlert};\n\n  bodyRef = React.createRef<HTMLDivElement>();\n\n  componentDidMount() {\n    document.addEventListener(CURRENT_ALERT_CHANGED, () => this.setState({alert: CurrentAlert}));\n  }\n\n  render() {\n    const alert = this.state.alert;\n\n    return (\n      <Dialog\n        icon={alert ? 'info-sign' : undefined}\n        usePortal={true}\n        onClose={() => setCustomAlert(null)}\n        style={{width: 'auto', maxWidth: '80vw'}}\n        title={alert ? alert.title : ''}\n        isOpen={!!alert}\n      >\n        <Body ref={this.bodyRef}>{alert ? alert.body : undefined}</Body>\n        <div className={Classes.DIALOG_FOOTER}>\n          <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button\n              autoFocus={false}\n              onClick={(e: React.MouseEvent<any, MouseEvent>) => {\n                const copyElement = alert?.copySelector\n                  ? this.bodyRef.current!.querySelector(alert.copySelector)\n                  : this.bodyRef.current;\n                const copyText =\n                  copyElement instanceof HTMLElement\n                    ? copyElement.innerText\n                    : copyElement?.textContent;\n                copyValue(e, copyText || '');\n              }}\n            >\n              Copy\n            </Button>\n            <Button intent=\"primary\" autoFocus={true} onClick={() => setCustomAlert(null)}>\n              OK\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nconst Body = styled.div`\n  white-space: pre-line;\n  font-family: ${FontFamily.monospace};\n  font-size: 16px;\n  overflow: scroll;\n  background: ${Colors.WHITE};\n  border-top: 1px solid ${Colors.LIGHT_GRAY3};\n  padding: 20px;\n  margin: 0;\n  margin-bottom: 20px;\n`;\n","import {Colors} from '@blueprintjs/core';\nimport * as React from 'react';\nimport styled, {css} from 'styled-components/macro';\n\ntype Color =\n  | string\n  | {\n      link: string;\n      hover?: string;\n      active?: string;\n    };\n\ntype Underline = 'never' | 'always' | 'hover';\n\ninterface Props {\n  color: Color;\n  underline?: Underline;\n}\n\nconst fontColor = (color: Color) => {\n  if (typeof color === 'string') {\n    return css`\n      color: ${color};\n    `;\n  }\n\n  const {link, hover, active} = color;\n  return css`\n    color: ${link};\n    ${hover ? `&:hover { color: ${hover}; }` : null}\n    ${active ? `&:active { color: ${active}; }` : null}\n  `;\n};\n\nconst outlineColor = (color: Color) => {\n  if (typeof color === 'string') {\n    return color;\n  }\n  return color.link;\n};\n\nconst textDecoration = (underline: Underline) => {\n  switch (underline) {\n    case 'always':\n      return css`\n        text-decoration: underline;\n      `;\n    case 'hover':\n      return css`\n        &:hover {\n          text-decoration: underline;\n        }\n      `;\n    case 'never':\n    default:\n      return null;\n  }\n};\n\nexport const ButtonLink = styled(({color, underline, ...rest}) => <button {...rest} />)<Props>`\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  font-size: inherit;\n  line-height: 1;\n  padding: 0;\n  text-align: left;\n\n  &:active,\n  &:focus {\n    outline: none;\n  }\n\n  &:focus-visible {\n    outline: 1px auto ${({color}) => outlineColor(color)};\n    outline-offset: 2px;\n  }\n\n  transition: 30ms color linear;\n\n  ${({color}) => fontColor(color)}\n  ${({underline}) => textDecoration(underline)}\n`;\n\nButtonLink.defaultProps = {\n  color: Colors.BLUE2,\n  underline: 'hover',\n};\n","import LRU from 'lru-cache';\n\nimport {featureEnabled, FeatureFlag} from './Flags';\n\nfunction twoDigit(v: number) {\n  return `${v < 10 ? '0' : ''}${v}`;\n}\n\nexport const formatElapsedTime = (msec: number) => {\n  if (msec < 10000) {\n    return `${(msec / 1000).toLocaleString(navigator.language, {\n      minimumFractionDigits: 3,\n      maximumFractionDigits: 3,\n    })}s`;\n  }\n\n  const sec = Math.round(msec / 1000) % 60;\n  const min = Math.floor(msec / 1000 / 60) % 60;\n  const hours = Math.floor(msec / 1000 / 60 / 60);\n  return `${hours}:${twoDigit(min)}:${twoDigit(sec)}`;\n};\n\nexport function breakOnUnderscores(str: string) {\n  return str.replace(/_/g, '_\\u200b');\n}\n\nexport function patchCopyToRemoveZeroWidthUnderscores() {\n  document.addEventListener('copy', (event) => {\n    if (!event.clipboardData) {\n      // afaik this is always defined, but the TS field is optional\n      return;\n    }\n\n    // Note: This returns the text of the current selection if DOM\n    // nodes are selected. If the selection on the page is text within\n    // codemirror or an input or textarea, this returns \"\" and we fall\n    // through to the default pasteboard content.\n    const text = (window.getSelection() || '').toString().replace(/_\\u200b/g, '_');\n\n    if (text.length) {\n      event.preventDefault();\n      event.clipboardData.setData('Text', text);\n    }\n  });\n}\n\nexport function asyncMemoize<T, R>(\n  fn: (arg: T, ...rest: any[]) => PromiseLike<R>,\n  hashFn?: (arg: T, ...rest: any[]) => any,\n  hashSize?: number,\n): (arg: T, ...rest: any[]) => Promise<R> {\n  const cache = new LRU(hashSize || 50);\n  return async (arg: T, ...rest: any[]) => {\n    const key = hashFn ? hashFn(arg, ...rest) : arg;\n    if (cache.has(key)) {\n      return Promise.resolve(cache.get(key) as R);\n    }\n    const r = (await fn(arg, ...rest)) as R;\n    cache.set(key, r);\n    return r;\n  };\n}\n\n// Simple memoization function for methods that take a single object argument.\n// Returns a memoized copy of the provided function which retrieves the result\n// from a cache after the first invocation with a given object.\n//\n// Uses WeakMap to tie the lifecycle of the cache to the lifecycle of the\n// object argument.\n//\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function weakmapMemoize<T extends object, R>(\n  fn: (arg: T, ...rest: any[]) => R,\n): (arg: T, ...rest: any[]) => R {\n  const cache = new WeakMap();\n  return (arg: T, ...rest: any[]) => {\n    if (cache.has(arg)) {\n      return cache.get(arg);\n    }\n    const r = fn(arg, ...rest);\n    cache.set(arg, r);\n    return r;\n  };\n}\n\nexport function assertUnreachable(_: never): never {\n  throw new Error(\"Didn't expect to get here\");\n}\n\nexport function debugLog(...args: any[]) {\n  if (featureEnabled(FeatureFlag.flagDebugConsoleLogging)) {\n    console.log(...args);\n  }\n}\n\nexport function colorHash(str: string) {\n  let seed = 0;\n  for (let i = 0; i < str.length; i++) {\n    seed = ((seed << 5) - seed + str.charCodeAt(i)) | 0;\n  }\n\n  const random255 = (x: number) => {\n    const value = Math.sin(x) * 10000;\n    return 255 * (value - Math.floor(value));\n  };\n\n  return `rgb(${random255(seed++)}, ${random255(seed++)}, ${random255(seed++)})`;\n}\n","import {Colors} from '@blueprintjs/core';\nimport styled from 'styled-components/macro';\n\nimport {FontFamily} from './styles';\n\ninterface TextProps {\n  color?: string;\n}\n\nexport const Heading = styled.span<TextProps>`\n  font-size: 28px;\n  font-weight: 700;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n`;\n\nexport const Subheading = styled.span<TextProps>`\n  font-size: 20px;\n  font-weight: 700;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n`;\n\nexport const Body = styled.span<TextProps>`\n  ${({color}) => (color ? `color: ${color};` : null)}\n  font-family: ${FontFamily.default};\n  font-size: 14px;\n`;\n\nexport const Caption = styled.span<TextProps>`\n  ${({color}) => (color ? `color: ${color};` : null)}\n  font-family: ${FontFamily.default};\n  font-size: 12px;\n`;\n\nexport const Code = styled.span`\n  background-color: ${Colors.LIGHT_GRAY4};\n  border-radius: 3px;\n  font-family: ${FontFamily.monospace};\n  font-size: 14px;\n  padding: 2px 4px;\n`;\n\nexport const Mono = styled.span`\n  font-family: ${FontFamily.monospace};\n  font-size: 16px;\n`;\n","import memoize from 'lodash/memoize';\n\nimport {buildRepoPath} from './buildRepoAddress';\nimport {RepoAddress} from './types';\n\nexport const repoAddressAsString = memoize((repoAddress: RepoAddress) =>\n  buildRepoPath(repoAddress.name, repoAddress.location),\n);\n","import {Position} from '@blueprintjs/core';\nimport {Tooltip2 as Tooltip} from '@blueprintjs/popover2';\nimport * as React from 'react';\n\nimport {Tag} from '../ui/Tag';\n\nexport enum DagsterTag {\n  Namespace = 'dagster/',\n  Backfill = 'dagster/backfill',\n  SolidSelection = 'dagster/solid_selection',\n  StepSelection = 'dagster/step_selection',\n  PartitionSet = 'dagster/partition_set',\n  Partition = 'dagster/partition',\n  IsResumeRetry = 'dagster/is_resume_retry',\n  PresetName = 'dagster/preset_name',\n  ParentRunId = 'dagster/parent_run_id',\n  RootRunId = 'dagster/root_run_id',\n  ScheduleName = 'dagster/schedule_name',\n  SensorName = 'dagster/sensor_name',\n}\n\ninterface IRunTagProps {\n  tag: {\n    key: string;\n    value: string;\n  };\n  onClick?: (tag: {key: string; value: string}) => void;\n}\n\nexport const RunTag = ({tag, onClick}: IRunTagProps) => {\n  const isDagsterTag = tag.key.startsWith(DagsterTag.Namespace);\n  const displayTag = isDagsterTag\n    ? {key: tag.key.substr(DagsterTag.Namespace.length), value: tag.value}\n    : tag;\n\n  const onTagClick = () => {\n    onClick && onClick(tag);\n  };\n\n  if (isDagsterTag) {\n    return (\n      <Tooltip content={`${tag.key}=${tag.value}`} targetTagName=\"div\" position={Position.LEFT}>\n        <Tag isDagsterTag={isDagsterTag} onClick={onTagClick} tag={displayTag} />\n      </Tooltip>\n    );\n  }\n\n  return <Tag isDagsterTag={isDagsterTag} onClick={onTagClick} tag={displayTag} />;\n};\n","import {Intent, Position, Toaster} from '@blueprintjs/core';\n\nexport const SharedToaster = Toaster.create({position: Position.TOP}, document.body);\n\nexport async function copyValue(event: React.MouseEvent<any>, value: string) {\n  event.preventDefault();\n\n  const el = document.createElement('textarea');\n  document.body.appendChild(el);\n  el.value = value;\n  el.select();\n  document.execCommand('copy');\n  el.remove();\n\n  SharedToaster.show({\n    message: 'Copied to clipboard!',\n    icon: 'clipboard',\n    intent: Intent.NONE,\n  });\n}\n"],"sourceRoot":""}